"use strict";(self.webpackChunkkrnl_website=self.webpackChunkkrnl_website||[]).push([[831],{3127:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var n=s(4108),r=s(5861),a=s(9439),l=s(4889),c=s(9806),i=s(2791),o=s(7087),u=s(4325),d=s(1425),x=s(1541),f=s(3363),m=s.p+"static/media/silence.434cb1544ca911aafbb0.mp3",h=s(573),p=s(9650),w=s(184);function j(e){var t=e.from,s=e.hideDays,n=e.pause,r=e.forceZero,l=i.useState({days:0,hours:0,minutes:0,seconds:0}),c=(0,a.Z)(l,2),o=c[0],u=c[1];return i.useEffect((function(){var e=function(){if(!n)if(r)u({days:0,hours:0,minutes:0,seconds:0});else{var e=(new Date).getTime()-t.getTime(),a=0;!1===s&&(e-=864e5*(a=Math.floor(e/864e5)));var l=Math.floor(e/36e5);e-=36e5*l;var c=Math.floor(e/6e4);e-=6e4*c;var i=Math.floor(e/1e3);u({days:(0,p.Z)(a,0,99),hours:(0,p.Z)(l,0,99),minutes:(0,p.Z)(c,0,99),seconds:(0,p.Z)(i,0,99)})}};e();var a=setInterval(e,1e3);return function(){return clearInterval(a)}}),[t,s,n,r]),s?(0,w.jsxs)("span",{className:"countdown font-mono",children:[(0,w.jsx)("span",{style:{"--value":o.hours}}),"h",(0,w.jsx)("span",{style:{"--value":o.minutes}}),"m",(0,w.jsx)("span",{style:{"--value":o.seconds}}),"s"]}):(0,w.jsxs)("span",{className:"countdown font-mono",children:[(0,w.jsx)("span",{style:{"--value":o.days}}),"d",(0,w.jsx)("span",{style:{"--value":o.hours}}),"h",(0,w.jsx)("span",{style:{"--value":o.minutes}}),"m",(0,w.jsx)("span",{style:{"--value":o.seconds}}),"s"]})}j.defaultProps={hideDays:!1,pause:!1,forceZero:!1};var v=j,y=s(9085);function N(){var e=i.useState([]),t=(0,a.Z)(e,2),s=t[0],d=t[1],m=i.useState(!0),h=(0,a.Z)(m,2),p=h[0],j=h[1],v=i.useState(""),y=(0,a.Z)(v,2),N=y[0],b=y[1],g=i.useState([]),Z=(0,a.Z)(g,2),_=Z[0],k=Z[1],S=i.useState(window.player.requests_core.status),q=(0,a.Z)(S,2),C=q[0],D=q[1],L=i.useState(window.player.requests_core.probable_next_request),F=(0,a.Z)(L,2),M=F[0],E=F[1];return(0,i.useEffect)((function(){window.player.requests_core.get_tracks().then((function(e){d(e),k(e),j(!1)}))}),[]),(0,i.useEffect)((function(){k(""===N?s:s.filter((function(e){return e.title.toLowerCase().includes(N.toLowerCase())||e.artist.toLowerCase().includes(N.toLowerCase())})))}),[N,s]),(0,i.useEffect)((function(){var e=setInterval((function(){window.player.requests_core.update_throttle_status(),D(window.player.requests_core.status),E(window.player.requests_core.probable_next_request)}),1e3);return function(){clearInterval(e)}}),[]),(0,w.jsxs)("div",{className:"flex flex-col w-full",children:[(0,w.jsx)("div",{className:"text-2xl text-white",children:"Request a Song"}),(0,w.jsx)("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full",onChange:function(e){return b(e.target.value)}}),"temporary_throttled"===C||"daily_throttled"===C?(0,w.jsxs)("div",{className:"text-xl text-white",children:["You've been throttled! Try again in about"," ",(0,w.jsx)(u.Z,{to:M,hideDays:!0})]}):(0,w.jsx)(w.Fragment,{}),(0,w.jsxs)("div",{className:"overscroll-contain overflow-auto h-96",children:[p?(0,x.z3)():_.map((function(e){var t;return(0,w.jsxs)("div",{className:"flex flex-row items-center border-t p-2 w-full",children:[(0,w.jsx)(o.LazyLoadImage,{src:null!==(t=e.artwork.url)&&void 0!==t?t:f,className:"w-16 h-16 rounded-lg",alt:"",effect:"opacity",placeholder:(0,w.jsx)(x.yM,{})}),(0,w.jsxs)("div",{className:"flex flex-col px-4",children:[(0,w.jsx)("div",{className:"text-white",children:e.title}),(0,w.jsx)("div",{className:"text-white",children:e.artist})]}),(0,w.jsx)("div",{className:"flex flex-row items-center justify-end flex-grow",children:(0,w.jsx)(c.G,{onClick:(0,r.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.player.requests_core.request(e.id);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:D(window.player.requests_core.status),E(window.player.requests_core.probable_next_request);case 9:case"end":return t.stop()}}),t,null,[[0,5]])}))),icon:l.XS,className:"text-white text-xl p-2 cursor-pointer"})})]},e.id)})),0===_.length&&0!==s.length?(0,w.jsx)("div",{className:"text-white text-xl",children:"No results found"}):(0,w.jsx)(w.Fragment,{}),0===s.length?(0,w.jsx)("div",{className:"text-white text-xl",children:"Requests disabled!"}):(0,w.jsx)(w.Fragment,{})]})]})}var b=function(){var e=i.useState(!1),t=(0,a.Z)(e,2),s=t[0],l=t[1],c=i.useState(!1),o=(0,a.Z)(c,2),x=o[0],p=o[1],j=i.useState(!1),b=(0,a.Z)(j,2),g=b[0],Z=b[1],_=i.useState("Loading..."),k=(0,a.Z)(_,2),S=k[0],q=k[1],C=i.useState("Loading..."),D=(0,a.Z)(C,2),L=D[0],F=D[1],M=i.useState(f),E=(0,a.Z)(M,2),P=E[0],R=E[1],A=i.useState(null),T=(0,a.Z)(A,2),I=T[0],O=T[1],z=i.useState(new Date),Y=(0,a.Z)(z,2),G=Y[0],J=Y[1],K=i.useState(!1),X=(0,a.Z)(K,2),B=X[0],H=X[1];return(0,i.useEffect)((function(){window.player.start_fast_refresh();var e=function(e){L!==e.host_string&&(F(e.host_string),"Loading..."!==e.host_string&&"Max Jr."!==e.host_string?x&&Z(!0):x&&Z(!1))};window.player.on("metadata",e);var t=function(e){O((0,h.Ai)()[0]||(0,h.Y0)()[0]),H((0,h.Ai)().length>0),q(e.title),R(e.album_art)};return window.player.on("current_track",t),function(){window.player.stop_refreshing(),window.player.unbind("metadata",e),window.player.unbind("current_track",t)}})),(0,i.useEffect)((function(){J(new Date),window.player.volume(1),g?window.player.play():window.player.unload()}),[g]),(0,w.jsxs)("div",{children:[(0,w.jsx)(d.Z,{}),(0,w.jsx)("h1",{className:"text-4xl text-center",children:"KRNL Dev Player"}),(0,w.jsx)("h2",{className:"text-2xl text-center",children:"For the info desk and/or totallynotmark6!"}),(0,w.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[s?(0,w.jsx)("div",{className:"btn btn-disabled btn-primary mx-2","data-theme":"dark",children:"Primed"}):(0,w.jsx)("button",{className:"btn btn-primary mx-2",onClick:(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),t=new Audio(m),e.next=4,t.play();case 4:case"end":return e.stop()}}),e)}))),children:"Prime"}),(0,w.jsx)("label",{htmlFor:"requests-modal",className:"btn btn-secondary mx-2 cursor-pointer",id:"requests-modal-icon",children:"Open Request Menu"})]}),s?(0,w.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[x?(0,w.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){return p(!1)},children:"Stop Monitoring"}):(0,w.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){return p(!0)},children:"Start Monitoring"}),g?(0,w.jsx)("button",{className:"btn btn-secondary mx-2",onClick:function(){return Z(!1)},children:"Pause"}):(0,w.jsx)("button",{className:"btn btn-accent mx-2",onClick:function(){return Z(!0)},children:"Play"})]}):(0,w.jsx)(w.Fragment,{}),(0,w.jsx)("div",{className:"text-xl text-center",children:(0,w.jsx)(v,{from:G,forceZero:!g})}),(0,w.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[(0,w.jsx)("img",{src:P,alt:"Album Art",className:"rounded-lg object-cover place-self-center w-1/12 h-1/12 select-none pointer-events-none transition duration-500 "+(g?"":" filter grayscale")}),(0,w.jsxs)("div",{className:"flex flex-col justify-center mx-4",children:[(0,w.jsx)("div",{className:"text-2xl text-center",children:S}),(0,w.jsx)("div",{className:"text-xl text-center",children:L})]})]}),(0,w.jsx)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:(0,w.jsxs)("div",{className:"flex flex-col justify-center mx-4",children:[(0,w.jsx)("div",{className:"text-3xl text-center",children:"Next Scheduled Show"}),I?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"text-2xl text-center",children:I.name}),(0,w.jsx)("div",{className:"text-xl text-center",children:I.hosts.map((function(e){return e.name})).join(" & ")}),(0,w.jsx)("div",{className:"text-xl text-center",children:B?(0,w.jsxs)("div",{className:"text-red-400",children:[(0,w.jsx)("div",{children:"Ends in:"}),(0,w.jsx)(u.Z,{to:I.schedule.endToDate()||new Date,hideDays:!1})]}):(0,w.jsx)(u.Z,{to:I.schedule.getNextOccurance()||new Date,hideDays:!1})})]}):(0,w.jsx)("div",{className:"text-xl text-center",children:"No shows scheduled"})]})}),(0,w.jsx)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:(0,w.jsx)("button",{className:"btn btn-error mx-2",onClick:(0,r.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.Am.promise(new Promise((function(e,t){setTimeout(t,2760)})),{pending:"Running func setupNotifs()",success:"it worked",error:"it failed!!!!!1!1"});case 2:case"end":return e.stop()}}),e)}))),children:"Run Dev Func (DO NOT PRESS)"})}),(0,w.jsx)("input",{type:"checkbox",id:"requests-modal",className:"modal-toggle","data-theme":"luxury"}),(0,w.jsx)("div",{className:"modal modal-middle","data-theme":"luxury",children:(0,w.jsxs)("div",{className:"modal-box",children:[(0,w.jsx)("div",{className:"flex flex-row items-center",children:(0,w.jsx)(N,{})}),(0,w.jsx)("div",{className:"modal-action",children:(0,w.jsx)("label",{htmlFor:"requests-modal",className:"btn",children:"Close"})})]})})]})}},3363:function(e,t,s){e.exports=s.p+"static/media/placeholder.0f8aa0177050bfec15f4.jpg"}}]);
//# sourceMappingURL=831.7e5b1f73.chunk.js.map