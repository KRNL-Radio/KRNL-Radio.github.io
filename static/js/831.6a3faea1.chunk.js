"use strict";(self.webpackChunkkrnl_website=self.webpackChunkkrnl_website||[]).push([[831],{4325:function(e,t,s){var n=s(9439),a=s(2791),r=s(9650),l=s(184);function c(e){var t=e.to,s=e.hideDays,c=e.children,i=a.useState({days:0,hours:0,minutes:0,seconds:0}),o=(0,n.Z)(i,2),u=o[0],d=o[1],x=a.useState(!1),f=(0,n.Z)(x,2),m=f[0],h=f[1];return a.useEffect((function(){var e=function(){var e=new Date,n=t.getTime()-e.getTime();n<0&&(n=0),0===n&&!1===m&&h(!0);var a=0;!1===s&&(n-=864e5*(a=Math.floor(n/864e5)));var l=Math.floor(n/36e5);n-=36e5*l;var c=Math.floor(n/6e4);n-=6e4*c;var i=Math.floor(n/1e3);d({days:(0,r.Z)(a,0,99),hours:(0,r.Z)(l,0,99),minutes:(0,r.Z)(c,0,99),seconds:(0,r.Z)(i,0,99)})};e();var n=setInterval(e,1e3);return function(){return clearInterval(n)}}),[t,s,m]),m&&c?(0,l.jsx)(l.Fragment,{children:c}):s?(0,l.jsxs)("span",{className:"countdown font-mono",children:[(0,l.jsx)("span",{style:{"--value":u.hours}}),"h",(0,l.jsx)("span",{style:{"--value":u.minutes}}),"m",(0,l.jsx)("span",{style:{"--value":u.seconds}}),"s"]}):(0,l.jsxs)("span",{className:"countdown font-mono",children:[(0,l.jsx)("span",{style:{"--value":u.days}}),"d",(0,l.jsx)("span",{style:{"--value":u.hours}}),"h",(0,l.jsx)("span",{style:{"--value":u.minutes}}),"m",(0,l.jsx)("span",{style:{"--value":u.seconds}}),"s"]})}c.defaultProps={hideDays:!1},t.Z=c},3127:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var n=s(4165),a=s(5861),r=s(9439),l=s(4889),c=s(9806),i=s(2791),o=s(7087),u=s(4325),d=s(1425),x=s(1541),f=s(3363),m=s.p+"static/media/silence.434cb1544ca911aafbb0.mp3",h=s(573),p=s(9650),v=s(184);function w(e){var t=e.from,s=e.hideDays,n=e.pause,a=e.forceZero,l=i.useState({days:0,hours:0,minutes:0,seconds:0}),c=(0,r.Z)(l,2),o=c[0],u=c[1];return i.useEffect((function(){var e=function(){if(!n)if(a)u({days:0,hours:0,minutes:0,seconds:0});else{var e=(new Date).getTime()-t.getTime(),r=0;!1===s&&(e-=864e5*(r=Math.floor(e/864e5)));var l=Math.floor(e/36e5);e-=36e5*l;var c=Math.floor(e/6e4);e-=6e4*c;var i=Math.floor(e/1e3);u({days:(0,p.Z)(r,0,99),hours:(0,p.Z)(l,0,99),minutes:(0,p.Z)(c,0,99),seconds:(0,p.Z)(i,0,99)})}};e();var r=setInterval(e,1e3);return function(){return clearInterval(r)}}),[t,s,n,a]),s?(0,v.jsxs)("span",{className:"countdown font-mono",children:[(0,v.jsx)("span",{style:{"--value":o.hours}}),"h",(0,v.jsx)("span",{style:{"--value":o.minutes}}),"m",(0,v.jsx)("span",{style:{"--value":o.seconds}}),"s"]}):(0,v.jsxs)("span",{className:"countdown font-mono",children:[(0,v.jsx)("span",{style:{"--value":o.days}}),"d",(0,v.jsx)("span",{style:{"--value":o.hours}}),"h",(0,v.jsx)("span",{style:{"--value":o.minutes}}),"m",(0,v.jsx)("span",{style:{"--value":o.seconds}}),"s"]})}w.defaultProps={hideDays:!1,pause:!1,forceZero:!1};var j=w,y=s(9085);function N(){var e=i.useState([]),t=(0,r.Z)(e,2),s=t[0],d=t[1],m=i.useState(!0),h=(0,r.Z)(m,2),p=h[0],w=h[1],j=i.useState(""),y=(0,r.Z)(j,2),N=y[0],b=y[1],Z=i.useState([]),g=(0,r.Z)(Z,2),_=g[0],S=g[1],k=i.useState(window.player.requests_core.status),q=(0,r.Z)(k,2),D=q[0],C=q[1],M=i.useState(window.player.requests_core.probable_next_request),F=(0,r.Z)(M,2),L=F[0],E=F[1];return(0,i.useEffect)((function(){window.player.requests_core.get_tracks().then((function(e){d(e),S(e),w(!1)}))}),[]),(0,i.useEffect)((function(){S(""===N?s:s.filter((function(e){return e.title.toLowerCase().includes(N.toLowerCase())||e.artist.toLowerCase().includes(N.toLowerCase())})))}),[N,s]),(0,i.useEffect)((function(){var e=setInterval((function(){window.player.requests_core.update_throttle_status(),C(window.player.requests_core.status),E(window.player.requests_core.probable_next_request)}),1e3);return function(){clearInterval(e)}}),[]),(0,v.jsxs)("div",{className:"flex flex-col w-full",children:[(0,v.jsx)("div",{className:"text-2xl text-white",children:"Request a Song"}),(0,v.jsx)("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full",onChange:function(e){return b(e.target.value)}}),"temporary_throttled"===D||"daily_throttled"===D?(0,v.jsxs)("div",{className:"text-xl text-white",children:["You've been throttled! Try again in about"," ",(0,v.jsx)(u.Z,{to:L,hideDays:!0})]}):(0,v.jsx)(v.Fragment,{}),(0,v.jsxs)("div",{className:"overscroll-contain overflow-auto h-96",children:[p?(0,x.z3)():_.map((function(e){var t;return(0,v.jsxs)("div",{className:"flex flex-row items-center border-t p-2 w-full",children:[(0,v.jsx)(o.LazyLoadImage,{src:null!==(t=e.artwork.url)&&void 0!==t?t:f,className:"w-16 h-16 rounded-lg",alt:"",effect:"opacity",placeholder:(0,v.jsx)(x.yM,{})}),(0,v.jsxs)("div",{className:"flex flex-col px-4",children:[(0,v.jsx)("div",{className:"text-white",children:e.title}),(0,v.jsx)("div",{className:"text-white",children:e.artist})]}),(0,v.jsx)("div",{className:"flex flex-row items-center justify-end flex-grow",children:(0,v.jsx)(c.G,{onClick:(0,a.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.player.requests_core.request(e.id);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:C(window.player.requests_core.status),E(window.player.requests_core.probable_next_request);case 9:case"end":return t.stop()}}),t,null,[[0,5]])}))),icon:l.XS,className:"text-white text-xl p-2 cursor-pointer"})})]},e.id)})),0===_.length&&0!==s.length?(0,v.jsx)("div",{className:"text-white text-xl",children:"No results found"}):(0,v.jsx)(v.Fragment,{}),0===s.length?(0,v.jsx)("div",{className:"text-white text-xl",children:"Requests disabled!"}):(0,v.jsx)(v.Fragment,{})]})]})}var b=function(){var e=i.useState(!1),t=(0,r.Z)(e,2),s=t[0],l=t[1],c=i.useState(!1),o=(0,r.Z)(c,2),x=o[0],p=o[1],w=i.useState(!1),b=(0,r.Z)(w,2),Z=b[0],g=b[1],_=i.useState("Loading..."),S=(0,r.Z)(_,2),k=S[0],q=S[1],D=i.useState("Loading..."),C=(0,r.Z)(D,2),M=C[0],F=C[1],L=i.useState(f),E=(0,r.Z)(L,2),P=E[0],T=E[1],I=i.useState(null),R=(0,r.Z)(I,2),A=R[0],O=R[1],z=i.useState(new Date),Y=(0,r.Z)(z,2),G=Y[0],J=Y[1],K=i.useState(!1),X=(0,r.Z)(K,2),B=X[0],H=X[1];return(0,i.useEffect)((function(){window.player.start_fast_refresh();var e=function(e){M!==e.host_string&&(F(e.host_string),"Loading..."!==e.host_string&&"Max Jr."!==e.host_string?x&&g(!0):x&&g(!1))};window.player.on("metadata",e);var t=function(e){O((0,h.Ai)()[0]||(0,h.Y0)()[0]),H((0,h.Ai)().length>0),q(e.title),T(e.album_art)};return window.player.on("current_track",t),function(){window.player.stop_refreshing(),window.player.unbind("metadata",e),window.player.unbind("current_track",t)}})),(0,i.useEffect)((function(){J(new Date),window.player.volume(1),Z?window.player.play():window.player.unload()}),[Z]),(0,v.jsxs)("div",{children:[(0,v.jsx)(d.Z,{}),(0,v.jsx)("h1",{className:"text-4xl text-center",children:"KRNL Dev Player"}),(0,v.jsx)("h2",{className:"text-2xl text-center",children:"For the info desk and/or totallynotmark6!"}),(0,v.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[s?(0,v.jsx)("div",{className:"btn btn-disabled btn-primary mx-2","data-theme":"dark",children:"Primed"}):(0,v.jsx)("button",{className:"btn btn-primary mx-2",onClick:(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),t=new Audio(m),e.next=4,t.play();case 4:case"end":return e.stop()}}),e)}))),children:"Prime"}),(0,v.jsx)("label",{htmlFor:"requests-modal",className:"btn btn-secondary mx-2 cursor-pointer",id:"requests-modal-icon",children:"Open Request Menu"})]}),s?(0,v.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[x?(0,v.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){return p(!1)},children:"Stop Monitoring"}):(0,v.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){return p(!0)},children:"Start Monitoring"}),Z?(0,v.jsx)("button",{className:"btn btn-secondary mx-2",onClick:function(){return g(!1)},children:"Pause"}):(0,v.jsx)("button",{className:"btn btn-accent mx-2",onClick:function(){return g(!0)},children:"Play"})]}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)("div",{className:"text-xl text-center",children:(0,v.jsx)(j,{from:G,forceZero:!Z})}),(0,v.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[(0,v.jsx)("img",{src:P,alt:"Album Art",className:"rounded-lg object-cover place-self-center w-1/12 h-1/12 select-none pointer-events-none transition duration-500 "+(Z?"":" filter grayscale")}),(0,v.jsxs)("div",{className:"flex flex-col justify-center mx-4",children:[(0,v.jsx)("div",{className:"text-2xl text-center",children:k}),(0,v.jsx)("div",{className:"text-xl text-center",children:M})]})]}),(0,v.jsx)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:(0,v.jsxs)("div",{className:"flex flex-col justify-center mx-4",children:[(0,v.jsx)("div",{className:"text-3xl text-center",children:"Next Scheduled Show"}),A?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"text-2xl text-center",children:A.name}),(0,v.jsx)("div",{className:"text-xl text-center",children:A.hosts.map((function(e){return e.name})).join(" & ")}),(0,v.jsx)("div",{className:"text-xl text-center",children:B?(0,v.jsxs)("div",{className:"text-red-400",children:[(0,v.jsx)("div",{children:"Ends in:"}),(0,v.jsx)(u.Z,{to:A.schedule.endToDate()||new Date,hideDays:!1})]}):(0,v.jsx)(u.Z,{to:A.schedule.getNextOccurance()||new Date,hideDays:!1})})]}):(0,v.jsx)("div",{className:"text-xl text-center",children:"No shows scheduled"})]})}),(0,v.jsx)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:(0,v.jsx)("button",{className:"btn btn-error mx-2",onClick:(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.Am.promise(new Promise((function(e,t){setTimeout(t,2760)})),{pending:"Running func setupNotifs()",success:"it worked",error:"it failed!!!!!1!1"});case 2:case"end":return e.stop()}}),e)}))),children:"Run Dev Func (DO NOT PRESS)"})}),(0,v.jsx)("input",{type:"checkbox",id:"requests-modal",className:"modal-toggle","data-theme":"luxury"}),(0,v.jsx)("div",{className:"modal modal-middle","data-theme":"luxury",children:(0,v.jsxs)("div",{className:"modal-box",children:[(0,v.jsx)("div",{className:"flex flex-row items-center",children:(0,v.jsx)(N,{})}),(0,v.jsx)("div",{className:"modal-action",children:(0,v.jsx)("label",{htmlFor:"requests-modal",className:"btn",children:"Close"})})]})})]})}},9650:function(e,t,s){function n(e,t,s){return Math.min(Math.max(e,t),s)}s.d(t,{Z:function(){return n}})},3363:function(e,t,s){e.exports=s.p+"static/media/placeholder.0f8aa0177050bfec15f4.jpg"}}]);
//# sourceMappingURL=831.6a3faea1.chunk.js.map