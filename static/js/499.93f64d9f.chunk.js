"use strict";(self.webpackChunkkrnl_website=self.webpackChunkkrnl_website||[]).push([[499],{2369:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var a=n(4165),s=n(5861),l=n(9439),r=n(4889),i=n(4859),o=n(5328),c=n(3701),d=n(3728),u=n(1788),m=n(2482),x=n(2791),h=n(7087),f=(n(8082),n(5563)),p="data:image/jpeg;base64,dmVyc2lvbiBodHRwczovL2dpdC1sZnMuZ2l0aHViLmNvbS9zcGVjL3YxCm9pZCBzaGEyNTY6N2ZhZTZkODNiNTM1OTY1OTNiODE3NzdhMDI3MzhiZWE5MzBlYTE0NDcxMWQyYzkyNDA5N2U2OTk1OGIyZjY3MgpzaXplIDY3OTYzCg==",v=n(1803),w=n(9806),g=n(184),j=v.qA;function y(){return(0,g.jsx)("div",{className:"text-white",children:(0,g.jsx)("div",{className:"flex flex-col items-center justify-center p-4",children:(0,g.jsx)(w.G,{icon:j,className:"text-6xl animate-spin select-none pointer-events-none"})})})}function b(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){var t=e.to,n=e.hideDays,a=e.children,s=x.useState({days:0,hours:0,minutes:0,seconds:0}),r=(0,l.Z)(s,2),i=r[0],o=r[1],c=x.useState(!1),d=(0,l.Z)(c,2),u=d[0],m=d[1];return x.useEffect((function(){var e=function(){var e=new Date,a=t.getTime()-e.getTime();a<0&&(a=0),0===a&&!1===u&&m(!0);var s=0;!1===n&&(a-=864e5*(s=Math.floor(a/864e5)));var l=Math.floor(a/36e5);a-=36e5*l;var r=Math.floor(a/6e4);a-=6e4*r;var i=Math.floor(a/1e3);o({days:b(s,0,99),hours:b(l,0,99),minutes:b(r,0,99),seconds:b(i,0,99)})};e();var a=setInterval(e,1e3);return function(){return clearInterval(a)}}),[t,n,u]),u&&a?(0,g.jsx)(g.Fragment,{children:a}):n?(0,g.jsxs)("span",{className:"countdown font-mono",children:[(0,g.jsx)("span",{style:{"--value":i.hours}}),"h",(0,g.jsx)("span",{style:{"--value":i.minutes}}),"m",(0,g.jsx)("span",{style:{"--value":i.seconds}}),"s"]}):(0,g.jsxs)("span",{className:"countdown font-mono",children:[(0,g.jsx)("span",{style:{"--value":i.days}}),"d",(0,g.jsx)("span",{style:{"--value":i.hours}}),"h",(0,g.jsx)("span",{style:{"--value":i.minutes}}),"m",(0,g.jsx)("span",{style:{"--value":i.seconds}}),"s"]})}N.defaultProps={hideDays:!1};var S=N,k=n(9389),_=n(9085),Z=n(4526),E=x.lazy((function(){return n.e(431).then(n.bind(n,2431))}));function C(e){var t=e.children,r=e.theme,i=x.useState(!1),o=(0,l.Z)(i,2),c=o[0],d=o[1],u=(0,x.useCallback)(function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(147).then(n.bind(n,2147));case 2:return s=e.sent,e.next=5,s.loadFull(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),m=(0,x.useCallback)(function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&d(!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,x.useEffect)((function(){c&&(console.log("benchmarking..."),(0,Z.R)(1e4).then((function(e){if(console.log("FPS",e),e<5){if(!document.hasFocus())return;console.log("changing theme! (fps)"),localStorage.setItem("theme","OLED Lover"),window.dispatchEvent(new CustomEvent("theme-change",{detail:{theme:"OLED Lover"}})),(0,_.Am)("The theme has been changed due to low performance!")}})))}),[c]),(0,g.jsxs)("div",{className:"w-full h-full",children:[(0,g.jsx)(x.Suspense,{children:(0,g.jsx)(E,{id:"tsparticles",init:u,loaded:m,options:r.options[0],className:"w-full h-full"})}),t]})}function L(e){var t=e.children,n=e.theme;return(0,g.jsx)("div",{className:"w-full h-full",style:n.options[0],children:t})}function F(e){var t=e.children,n=e.theme.options.join(" ");return(0,g.jsx)("div",{className:"w-full h-full ".concat(n),children:t})}function z(e){var t=e.children,n=e.theme,a=x.useState(k.Hc),s=(0,l.Z)(a,2),r=s[0],i=s[1];return(0,x.useEffect)((function(){i(k.Hc);var e=n.options[0]();e instanceof Promise?e.then((function(e){i((0,k.gh)(e))})):i((0,k.gh)(e))}),[n]),(0,g.jsx)(D,{theme:r,children:t})}function q(e){var t=e.children;e.theme;return(0,g.jsx)(L,{theme:k.Hc,children:t})}function D(e){var t=e.children,n=e.theme;switch(n.type){case"particles":return(0,g.jsx)(C,{theme:n,children:t});case"background":return(0,g.jsx)(L,{theme:n,children:t});case"tailwind":return(0,g.jsx)(F,{theme:n,children:t});case"dynamic":return(0,g.jsx)(z,{theme:n,children:t});default:return(0,g.jsx)(q,{theme:n,children:t})}}function O(e){var t=e.children,n=x.useState((0,k.gh)("OLED Lover")),a=(0,l.Z)(n,2),s=a[0],r=a[1];return(0,x.useEffect)((function(){var e=localStorage.getItem("theme")||(0,k.Vx)().name;return r((0,k.gh)(e)),window.addEventListener("storage",(function(e){"theme"===e.key&&r((0,k.gh)(e.newValue||""))})),window.addEventListener("theme-change",(function(e){r((0,k.gh)(e.detail.theme))})),function(){window.removeEventListener("storage",(function(){})),window.removeEventListener("theme-change",(function(){}))}}),[]),(0,g.jsx)(D,{theme:s,children:t})}function M(){var e=x.useState("word"),t=(0,l.Z)(e,2),n=t[0],a=t[1],s=x.useState(window.player.get_preferred_format),r=(0,l.Z)(s,2),i=r[0],o=r[1];return x.useEffect((function(){"word"!==n&&(localStorage.setItem("theme",n),window.dispatchEvent(new CustomEvent("theme-change",{detail:{theme:n}})))}),[n]),x.useEffect((function(){var e=localStorage.getItem("theme");e&&a(e)}),[]),(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"text-xl text-white",children:"Settings"}),(0,g.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,g.jsxs)("div",{className:"form-control",children:[(0,g.jsx)("label",{className:"label",children:(0,g.jsx)("span",{className:"label-text",children:"Theme"})}),(0,g.jsx)("select",{className:"select select-bordered text-white",value:n,onChange:function(e){a(e.target.value)},children:(0,k.QE)().map((function(e){return(0,g.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),(0,g.jsxs)("div",{className:"form-control",children:[(0,g.jsx)("label",{className:"label",children:(0,g.jsx)("span",{className:"label-text",children:"Stream Format"})}),(0,g.jsxs)("select",{className:"select select-bordered text-white",value:i,onChange:function(e){o(e.target.value),window.player.setFormat(e.target.value)},children:[(0,g.jsx)("option",{value:"auto",children:"Automatic"}),(0,g.jsx)("option",{value:"desktop",children:"Desktop"}),(0,g.jsx)("option",{value:"mobile",children:"Mobile"})]})]})]})]})}function A(){var e=x.useState([]),t=(0,l.Z)(e,2),n=t[0],i=t[1],o=x.useState(!0),c=(0,l.Z)(o,2),d=c[0],u=c[1],m=x.useState(""),f=(0,l.Z)(m,2),v=f[0],b=f[1],N=x.useState([]),k=(0,l.Z)(N,2),_=k[0],Z=k[1],E=x.useState(window.player.requests_core.status),C=(0,l.Z)(E,2),L=C[0],F=C[1],z=x.useState(window.player.requests_core.probable_next_request),q=(0,l.Z)(z,2),D=q[0],O=q[1];return(0,x.useEffect)((function(){window.player.requests_core.get_tracks().then((function(e){i(e),Z(e),u(!1)}))}),[]),(0,x.useEffect)((function(){Z(""===v?n:n.filter((function(e){return e.title.toLowerCase().includes(v.toLowerCase())||e.artist.toLowerCase().includes(v.toLowerCase())})))}),[v,n]),(0,x.useEffect)((function(){var e=setInterval((function(){window.player.requests_core.update_throttle_status(),F(window.player.requests_core.status),O(window.player.requests_core.probable_next_request)}),1e3);return function(){clearInterval(e)}}),[]),(0,g.jsxs)("div",{className:"flex flex-col w-full",children:[(0,g.jsx)("div",{className:"text-2xl text-white",children:"Request a Song"}),(0,g.jsx)("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full",onChange:function(e){return b(e.target.value)}}),"temporary_throttled"===L||"daily_throttled"===L?(0,g.jsxs)("div",{className:"text-xl text-white",children:["You've been throttled! Try again in about"," ",(0,g.jsx)(S,{to:D,hideDays:!0})]}):(0,g.jsx)(g.Fragment,{}),(0,g.jsxs)("div",{className:"overscroll-contain overflow-auto h-96",children:[d?(0,g.jsx)("div",{className:"text-white",children:(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center p-4",children:[(0,g.jsx)(w.G,{icon:j,className:"text-6xl animate-spin select-none pointer-events-none"}),(0,g.jsx)("h1",{className:"text-2xl font-bold",children:"Loading..."})]})}):_.map((function(e){var t;return(0,g.jsxs)("div",{className:"flex flex-row items-center border-t p-2 w-full",children:[(0,g.jsx)(h.LazyLoadImage,{src:null!==(t=e.artwork.url)&&void 0!==t?t:p,className:"w-16 h-16 rounded-lg",alt:"",effect:"opacity",placeholder:(0,g.jsx)(y,{})}),(0,g.jsxs)("div",{className:"flex flex-col px-4",children:[(0,g.jsx)("div",{className:"text-white",children:e.title}),(0,g.jsx)("div",{className:"text-white",children:e.artist})]}),(0,g.jsx)("div",{className:"flex flex-row items-center justify-end flex-grow",children:(0,g.jsx)(w.G,{onClick:(0,s.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.player.requests_core.request(e.id);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:F(window.player.requests_core.status),O(window.player.requests_core.probable_next_request);case 9:case"end":return t.stop()}}),t,null,[[0,5]])}))),icon:r.XS,className:"text-white text-xl p-2 cursor-pointer"})})]},e.id)})),0===_.length&&0!==n.length?(0,g.jsx)("div",{className:"text-white text-xl",children:"No results found"}):(0,g.jsx)(g.Fragment,{}),0===n.length?(0,g.jsx)("div",{className:"text-white text-xl",children:"Requests disabled!"}):(0,g.jsx)(g.Fragment,{})]})]})}var I=function(){var e=x.useState("Loading..."),t=(0,l.Z)(e,2),n=t[0],a=t[1],s=x.useState("Loading..."),r=(0,l.Z)(s,2),v=r[0],y=r[1],b=x.useState(p),N=(0,l.Z)(b,2),S=N[0],k=N[1],_=x.useRef(null);(0,x.useEffect)((function(){window.player.start_fast_refresh();var e=function(e){y(e.host_string)};window.player.on("metadata",e);var t=function(e){a(e.title),k(e.album_art)};return window.player.on("current_track",t),function(){window.player.stop_refreshing(),window.player.unbind("metadata",e),window.player.unbind("current_track",t)}})),(0,x.useEffect)((function(){return null!=window.player.player_data&&(a(window.player.player_data.current_track.title),y(window.player.player_data.host_string),k(window.player.player_data.current_track.album_art)),function(){window.player.unload()}}),[]);var Z=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS");return(0,g.jsxs)("div",{className:"flex h-screen flex-col",children:[(0,g.jsx)("div",{className:"flex-none",children:(0,g.jsx)(f.Z,{})}),(0,g.jsx)("div",{className:"flex flex-grow w-full",children:(0,g.jsxs)(x.Suspense,{fallback:(0,g.jsx)("div",{className:"text-white",children:(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center p-4",children:[(0,g.jsx)(w.G,{icon:j,className:"text-9xl animate-spin select-none pointer-events-none"}),(0,g.jsx)("h1",{className:"text-4xl font-bold",children:"Spinning some tunes..."}),(0,g.jsx)("h2",{className:"text-2xl font-bold",children:"Now loading..."})]})}),children:[(0,g.jsx)(O,{children:(0,g.jsx)("div",{})}),(0,g.jsxs)("div",{className:"flex flex-col text-center bg-indigo-800 bg-opacity-40 w-1/2 h-1/2 absolute top-1/4 left-1/4 rounded-lg p-4 backdrop-blur-sm",children:[(0,g.jsx)("img",{src:S,alt:"Album Art",className:"rounded-lg object-cover place-self-center max-w-[75%] max-h-[75%] min-h-[25%] min-w-[25%] select-none pointer-events-none"}),(0,g.jsx)("div",{className:"text-xl text-white",children:n}),(0,g.jsx)("div",{className:"text-xl text-white",ref:_,children:v}),(0,g.jsxs)("label",{className:"swap text-4xl text-white",children:[(0,g.jsx)("input",{type:"checkbox",onClick:function(){console.log("Play/pause clicked"),console.log(window.player.is_playing),window.player.is_playing?(console.log("Pausing"),Z||"mobile"===window.player.get_platform()?window.player.unload():window.player.pause()):window.player.play()}}),(0,g.jsx)(w.G,{icon:m.XQ,className:"swap-on"}),(0,g.jsx)(w.G,{icon:u.zc,className:"swap-off"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"requests-modal",className:"text-4xl p-2 cursor-pointer",id:"requests-modal-icon",children:(0,g.jsx)(w.G,{icon:d.Zr,className:"text-white"})}),(0,g.jsx)("label",{htmlFor:"volume-modal",className:"text-4xl p-2 cursor-pointer",id:"volume-modal-icon",children:(0,g.jsx)(w.G,{icon:i.ih,className:"text-white"})}),(0,g.jsx)("label",{htmlFor:"settings-modal",className:"text-4xl p-2 cursor-pointer",id:"settings-modal-icon",children:(0,g.jsx)(w.G,{icon:c.gr,className:"text-white"})})]})]})]})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("input",{type:"checkbox",id:"volume-modal",className:"modal-toggle","data-theme":"luxury"}),(0,g.jsx)("div",{className:"modal modal-middle","data-theme":"luxury",children:(0,g.jsxs)("div",{className:"modal-box",children:[(0,g.jsxs)("div",{className:"flex flex-row items-center",children:[(0,g.jsx)(w.G,{icon:o.yg,className:"text-white p-2"}),(0,g.jsx)("input",{className:"range p-2",type:"range",min:"0",max:"1",step:"0.01",defaultValue:window.player.get_volume,onChange:function(e){window.player.volume(parseFloat(e.target.value))}}),(0,g.jsx)(w.G,{icon:i.ih,className:"text-white p-2"})]}),(0,g.jsx)("div",{className:"modal-action",children:(0,g.jsx)("label",{htmlFor:"volume-modal",className:"btn",children:"Close"})})]})}),(0,g.jsx)("input",{type:"checkbox",id:"requests-modal",className:"modal-toggle","data-theme":"luxury"}),(0,g.jsx)("div",{className:"modal modal-middle","data-theme":"luxury",children:(0,g.jsxs)("div",{className:"modal-box",children:[(0,g.jsx)("div",{className:"flex flex-row items-center",children:(0,g.jsx)(h.LazyLoadComponent,{children:(0,g.jsx)(A,{})})}),(0,g.jsx)("div",{className:"modal-action",children:(0,g.jsx)("label",{htmlFor:"requests-modal",className:"btn",children:"Close"})})]})}),(0,g.jsx)("input",{type:"checkbox",id:"settings-modal",className:"modal-toggle","data-theme":"luxury"}),(0,g.jsx)("div",{className:"modal modal-middle","data-theme":"luxury",children:(0,g.jsxs)("div",{className:"modal-box",children:[(0,g.jsx)("div",{className:"flex flex-row items-center",children:(0,g.jsx)(h.LazyLoadComponent,{children:(0,g.jsx)(M,{})})}),(0,g.jsx)("div",{className:"modal-action",children:(0,g.jsx)("label",{htmlFor:"settings-modal",className:"btn",children:"Close"})})]})})]})]})}},9389:function(e,t,n){n.d(t,{Hc:function(){return s},QE:function(){return r},Vx:function(){return i},gh:function(){return l},np:function(){return a}});var a=[{name:"Default",type:"tailwind",options:["bg-gradient-to-r","from-green-300","via-blue-500","to-purple-600"]},{name:"OLED Lover",type:"background",options:[{background:"#000"}]},{name:"Fire",type:"particles",options:[{fpsLimit:120,fullScreen:{enable:!0,zIndex:-1},particles:{number:{value:240,density:{enable:!0,area:800}},color:{value:["#fdcf58","#757676","#f27d0c","#800909","#f07f13"]},opacity:{value:{min:.1,max:.5}},size:{value:{min:1,max:3}},move:{enable:!0,speed:6,random:!1}},interactivity:{detectsOn:"window",events:{onClick:{enable:!0,mode:"push"},resize:!0}},background:{image:"radial-gradient(#4a0000, #000)"}}]},{name:"Fountain",type:"particles",options:[{fpsLimit:120,fullScreen:!1,particles:{bounce:{vertical:{value:{min:.75,max:.85}}},color:{value:["#3998D0","#2EB6AF","#A9BD33","#FEC73B","#F89930","#F45623","#D62E32","#EB586E","#9952CF"]},number:{value:0},destroy:{mode:"split",split:{count:2,factor:{value:{min:1.1,max:2}},rate:{value:{min:2,max:3}}}},opacity:{value:.5},size:{value:{min:10,max:20}},move:{enable:!0,gravity:{enable:!0,maxSpeed:50},speed:{min:10,max:20},direction:"none",random:!1,straight:!1,outModes:{bottom:"split",default:"bounce",top:"none"},trail:{enable:!0,fillColor:"#000",length:3}}},detectRetina:!0,background:{color:"#fff"},emitters:{direction:"top",life:{count:0,duration:.15,delay:3},rate:{delay:.1,quantity:5},size:{width:0,height:0}}}]},{name:"Sea Anemone",type:"particles",options:[{fpsLimit:120,fullScreen:{enable:!0,zIndex:-1},particles:{color:{value:"#FF0000"},move:{direction:"none",enable:!0,outModes:{default:"destroy"},path:{clamp:!1,enable:!0,delay:{value:0},generator:n(3253).U},random:!1,speed:2,straight:!1,trail:{fillColor:"#000",length:30,enable:!0}},number:{value:0,limit:300},opacity:{value:1},shape:{type:"circle"},size:{value:{min:1,max:10},animation:{count:1,startValue:"min",enable:!0,speed:10,sync:!0}}},background:{color:"#000"},detectRetina:!0,emitters:{direction:"none",rate:{quantity:10,delay:.3},size:{width:0,height:0,mode:"precise"},spawnColor:{value:"#ff0000",animation:{h:{enable:!0,offset:{min:-1.4,max:1.4},speed:5,sync:!1},l:{enable:!0,offset:{min:20,max:80},speed:0,sync:!1}}},position:{x:50,y:50}}}]},{name:"Seasonal",type:"dynamic",options:[function(){switch((new Date).getMonth()+1){case 1:case 2:case 12:return"Seasonal - Winter";case 3:case 4:case 5:return"Seasonal - Spring";case 6:case 7:case 8:return"Seasonal - Summer";case 9:case 10:case 11:return"Seasonal - Autumn";default:return"Default"}},864e5]},{name:"Seasonal - Winter",type:"particles",options:[{fpsLimit:120,fullScreen:{enable:!0,zIndex:-1},background:{color:"#0d47a1"},detectRetina:!0,interactivity:{detectsOn:"window",events:{onClick:{enable:!0,mode:"repulse"},onHover:{enable:!0,mode:"bubble"},resize:{enable:!0,delay:0}}},particles:{move:{direction:"bottom",enable:!0,random:!1,straight:!1},opacity:{value:{min:.1,max:.5}},size:{value:{min:1,max:10}},wobble:{distance:20,enable:!0,speed:{min:-5,max:5}}}}]}],s={name:"",type:"background",options:[{background:"black"}]};function l(e){var t=a.find((function(t){return t.name===e}));return t||(console.warn('Theme "'.concat(e,'" not found!')),t=a[0]),t}function r(){return a}function i(){return l("Seasonal")}},4526:function(e,t,n){function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=performance.now(),n=0;return new Promise((function(a){!function s(){var l=performance.now();n++,l-t>e?a(n/(l-t)*1e3):requestAnimationFrame(s)}()}))}n.d(t,{R:function(){return a}})}}]);
//# sourceMappingURL=499.93f64d9f.chunk.js.map