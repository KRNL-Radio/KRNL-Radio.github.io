"use strict";(self.webpackChunkkrnl_website=self.webpackChunkkrnl_website||[]).push([[831],{4325:function(e,t,n){var s=n(9439),r=n(2791),a=n(9650),o=n(184);function i(e){var t=e.to,n=e.hideDays,i=e.children,l=r.useState({days:0,hours:0,minutes:0,seconds:0}),c=(0,s.Z)(l,2),u=c[0],d=c[1],h=r.useState(!1),m=(0,s.Z)(h,2),f=m[0],x=m[1];return r.useEffect((function(){var e=function(){var e=new Date,s=t.getTime()-e.getTime();s<0&&(s=0),0===s&&!1===f&&x(!0);var r=0;!1===n&&(s-=864e5*(r=Math.floor(s/864e5)));var o=Math.floor(s/36e5);s-=36e5*o;var i=Math.floor(s/6e4);s-=6e4*i;var l=Math.floor(s/1e3);d({days:(0,a.Z)(r,0,99),hours:(0,a.Z)(o,0,99),minutes:(0,a.Z)(i,0,99),seconds:(0,a.Z)(l,0,99)})};e();var s=setInterval(e,1e3);return function(){return clearInterval(s)}}),[t,n,f]),f&&i?(0,o.jsx)(o.Fragment,{children:i}):n?(0,o.jsxs)("span",{className:"countdown font-mono",children:[(0,o.jsx)("span",{style:{"--value":u.hours}}),"h",(0,o.jsx)("span",{style:{"--value":u.minutes}}),"m",(0,o.jsx)("span",{style:{"--value":u.seconds}}),"s"]}):(0,o.jsxs)("span",{className:"countdown font-mono",children:[(0,o.jsx)("span",{style:{"--value":u.days}}),"d",(0,o.jsx)("span",{style:{"--value":u.hours}}),"h",(0,o.jsx)("span",{style:{"--value":u.minutes}}),"m",(0,o.jsx)("span",{style:{"--value":u.seconds}}),"s"]})}i.defaultProps={hideDays:!1},t.Z=i},9739:function(e,t,n){n.d(t,{Ai:function(){return d},Y0:function(){return u},Y9:function(){return i},o8:function(){return o},wt:function(){return c},y0:function(){return l}});var s=n(5633),r=n(3761),a=n(8936),o=[{name:"The Graveyard Shift",splash_text:"",description:"Alt is such a broad genre. What does any of it even mean? All I know is you love listening to me every week.",background:"#fc73e3",hosts:[(0,r.nf)("Adrien")],scheduleString:"Every Tuesday from 10pm to 11pm",schedule:new a.N("0 22 * * 2",60)},{name:"Stochastic Shuffle",splash_text:"",description:"This is a totally unplanned show, where anything can happen (within contractual obligations). There's no logic behind this show, it just is.",background:"#0f3cec",hosts:[(0,r.nf)("Mark")],scheduleString:"Every Monday from 9 pm to 10 pm",schedule:new a.N("0 21 * * 1",60)},{name:"The Vibe",splash_text:"vibes~",description:"Somehow even *more* random than Mark's show, but at least 10x more chill! Ice not required.\n\n*when he feels like it",background:"#1c2dae",hosts:[(0,r.nf)("Grayson")],scheduleString:"Every Sunday from 4pm to 5pm*",schedule:new a.N("0 16 * * 0",60)},{name:"The After School Special",splash_text:"Because no one else streams earlier!",description:"I play music, different vibes every week, and do some rambling (usually too much rambling)",background:"#6f69dd",hosts:[(0,r.nf)("Sophie")],scheduleString:"Every Thursday from 3:30pm to 4:30pm",schedule:new a.N("30 15 * * 4",60)},{name:"Latino Hour",splash_text:":D",description:"Just vibe and listen to music from across Latin America.",background:"#ddfe60",hosts:[(0,r.nf)("Zoe")],scheduleString:"Every Friday from 4pm to 5pm",schedule:new a.N("0 16 * * 5",60)},{name:"Timezones",splash_text:"International Music and Good Vibes",description:"Come and listen to music from all over the world! There's no jet lag here, only Timezones.",background:"#232323",hosts:[(0,r.nf)("Trey"),(0,r.nf)("Zoe")],scheduleString:"Every Wednesday from 3:30pm to 4:30pm",schedule:new a.N("30 15 * * 3",60)},{name:"The Bard's Tale",splash_text:"The only show that matters",description:"",background:"#ddfe60",hosts:[(0,r.nf)("Caden")],scheduleString:"Every Sunday from 1pm to 3pm",schedule:new a.N("0 13 * * 0",120)},{name:"KRNL Tabling!",splash_text:"Come say hi!",description:"We'll be on the third floor of Thomas Commons during lunch! Come say hi! Mark (and someone else we just don't quite know who) will also be live throughout the entirety of lunch!",background:"#ddfe60",hosts:[r.O_],scheduleString:"Tuesday and Wednesday from 11am to 1pm in Thomas Commons",schedule:new a.N("0 11 24,25 1 *",120,new Date(2023,2,2)),hiddenAfter:new Date(2023,2,1)},{name:"CCPR",splash_text:"",description:"Because we can do anything in 18 ~~days~~ minutes!",background:"#ddfe60",hosts:[(0,r.nf)("Adrien"),(0,r.nf)("Sophie")],scheduleString:"Every Monday from 8am to 8:18am",schedule:new a.N("0 8 * * 1",18)},{name:"The Box",splash_text:"",description:"Vibe with music and the occasional conversation",background:"#ddfe60",hosts:[(0,r.nf)("Brock")],guests:"Garnett Strack",scheduleString:"Every Friday from 8pm to 9pm",schedule:new a.N("0 20 * * 5",60)}];function i(e){return o.filter((function(t){return t.hosts.includes(e)||t.hosts.includes(r.O_)}))}function l(){return o.filter((function(e){return!0!==e.hidden&&!(void 0!==e.hiddenAfter&&e.hiddenAfter.getTime()<Date.now())}))}function c(e,t){return!0===t?o.find((function(t){return(0,s.l)(t.name)===(0,s.l)(e)})):o.find((function(t){return t.name===e}))}function u(){return l().filter((function(e){return void 0!==e.schedule.getNextOccurance()})).sort((function(e,t){var n=e.schedule.getNextOccurance(),s=t.schedule.getNextOccurance();return void 0===n||void 0===s?0:n.getTime()-s.getTime()}))}function d(){return l().filter((function(e){return e.schedule.isCurrent()}))}},3127:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var s=n(4165),r=n(5861),a=n(9439),o=n(4889),i=n(9806),l=n(2791),c=n(7087),u=n(4325),d=n(4649),h=n(1541),m=n(3363),f=n.p+"static/media/silence.434cb1544ca911aafbb0.mp3",x=n(9739),p=n(9650),w=n(184);function v(e){var t=e.from,n=e.hideDays,s=e.pause,r=e.forceZero,o=l.useState({days:0,hours:0,minutes:0,seconds:0}),i=(0,a.Z)(o,2),c=i[0],u=i[1];return l.useEffect((function(){var e=function(){if(!s)if(r)u({days:0,hours:0,minutes:0,seconds:0});else{var e=(new Date).getTime()-t.getTime(),a=0;!1===n&&(e-=864e5*(a=Math.floor(e/864e5)));var o=Math.floor(e/36e5);e-=36e5*o;var i=Math.floor(e/6e4);e-=6e4*i;var l=Math.floor(e/1e3);u({days:(0,p.Z)(a,0,99),hours:(0,p.Z)(o,0,99),minutes:(0,p.Z)(i,0,99),seconds:(0,p.Z)(l,0,99)})}};e();var a=setInterval(e,1e3);return function(){return clearInterval(a)}}),[t,n,s,r]),n?(0,w.jsxs)("span",{className:"countdown font-mono",children:[(0,w.jsx)("span",{style:{"--value":c.hours}}),"h",(0,w.jsx)("span",{style:{"--value":c.minutes}}),"m",(0,w.jsx)("span",{style:{"--value":c.seconds}}),"s"]}):(0,w.jsxs)("span",{className:"countdown font-mono",children:[(0,w.jsx)("span",{style:{"--value":c.days}}),"d",(0,w.jsx)("span",{style:{"--value":c.hours}}),"h",(0,w.jsx)("span",{style:{"--value":c.minutes}}),"m",(0,w.jsx)("span",{style:{"--value":c.seconds}}),"s"]})}v.defaultProps={hideDays:!1,pause:!1,forceZero:!1};var y=v,j=n(9085);function g(){var e=l.useState([]),t=(0,a.Z)(e,2),n=t[0],d=t[1],f=l.useState(!0),x=(0,a.Z)(f,2),p=x[0],v=x[1],y=l.useState(""),j=(0,a.Z)(y,2),g=j[0],b=j[1],N=l.useState([]),S=(0,a.Z)(N,2),k=S[0],Z=S[1],_=l.useState(window.player.requests_core.status),T=(0,a.Z)(_,2),C=T[0],q=T[1],D=l.useState(window.player.requests_core.probable_next_request),M=(0,a.Z)(D,2),E=M[0],A=M[1];return(0,l.useEffect)((function(){window.player.requests_core.get_tracks().then((function(e){d(e),Z(e),v(!1)}))}),[]),(0,l.useEffect)((function(){Z(""===g?n:n.filter((function(e){return e.title.toLowerCase().includes(g.toLowerCase())||e.artist.toLowerCase().includes(g.toLowerCase())})))}),[g,n]),(0,l.useEffect)((function(){var e=setInterval((function(){window.player.requests_core.update_throttle_status(),q(window.player.requests_core.status),A(window.player.requests_core.probable_next_request)}),1e3);return function(){clearInterval(e)}}),[]),(0,w.jsxs)("div",{className:"flex flex-col w-full",children:[(0,w.jsx)("div",{className:"text-2xl text-white",children:"Request a Song"}),(0,w.jsx)("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full",onChange:function(e){return b(e.target.value)}}),"temporary_throttled"===C||"daily_throttled"===C?(0,w.jsxs)("div",{className:"text-xl text-white",children:["You've been throttled! Try again in about"," ",(0,w.jsx)(u.Z,{to:E,hideDays:!0})]}):(0,w.jsx)(w.Fragment,{}),(0,w.jsxs)("div",{className:"overscroll-contain overflow-auto h-96",children:[p?(0,h.z3)():k.map((function(e){var t;return(0,w.jsxs)("div",{className:"flex flex-row items-center border-t p-2 w-full",children:[(0,w.jsx)(c.LazyLoadImage,{src:null!==(t=e.artwork.url)&&void 0!==t?t:m,className:"w-16 h-16 rounded-lg",alt:"",effect:"opacity",placeholder:(0,w.jsx)(h.yM,{})}),(0,w.jsxs)("div",{className:"flex flex-col px-4",children:[(0,w.jsx)("div",{className:"text-white",children:e.title}),(0,w.jsx)("div",{className:"text-white",children:e.artist})]}),(0,w.jsx)("div",{className:"flex flex-row items-center justify-end flex-grow",children:(0,w.jsx)(i.G,{onClick:(0,r.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.player.requests_core.request(e.id);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:q(window.player.requests_core.status),A(window.player.requests_core.probable_next_request);case 9:case"end":return t.stop()}}),t,null,[[0,5]])}))),icon:o.XS,className:"text-white text-xl p-2 cursor-pointer"})})]},e.id)})),0===k.length&&0!==n.length?(0,w.jsx)("div",{className:"text-white text-xl",children:"No results found"}):(0,w.jsx)(w.Fragment,{}),0===n.length?(0,w.jsx)("div",{className:"text-white text-xl",children:"Requests disabled!"}):(0,w.jsx)(w.Fragment,{})]})]})}var b=function(){var e=l.useState(!1),t=(0,a.Z)(e,2),n=t[0],o=t[1],i=l.useState(!1),c=(0,a.Z)(i,2),h=c[0],p=c[1],v=l.useState(!1),b=(0,a.Z)(v,2),N=b[0],S=b[1],k=l.useState("Loading..."),Z=(0,a.Z)(k,2),_=Z[0],T=Z[1],C=l.useState("Loading..."),q=(0,a.Z)(C,2),D=q[0],M=q[1],E=l.useState(m),A=(0,a.Z)(E,2),L=A[0],F=A[1],I=l.useState(null),P=(0,a.Z)(I,2),O=P[0],R=P[1],B=l.useState(new Date),G=(0,a.Z)(B,2),z=G[0],W=G[1],Y=l.useState(!1),V=(0,a.Z)(Y,2),J=V[0],K=V[1];return(0,l.useEffect)((function(){window.player.start_fast_refresh();var e=function(e){D!==e.host_string&&(M(e.host_string),"Loading..."!==e.host_string&&"Max Jr."!==e.host_string?h&&S(!0):h&&S(!1))};window.player.on("metadata",e);var t=function(e){R((0,x.Ai)()[0]||(0,x.Y0)()[0]),K((0,x.Ai)().length>0),T(e.title),F(e.album_art)};return window.player.on("current_track",t),function(){window.player.stop_refreshing(),window.player.unbind("metadata",e),window.player.unbind("current_track",t)}})),(0,l.useEffect)((function(){W(new Date),window.player.volume(1),N?window.player.play():window.player.unload()}),[N]),(0,w.jsxs)("div",{children:[(0,w.jsx)(d.Z,{}),(0,w.jsx)("h1",{className:"text-4xl text-center",children:"KRNL Dev Player"}),(0,w.jsx)("h2",{className:"text-2xl text-center",children:"For the info desk and/or totallynotmark6!"}),(0,w.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[n?(0,w.jsx)("div",{className:"btn btn-disabled btn-primary mx-2","data-theme":"dark",children:"Primed"}):(0,w.jsx)("button",{className:"btn btn-primary mx-2",onClick:(0,r.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),t=new Audio(f),e.next=4,t.play();case 4:case"end":return e.stop()}}),e)}))),children:"Prime"}),(0,w.jsx)("label",{htmlFor:"requests-modal",className:"btn btn-secondary mx-2 cursor-pointer",id:"requests-modal-icon",children:"Open Request Menu"})]}),n?(0,w.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[h?(0,w.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){return p(!1)},children:"Stop Monitoring"}):(0,w.jsx)("button",{className:"btn btn-primary mx-2",onClick:function(){return p(!0)},children:"Start Monitoring"}),N?(0,w.jsx)("button",{className:"btn btn-secondary mx-2",onClick:function(){return S(!1)},children:"Pause"}):(0,w.jsx)("button",{className:"btn btn-accent mx-2",onClick:function(){return S(!0)},children:"Play"})]}):(0,w.jsx)(w.Fragment,{}),(0,w.jsx)("div",{className:"text-xl text-center",children:(0,w.jsx)(y,{from:z,forceZero:!N})}),(0,w.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[(0,w.jsx)("img",{src:L,alt:"Album Art",className:"rounded-lg object-cover place-self-center w-1/12 h-1/12 select-none pointer-events-none transition duration-500 "+(N?"":" filter grayscale")}),(0,w.jsxs)("div",{className:"flex flex-col justify-center mx-4",children:[(0,w.jsx)("div",{className:"text-2xl text-center",children:_}),(0,w.jsx)("div",{className:"text-xl text-center",children:D})]})]}),(0,w.jsx)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:(0,w.jsxs)("div",{className:"flex flex-col justify-center mx-4",children:[(0,w.jsx)("div",{className:"text-3xl text-center",children:"Next Scheduled Show"}),O?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"text-2xl text-center",children:O.name}),(0,w.jsx)("div",{className:"text-xl text-center",children:O.hosts.map((function(e){return e.name})).join(" & ")}),(0,w.jsx)("div",{className:"text-xl text-center",children:J?(0,w.jsxs)("div",{className:"text-red-400",children:[(0,w.jsx)("div",{children:"Ends in:"}),(0,w.jsx)(u.Z,{to:O.schedule.endToDate()||new Date,hideDays:!1})]}):(0,w.jsx)(u.Z,{to:O.schedule.getNextOccurance()||new Date,hideDays:!1})})]}):(0,w.jsx)("div",{className:"text-xl text-center",children:"No shows scheduled"})]})}),(0,w.jsx)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:(0,w.jsx)("button",{className:"btn btn-error mx-2",onClick:(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Am.promise(new Promise((function(e,t){setTimeout(t,2760)})),{pending:"Running func setupNotifs()",success:"it worked",error:"it failed!!!!!1!1"});case 2:case"end":return e.stop()}}),e)}))),children:"Run Dev Func (DO NOT PRESS)"})}),(0,w.jsx)("input",{type:"checkbox",id:"requests-modal",className:"modal-toggle","data-theme":"luxury"}),(0,w.jsx)("div",{className:"modal modal-middle","data-theme":"luxury",children:(0,w.jsxs)("div",{className:"modal-box",children:[(0,w.jsx)("div",{className:"flex flex-row items-center",children:(0,w.jsx)(g,{})}),(0,w.jsx)("div",{className:"modal-action",children:(0,w.jsx)("label",{htmlFor:"requests-modal",className:"btn",children:"Close"})})]})})]})}},9650:function(e,t,n){function s(e,t,n){return Math.min(Math.max(e,t),n)}n.d(t,{Z:function(){return s}})},3363:function(e,t,n){e.exports=n.p+"static/media/placeholder.0f8aa0177050bfec15f4.jpg"}}]);
//# sourceMappingURL=831.727dbd29.chunk.js.map