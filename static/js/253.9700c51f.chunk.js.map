{"version":3,"file":"static/js/253.9700c51f.chunk.js","mappings":"q6CAAaA,EAAe,WACxB,cAAc,eACVC,KAAKC,WAAa,IAAIC,GAC1B,CAuCC,OAvCA,wCACD,SAAiBC,EAAMC,GACnB,IAAIC,EACJL,KAAKM,oBAAoBH,EAAMC,GAC1BJ,KAAKC,WAAWM,IAAIJ,IACrBH,KAAKC,WAAWO,IAAIL,EAAM,IAEO,QAApCE,EAAKL,KAAKC,WAAWM,IAAIJ,UAA0B,IAAPE,GAAyBA,EAAGI,KAAKL,EAClF,GAAC,2BACD,SAAcD,EAAMO,GAChB,IAAIL,EACiC,QAApCA,EAAKL,KAAKC,WAAWM,IAAIJ,UAA0B,IAAPE,GAAyBA,EAAGM,SAAQ,SAACC,GAAO,OAAKA,EAAQF,EAAK,GAC/G,GAAC,8BACD,SAAiBP,GACb,QAASH,KAAKC,WAAWM,IAAIJ,EACjC,GAAC,qCACD,SAAwBA,GACfA,EAIDH,KAAKC,WAAWY,OAAOV,GAHvBH,KAAKC,WAAa,IAAIC,GAK9B,GAAC,iCACD,SAAoBC,EAAMC,GACtB,IAAMU,EAAMd,KAAKC,WAAWM,IAAIJ,GAChC,GAAKW,EAAL,CAGA,IAAMC,EAASD,EAAIC,OAAQC,EAAMF,EAAIG,QAAQb,GACzCY,EAAM,IAGK,IAAXD,EACAf,KAAKC,WAAWY,OAAOV,GAGvBW,EAAII,OAAOF,EAAK,GATpB,CAWJ,KAAC,EA1CuB,G,6BCAfG,EAAQ,WACjB,WAAYC,EAAWC,EAAGC,GACtB,IADyB,eACA,kBAAdF,GAA0BA,EAAW,CAC5CpB,KAAKuB,EAAIH,EAAUG,EACnBvB,KAAKqB,EAAID,EAAUC,EACnB,IAAMG,EAAWJ,EACjBpB,KAAKsB,EAAIE,EAASF,EAAIE,EAASF,EAAI,CACvC,KACK,SAAkBG,IAAdL,QAAiCK,IAANJ,EAMhC,MAAM,IAAIK,MAAM,oDALhB1B,KAAKuB,EAAIH,EACTpB,KAAKqB,EAAIA,EACTrB,KAAKsB,EAAU,OAANA,QAAoB,IAANA,EAAeA,EAAI,CAI9C,CACJ,CAqBC,OArBA,2BAID,WACI,OAAOK,KAAKC,MAAM5B,KAAKqB,EAAGrB,KAAKuB,EACnC,EAAC,IACD,SAAUM,GACN7B,KAAK8B,gBAAgBD,EAAO7B,KAAKe,OACrC,GAAC,kBACD,WACI,OAAOY,KAAKI,KAAK/B,KAAKgC,cAC1B,EAAC,IACD,SAAWjB,GACPf,KAAK8B,gBAAgB9B,KAAK6B,MAAOd,EACrC,GAAC,iBAOD,SAAIkB,GACA,OAAOd,EAASe,OAAOlC,KAAKuB,EAAIU,EAAEV,EAAGvB,KAAKqB,EAAIY,EAAEZ,EAAGrB,KAAKsB,EAAIW,EAAEX,EAClE,GAAC,mBACD,SAAMW,GACFjC,KAAKuB,GAAKU,EAAEV,EACZvB,KAAKqB,GAAKY,EAAEZ,EACZrB,KAAKsB,GAAKW,EAAEX,CAChB,GAAC,kBACD,WACI,OAAOH,EAASgB,MAAMnC,KAC1B,GAAC,wBACD,SAAWiC,GACP,OAAOjC,KAAKoC,IAAIH,GAAGlB,MACvB,GAAC,0BACD,SAAakB,GACT,OAAOjC,KAAKoC,IAAIH,GAAGD,aACvB,GAAC,iBACD,SAAIK,GACA,OAAOlB,EAASe,OAAOlC,KAAKuB,EAAIc,EAAGrC,KAAKqB,EAAIgB,EAAGrC,KAAKsB,EAAIe,EAC5D,GAAC,mBACD,SAAMA,GACFrC,KAAKuB,GAAKc,EACVrC,KAAKqB,GAAKgB,EACVrC,KAAKsB,GAAKe,CACd,GAAC,yBACD,WACI,OAAO,SAAArC,KAAKuB,EAAK,GAAC,SAAGvB,KAAKqB,EAAK,EACnC,GAAC,kBACD,SAAKgB,GACD,OAAOlB,EAASe,OAAOlC,KAAKuB,EAAIc,EAAGrC,KAAKqB,EAAIgB,EAAGrC,KAAKsB,EAAIe,EAC5D,GAAC,oBACD,SAAOA,GACHrC,KAAKuB,GAAKc,EACVrC,KAAKqB,GAAKgB,EACVrC,KAAKsB,GAAKe,CACd,GAAC,oBACD,SAAOR,GACH,OAAOV,EAASe,OAAOlC,KAAKuB,EAAII,KAAKW,IAAIT,GAAS7B,KAAKqB,EAAIM,KAAKY,IAAIV,GAAQ7B,KAAKuB,EAAII,KAAKY,IAAIV,GAAS7B,KAAKqB,EAAIM,KAAKW,IAAIT,GAAQ,EACrI,GAAC,mBACD,SAAMW,GACFxC,KAAKuB,EAAIiB,EAAEjB,EACXvB,KAAKqB,EAAImB,EAAEnB,EACX,IAAMoB,EAAMD,EACZxC,KAAKsB,EAAImB,EAAInB,EAAImB,EAAInB,EAAI,CAC7B,GAAC,iBACD,SAAIW,GACA,OAAOd,EAASe,OAAOlC,KAAKuB,EAAIU,EAAEV,EAAGvB,KAAKqB,EAAIY,EAAEZ,EAAGrB,KAAKsB,EAAIW,EAAEX,EAClE,GAAC,qBACD,SAAQW,GACJjC,KAAKuB,GAAKU,EAAEV,EACZvB,KAAKqB,GAAKY,EAAEZ,EACZrB,KAAKsB,GAAKW,EAAEX,CAChB,GAAC,6BACD,SAAgBO,EAAOd,GACnBf,KAAKuB,EAAII,KAAKW,IAAIT,GAASd,EAC3Bf,KAAKqB,EAAIM,KAAKY,IAAIV,GAASd,CAC/B,IAAC,mBA7ED,WACI,OAAOI,EAASe,OAAO,EAAG,EAAG,EACjC,GAAC,mBAaD,SAAaQ,GACT,OAAOvB,EAASe,OAAOQ,EAAOnB,EAAGmB,EAAOrB,EAAGqB,EAAOpB,EACtD,GAAC,oBACD,SAAcC,EAAGF,EAAGC,GAChB,OAAO,IAAIH,EAASI,EAAGF,EAAGC,EAC9B,KAAC,EArCgB,GCCRqB,EAAM,0CACf,WAAYvB,EAAWC,GAAG,kCAChBD,EAAWC,EAAG,EACxB,CASC,OATA,iCACD,WACI,OAAOsB,EAAOT,OAAO,EAAG,EAC5B,GAAC,mBACD,SAAaQ,GACT,OAAOC,EAAOT,OAAOQ,EAAOnB,EAAGmB,EAAOrB,EAC1C,GAAC,oBACD,SAAcE,EAAGF,GACb,OAAO,IAAIsB,EAAOpB,EAAGF,EACzB,KAAC,EAZc,CAASF,GCAxByB,EAAUjB,KAAKkB,OACbC,EAAU,IAAI5C,IAMb,SAAS6C,EAAUC,GACtB,OAAOF,EAAQvC,IAAIyC,IAAU,SAACC,GAAK,OAAKA,CAAK,CACjD,CAIO,SAASC,IACZ,OAAOC,EAAMP,IAAW,EAAG,EAAI,MACnC,CACO,SAASO,EAAMC,EAAKC,EAAKC,GAC5B,OAAO3B,KAAK0B,IAAI1B,KAAK2B,IAAIF,EAAKC,GAAMC,EACxC,CACO,SAASC,EAAIC,EAAOC,EAAOC,EAASC,GACvC,OAAOhC,KAAKiC,OAAOJ,EAAQE,EAAUD,EAAQE,IAAYD,EAAUC,GACvE,CACO,SAASE,EAAcC,GAC1B,IAAMR,EAAMS,EAAYD,GACpBT,EAAMW,EAAYF,GAItB,OAHIR,IAAQD,IACRA,EAAM,GAEHH,KAAeI,EAAMD,GAAOA,CACvC,CACO,SAASY,EAAchB,GAC1B,MAAwB,kBAAVA,EAAqBA,EAAQY,EAAcZ,EAC7D,CACO,SAASe,EAAYf,GACxB,MAAwB,kBAAVA,EAAqBA,EAAQA,EAAMI,GACrD,CACO,SAASU,EAAYd,GACxB,MAAwB,kBAAVA,EAAqBA,EAAQA,EAAMK,GACrD,CACO,SAASY,EAAcxB,EAAQO,GAClC,GAAIP,IAAWO,QAAoBxB,IAAVwB,GAAyC,kBAAXP,EACnD,OAAOA,EAEX,IAAMW,EAAMW,EAAYtB,GAASY,EAAMS,EAAYrB,GACnD,YAAiBjB,IAAVwB,EACD,CACEI,IAAK1B,KAAK0B,IAAIA,EAAKJ,GACnBK,IAAK3B,KAAK2B,IAAIA,EAAKL,IAErBiB,EAAcb,EAAKC,EAC7B,CACO,SAASa,EAASC,GACf,IAAAvB,EAASuB,EAAQvB,OAAM,EAA+C,mBAAXA,EAC3D,CACEwB,OAAQxB,EACRyB,aAAc,GAEhBzB,EAL2BwB,EAAM,EAANA,OAAQC,EAAY,EAAZA,aAMzC,OAAgBL,EAATI,EAAuBH,EAAcE,EAAQnB,MAAOqB,GAA+BF,EAAQnB,MACtG,CACO,SAASsB,EAAaC,EAAQC,GACjC,IAAMC,EAAKF,EAAOjD,EAAIkD,EAAOlD,EAAGoD,EAAKH,EAAOnD,EAAIoD,EAAOpD,EACvD,MAAO,CAAEqD,GAAIA,EAAIC,GAAIA,EAAIC,SAAUjD,KAAKI,KAAK,SAAA2C,EAAM,GAAC,SAAGC,EAAM,IACjE,CACO,SAASE,EAAYL,EAAQC,GAChC,OAAOF,EAAaC,EAAQC,GAAQG,QACxC,CAsCO,SAASE,EAAkBC,EAAIC,EAAIC,EAAIC,GAC1C,OAAOvC,EAAOT,OAAQ6C,EAAGxD,GAAK0D,EAAKC,IAAQD,EAAKC,GAAc,EAAPF,EAAGzD,EAAQ2D,GAAOD,EAAKC,GAAKH,EAAG1D,EAC1F,CASO,SAAS8D,EAA6BC,GACzC,IAAI/E,EAAIgF,EAAIC,EAAIC,EAChB,MAAO,CACHhE,GAA+E,QAAzE8D,EAA8B,QAAxBhF,EAAK+E,EAAKI,gBAA6B,IAAPnF,OAAgB,EAASA,EAAGkB,SAAsB,IAAP8D,EAAgBA,EAAmB,IAAdnC,KAAqBkC,EAAKK,KAAKC,MAAS,IACpJrE,GAA+E,QAAzEkE,EAA8B,QAAxBD,EAAKF,EAAKI,gBAA6B,IAAPF,OAAgB,EAASA,EAAGjE,SAAsB,IAAPkE,EAAgBA,EAAmB,IAAdrC,KAAqBkC,EAAKK,KAAKE,OAAU,IAE7J,CACO,SAASC,EAAmCR,GAC/C,IAAI/E,EAAIgF,EACFG,EAAW,CACbjE,OAAwEE,KAA3C,QAAxBpB,EAAK+E,EAAKI,gBAA6B,IAAPnF,OAAgB,EAASA,EAAGkB,GAAmB0C,EAAcmB,EAAKI,SAASjE,QAAKE,EACrHJ,OAAwEI,KAA3C,QAAxB4D,EAAKD,EAAKI,gBAA6B,IAAPH,OAAgB,EAASA,EAAGhE,GAAmB4C,EAAcmB,EAAKI,SAASnE,QAAKI,GAEzH,OAAO0D,EAA6B,CAAEM,KAAML,EAAKK,KAAMD,SAAAA,GAC3D,CACO,SAASK,EAAkCT,GAC9C,IAAI/E,EAAIgF,EAAIC,EAAIC,EAChB,MAAO,CACHhE,EAA6E,QAAzE8D,EAA8B,QAAxBhF,EAAK+E,EAAKI,gBAA6B,IAAPnF,OAAgB,EAASA,EAAGkB,SAAsB,IAAP8D,EAAgBA,EAAKnC,IAAckC,EAAKK,KAAKC,MAClIrE,EAA6E,QAAzEkE,EAA8B,QAAxBD,EAAKF,EAAKI,gBAA6B,IAAPF,OAAgB,EAASA,EAAGjE,SAAsB,IAAPkE,EAAgBA,EAAKrC,IAAckC,EAAKK,KAAKE,OAE1I,CASO,SAASG,EAAWC,GACvB,OAAOA,EAASA,EAAMC,SAAS,KAAOC,WAAWF,GAAS,IAAME,WAAWF,GAAU,CACzF,CClJA,SAASG,EAAeC,EAAOC,EAAYC,EAAUC,EAAeC,EAAUC,GAC1E,IAAMC,EAAM,CAAEC,SAAS,GACvB,OAAIN,EAAW/C,IAAMiD,EAAcjD,KAC/B+C,EAAW/C,IAAMiD,EAAchD,KAC/B8C,EAAW9C,IAAMgD,EAAcjD,KAC/B+C,EAAW9C,IAAMgD,EAAchD,MAG9B6C,EAAM7C,KAAO+C,EAAShD,KAAO8C,EAAM7C,MAAQ+C,EAAS/C,IAAM+C,EAAShD,KAAO,GAAKkD,EAAW,GAC1FJ,EAAM9C,KAAOgD,EAAS/C,KAAO6C,EAAM9C,KAAOgD,EAAS/C,IAAM+C,EAAShD,KAAO,GAAKkD,EAAW,KAC1FE,EAAIF,SAAWA,GAAYC,EAC3BC,EAAIC,SAAU,GALPD,CAQf,CAOO,SAASE,IACZ,MAAyB,qBAAXC,SAA2BA,QAAqC,qBAApBA,OAAOC,WAA6BD,OAAOC,QACzG,CAIO,SAASC,EAAeC,GAC3B,IAHQJ,KAAiC,qBAAfK,WAM1B,OAAOA,WAAWD,EACtB,CAWO,SAASE,EAAUhE,EAAOiE,GAC7B,OAAOjE,IAAUiE,GAAUA,aAAiBC,OAASD,EAAMjG,QAAQgC,IAAU,CACjF,CACO,SAAemE,EAAS,EAAD,kCAM7B,8CANM,WAAwBC,EAAMC,GAAM,+FAE7BT,SAASU,MAAMC,KAAK,GAAD,OAAe,OAAXF,QAA8B,IAAXA,EAAoBA,EAAS,MAAK,kBAAmB,OAATD,QAA0B,IAATA,EAAkBA,EAAO,UAAS,MAAI,+GAI1J,sBACM,SAASI,EAAiBP,GAC7B,OAAOvF,KAAKiC,MAAMV,IAAcgE,EAAMnG,OAC1C,CACO,SAAS2G,EAAcR,EAAOS,GAAwB,IAAjBC,IAAW,UAAH,+CAChD,OAAOV,OAAgBzF,IAAVkG,GAAuBC,EAAWD,EAAQT,EAAMnG,OAAS0G,EAAiBP,GAC3F,CACO,SAASW,EAAcC,EAAOrC,EAAMsC,EAAQC,EAAQC,GACvD,OAEG,SAAyBC,EAAQzC,EAAMsC,EAAQE,GAClD,IAAIE,GAAS,EACRF,GAA2B,WAAdA,IACdE,EAASD,EAAOE,IAAM3C,EAAKE,OAASoC,EAAOxG,IAE3C4G,GAAYF,GAA2B,SAAdA,IACzBE,EAASD,EAAOG,MAAQN,EAAOxG,IAE/B4G,GAAYF,GAA2B,UAAdA,IACzBE,EAASD,EAAOI,KAAO7C,EAAKC,MAAQqC,EAAO1G,IAE3C8G,GAAYF,GAA2B,QAAdA,IACzBE,EAASD,EAAOK,OAASR,EAAO1G,GAEpC,OAAO8G,CACX,CAjBWK,CAAgBC,EAAgBX,EAAkB,OAAXE,QAA8B,IAAXA,EAAoBA,EAAS,GAAIvC,EAAMsC,EAAQE,EACpH,CAiBO,SAASQ,EAAgBX,EAAOE,GACnC,MAAO,CACHO,OAAQT,EAAMzG,EAAI2G,EAClBM,KAAMR,EAAMvG,EAAIyG,EAChBK,MAAOP,EAAMvG,EAAIyG,EACjBI,IAAKN,EAAMzG,EAAI2G,EAEvB,CACO,SAASU,EAAWC,GAAyB,2BAATC,EAAO,iCAAPA,EAAO,kBAC9C,IAAK,IAAL,MAAqBA,EAAO,eAAE,CAAzB,IAAMlG,EAAM,KACb,QAAejB,IAAXiB,GAAmC,OAAXA,EAG5B,GAAsB,kBAAXA,EAAX,CAIA,IAAMmG,EAAgB1B,MAAM2B,QAAQpG,IAChCmG,GAAyC,kBAAhBF,GAA6BA,GAAgBxB,MAAM2B,QAAQH,GAG9EE,GAAyC,kBAAhBF,GAA6BA,IAAexB,MAAM2B,QAAQH,KACzFA,EAAc,CAAC,GAHfA,EAAc,GAIjB,eACUI,GACP,GAAY,cAARA,EACA,iBAEJ,IAA2B9F,EAARP,EAA2BqG,GAAMC,EAA4B,kBAAV/F,EAAoBgG,EAAWN,EACrGM,EAASF,GACLC,GAAY7B,MAAM2B,QAAQ7F,GACpBA,EAAMiG,KAAI,SAACjH,GAAC,OAAKyG,EAAWO,EAASF,GAAM9G,EAAE,IAC7CyG,EAAWO,EAASF,GAAM9F,EAAO,EAR/C,IAAK,IAAM8F,KAAOrG,EAAQ,EAAfqG,EARX,MAFIJ,EAAcjG,CAoBtB,CACA,OAAOiG,CACX,CACO,SAASQ,EAAiBC,EAAMC,GACnC,QAASC,EAA6BD,GAAM,SAACE,GAAC,OAAKA,EAAElF,QAAU4C,EAAUmC,EAAMG,EAAEH,KAAK,GAC1F,CACO,SAASI,EAAeJ,EAAMC,EAAMI,GACvCC,EAA0BL,GAAM,SAACM,GAC7B,IAAMC,EAAUD,EAAIP,KAAmBO,EAAItF,QACzB4C,EAAUmC,EAAMQ,IAKnC,SAA8BD,EAAKF,GAEtCC,EADkBC,EAAIE,WACe,SAACC,GAClCL,EAASK,EAAUH,EACvB,GACJ,CATYI,CAAqBJ,EAAKF,EAElC,GACJ,CAOO,SAASG,EAAQP,EAAMW,GAC1B,GAAKA,GAAYX,EAGjB,OAAOC,EAA6BD,GAAM,SAACM,GACvC,OA1HR,SAAuBK,EAASH,GAC5B,IAAMpD,EAAMiD,EAA0BG,GAAW,SAACC,GAC9C,OAAOE,EAAQC,QAAQH,EAC3B,IACA,OAAOrD,aAAeU,MAAQV,EAAIyD,MAAK,SAACX,GAAC,OAAKA,CAAC,IAAI9C,CACvD,CAqHe0D,CAAcH,EAASL,EAAIE,UACtC,GACJ,CACO,SAASO,EAA6BC,GACzC,MAAO,CACH7E,SAAU6E,EAAEC,cACZtC,OAAQqC,EAAEE,YACVC,KAAMH,EAAEI,UACRlE,SAAU8D,EAAE9D,SACZC,OAAQ7D,EAAOT,OAAOiC,EAASkG,EAAEjG,QAAQsG,OAAOC,YAAaxG,EAASkG,EAAEjG,QAAQsG,OAAOE,WAE/F,CACO,SAASC,EAAaC,EAAIC,GAC7B,MAA+CD,EAAGvE,SAASnE,IAAI2I,EAAGxE,UAAvDyE,EAAa,EAAhBzJ,EAAqB0J,EAAa,EAAhB5J,EAAC,EAAiE,CAACyJ,EAAGtF,SAAUuF,EAAGvF,UAArB,EAA2DjB,EAA3D,KAAN,MAA4C2G,EAAK,EAATxG,GAAeyG,EAAK,EAATxG,GACrI,KAAIqG,EAAgBE,EAAQD,EAAgBE,EAAQ,GAApD,CAGA,IAAMtJ,GAASF,KAAKC,MAAMuJ,EAAOD,GAAQjG,EAAK6F,EAAGN,KAAMtF,EAAK6F,EAAGP,KAAMY,EAAKN,EAAGvE,SAAS8E,OAAOxJ,GAAQyJ,EAAKP,EAAGxE,SAAS8E,OAAOxJ,GAAQkD,EAAKD,EAAkBsG,EAAIE,EAAIrG,EAAIC,GAAKF,EAAKF,EAAkBwG,EAAIF,EAAInG,EAAIC,GAAKqG,EAAUxG,EAAGsG,QAAQxJ,GAAQ2J,EAAUxG,EAAGqG,QAAQxJ,GACvQiJ,EAAGvE,SAAShF,EAAIgK,EAAQhK,EAAIuJ,EAAGtE,OAAOjF,EACtCuJ,EAAGvE,SAASlF,EAAIkK,EAAQlK,EAAIyJ,EAAGtE,OAAOnF,EACtC0J,EAAGxE,SAAShF,EAAIiK,EAAQjK,EAAIwJ,EAAGvE,OAAOjF,EACtCwJ,EAAGxE,SAASlF,EAAImK,EAAQnK,EAAI0J,EAAGvE,OAAOnF,CALtC,CAMJ,CACO,SAASoK,EAAWC,EAAUC,GACjC,IAAkEzD,EAASO,EAA9DiD,EAASpB,cAAsBoB,EAASnB,aAAmDqB,EAAO1F,EAAe,CAC1H7C,IAAK6E,EAAOI,KACZhF,IAAK4E,EAAOG,OACb,CACChF,IAAK6E,EAAOE,IACZ9E,IAAK4E,EAAOK,QACb,CACClF,IAAKsI,EAAUrD,KACfhF,IAAKqI,EAAUtD,OAChB,CACChF,IAAKsI,EAAUvD,IACf9E,IAAKqI,EAAUpD,QAChBmD,EAASnF,SAAShF,EAAG4C,EAASuH,EAAStH,QAAQsG,OAAOC,aACrDiB,EAAKlF,eACiBjF,IAAlBmK,EAAKrF,WACLmF,EAASnF,SAAShF,EAAIqK,EAAKrF,eAET9E,IAAlBmK,EAAKpG,WACLkG,EAASlG,SAASjE,EAAIqK,EAAKpG,WAGnC,IAAMqG,EAAO3F,EAAe,CACxB7C,IAAK6E,EAAOE,IACZ9E,IAAK4E,EAAOK,QACb,CACClF,IAAK6E,EAAOI,KACZhF,IAAK4E,EAAOG,OACb,CACChF,IAAKsI,EAAUvD,IACf9E,IAAKqI,EAAUpD,QAChB,CACClF,IAAKsI,EAAUrD,KACfhF,IAAKqI,EAAUtD,OAChBqD,EAASnF,SAASlF,EAAG8C,EAASuH,EAAStH,QAAQsG,OAAOE,WACrDiB,EAAKnF,eACiBjF,IAAlBoK,EAAKtF,WACLmF,EAASnF,SAASlF,EAAIwK,EAAKtF,eAET9E,IAAlBoK,EAAKrG,WACLkG,EAASlG,SAASnE,EAAIwK,EAAKrG,UAGvC,CACO,SAASkE,EAA0BoC,EAAKrC,GAC3C,OAAOqC,aAAe3E,MAAQ2E,EAAI5C,KAAI,SAAC6C,EAAMpE,GAAK,OAAK8B,EAASsC,EAAMpE,EAAM,IAAI8B,EAASqC,EAAK,EAClG,CACO,SAASE,EAAyBF,EAAKnE,EAAOC,GACjD,OAAOkE,aAAe3E,MAAQO,EAAcoE,EAAKnE,EAAOC,GAAYkE,CACxE,CACO,SAASxC,EAA6BwC,EAAKrC,GAC9C,OAAOqC,aAAe3E,MAAQ2E,EAAIG,MAAK,SAAC1C,EAAG5B,GAAK,OAAK8B,EAASF,EAAG5B,EAAM,IAAI8B,EAASqC,EAAK,GAAKA,OAAMrK,CACxG,CCpNA,IAAMyK,EAAmB,SAAUC,GAAgB,MAAOC,GAAgB,IAAIlM,IACvE,SAASmM,GAAgBC,GAC5BF,GAAc5L,IAAI8L,EAAQvD,IAAKuD,EACnC,CACA,SAASC,GAAQlC,EAAGmC,EAAGjD,GAOnB,OANIA,EAAI,IACJA,GAAK,GAELA,EAAI,IACJA,GAAK,GAELA,EAAI,EAAI,EACDc,EAAc,GAATmC,EAAInC,GAASd,EAEzBA,EAAI,GACGiD,EAEPjD,EAAI,EAAI,EACDc,GAAKmC,EAAInC,IAAM,EAAI,EAAId,GAAK,EAEhCc,CACX,CACA,SAASoC,GAAa1G,GAAO,IACc,EADd,UACCqG,IAAa,IAAvC,IAAK,EAAL,qBAAyC,KAA3BE,GAA2B,kBAApB,GACjB,GAAIvG,EAAM2G,WAAWJ,EAAQK,cACzB,OAAOL,EAAQM,YAAY7G,EAEnC,CAAC,+BACD,IAAqE8G,EAAW9G,EAAM+G,QAA/D,8CAAuF,SAACC,EAAGjJ,EAAGkJ,EAAGC,EAAGC,GACvH,OAAOpJ,EAAIA,EAAIkJ,EAAIA,EAAIC,EAAIA,QAAWxL,IAANyL,EAAkBA,EAAIA,EAAI,GAC9D,IAAsEC,EAA1D,yDAAyEC,KAAKP,GAC1F,OAAOM,EACD,CACED,OAAiBzL,IAAd0L,EAAO,GAAmBE,SAASF,EAAO,GAAI,IAAM,IAAO,EAC9DF,EAAGI,SAASF,EAAO,GAAI,IACvBH,EAAGK,SAASF,EAAO,GAAI,IACvBrJ,EAAGuJ,SAASF,EAAO,GAAI,UAEzB1L,CACV,CACO,SAAS6L,GAAgBvH,EAAO4B,GAAwB,IAAjBC,IAAW,UAAH,+CAClD,GAAK7B,EAAL,CAGA,IAAMwH,EAAyB,kBAAVxH,EAAqB,CAAE9C,MAAO8C,GAAUA,EAC7D,GAA2B,kBAAhBwH,EAAMtK,MACb,OAAOuK,GAAWD,EAAMtK,MAAO0E,EAAOC,GAE1C,GAAI2F,EAAMtK,iBAAiBkE,MACvB,OAAOmG,GAAgB,CACnBrK,MAAOyE,EAAc6F,EAAMtK,MAAO0E,EAAOC,KAEhD,IACsC,EADtC,UACyBwE,IAAa,IAAvC,IAAK,EAAL,qBAAyC,0BAA3BE,EAAO,KACX7F,EAAM6F,EAAQmB,iBAAiBF,GACrC,GAAI9G,EACA,OAAOA,CAEf,CAAC,+BAfD,CAgBJ,CACO,SAAS+G,GAAWzH,EAAO4B,GAAwB,IAAjBC,IAAW,UAAH,+CAC7C,GAAK7B,EAAL,CAGA,IAAMwH,EAAyB,kBAAVxH,EAAqB,CAAE9C,MAAO8C,GAAUA,EAC7D,GAA2B,kBAAhBwH,EAAMtK,MACb,OAAOsK,EAAMtK,QAAUiJ,EAAmBwB,KAAsBC,GAAYJ,EAAMtK,OAEtF,GAAIsK,EAAMtK,iBAAiBkE,MACvB,OAAOqG,GAAW,CACdvK,MAAOyE,EAAc6F,EAAMtK,MAAO0E,EAAOC,KAEhD,IACsC,EADtC,UACyBwE,IAAa,IAAvC,IAAK,EAAL,qBAAyC,0BAA3BE,EAAO,KACX7F,EAAM6F,EAAQsB,YAAYL,GAChC,GAAI9G,EACA,OAAOA,CAEf,CAAC,+BAfD,CAgBJ,CAKO,SAASoH,GAAgBN,EAAO5F,GAAwB,IAAjBC,IAAW,UAAH,+CAC5CkG,EAAMR,GAAgBC,EAAO5F,EAAOC,GAC1C,OAAOkG,EAAMC,GAASD,QAAOrM,CACjC,CACO,SAASsM,GAASR,GACrB,IAAMS,EAAKT,EAAMzJ,EAAI,IAAKmK,EAAKV,EAAMP,EAAI,IAAKkB,EAAKX,EAAMN,EAAI,IAAK3J,EAAM3B,KAAK2B,IAAI0K,EAAIC,EAAIC,GAAK7K,EAAM1B,KAAK0B,IAAI2K,EAAIC,EAAIC,GAAKzH,EAAM,CAC5H0H,EAAG,EACHC,GAAI9K,EAAMD,GAAO,EACjBgL,EAAG,GAkBP,OAhBI/K,IAAQD,IACRoD,EAAI4H,EAAI5H,EAAI2H,EAAI,IAAO9K,EAAMD,IAAQC,EAAMD,IAAQC,EAAMD,IAAQ,EAAMC,EAAMD,GAC7EoD,EAAI0H,EACAH,IAAO1K,GACA2K,EAAKC,IAAO5K,EAAMD,GAClBoD,EAAI0H,EAAIF,IAAO3K,EAAM,GAAO4K,EAAKF,IAAO1K,EAAMD,GAAO,GAAO2K,EAAKC,IAAO3K,EAAMD,IAE7FoD,EAAI2H,GAAK,IACT3H,EAAI4H,GAAK,IACT5H,EAAI0H,GAAK,GACL1H,EAAI0H,EAAI,IACR1H,EAAI0H,GAAK,KAET1H,EAAI0H,GAAK,MACT1H,EAAI0H,GAAK,KAEN1H,CACX,CAKO,SAASkH,GAAY5H,GACxB,OAAO0G,GAAa1G,EACxB,CACO,SAASuI,GAASC,GACrB,IAAMpB,EAAS,CAAEF,EAAG,EAAGD,EAAG,EAAGlJ,EAAG,GAAK0K,EAAa,CAC9CL,EAAGI,EAAIJ,EAAI,IACXC,EAAGG,EAAIH,EAAI,IACXC,EAAGE,EAAIF,EAAI,KAEf,GAAKG,EAAWH,EAKX,CACD,IAAM7B,EAAIgC,EAAWJ,EAAI,GACnBI,EAAWJ,GAAK,EAAII,EAAWH,GAC/BG,EAAWJ,EAAII,EAAWH,EAAIG,EAAWJ,EAAII,EAAWH,EAAGhE,EAAI,EAAImE,EAAWJ,EAAI5B,EACxFW,EAAOrJ,EAAIyI,GAAQlC,EAAGmC,EAAGgC,EAAWL,EAAI,EAAI,GAC5ChB,EAAOH,EAAIT,GAAQlC,EAAGmC,EAAGgC,EAAWL,GACpChB,EAAOF,EAAIV,GAAQlC,EAAGmC,EAAGgC,EAAWL,EAAI,EAAI,EAChD,MAXIhB,EAAOF,EAAIuB,EAAWJ,EACtBjB,EAAOH,EAAIwB,EAAWJ,EACtBjB,EAAOrJ,EAAI0K,EAAWJ,EAa1B,OAHAjB,EAAOrJ,EAAInC,KAAKiC,MAAiB,IAAXuJ,EAAOrJ,GAC7BqJ,EAAOH,EAAIrL,KAAKiC,MAAiB,IAAXuJ,EAAOH,GAC7BG,EAAOF,EAAItL,KAAKiC,MAAiB,IAAXuJ,EAAOF,GACtBE,CACX,CAUO,SAASO,GAAkBrK,GAC9B,IAAMoL,EAAmB,OAARpL,QAAwB,IAARA,EAAiBA,EAAM,EACxD,MAAO,CACH4J,EAAGtL,KAAKiC,MAAMC,EAAcK,EAAcuK,EAAU,OACpDzB,EAAGrL,KAAKiC,MAAMC,EAAcK,EAAcuK,EAAU,OACpD3K,EAAGnC,KAAKiC,MAAMC,EAAcK,EAAcuK,EAAU,OAE5D,CACO,SAASC,GAAgBnB,EAAOoB,GACnC,MAAO,QAAP,OAAepB,EAAMzJ,EAAC,aAAKyJ,EAAMP,EAAC,aAAKO,EAAMN,EAAC,aAAiB,OAAZ0B,QAAgC,IAAZA,EAAqBA,EAAU,EAAC,IAC3G,CACO,SAASC,GAAgBrB,EAAOoB,GACnC,MAAO,QAAP,OAAepB,EAAMY,EAAC,aAAKZ,EAAMc,EAAC,cAAMd,EAAMa,EAAC,cAAkB,OAAZO,QAAgC,IAAZA,EAAqBA,EAAU,EAAC,IAC7G,CACO,SAASE,GAASC,EAAQC,EAAQC,EAAOC,GAC5C,IAAIC,EAAOJ,EAAQK,EAAOJ,EAO1B,YANetN,IAAXyN,EAAKpL,IACLoL,EAAOZ,GAASQ,SAELrN,IAAX0N,EAAKrL,IACLqL,EAAOb,GAASS,IAEb,CACH9B,EAAG1J,EAAI2L,EAAKjC,EAAGkC,EAAKlC,EAAG+B,EAAOC,GAC9BjC,EAAGzJ,EAAI2L,EAAKlC,EAAGmC,EAAKnC,EAAGgC,EAAOC,GAC9BnL,EAAGP,EAAI2L,EAAKpL,EAAGqL,EAAKrL,EAAGkL,EAAOC,GAEtC,CACO,SAASG,GAAatE,EAAIC,EAAIsE,GACjC,IAAIhP,EAAIgF,EACR,GAAIgK,IAAcnD,EACd,OAAOwB,KAEN,GAAI2B,IAAclD,GAanB,OAAOkD,EAZP,IAAMC,EAA2C,QAA5BjP,EAAKyK,EAAGyE,sBAAmC,IAAPlP,EAAgBA,EAAKyK,EAAG0E,iBAAkBC,EAAiF,QAApEpK,EAAY,OAAP0F,QAAsB,IAAPA,OAAgB,EAASA,EAAGwE,sBAAmC,IAAPlK,EAAgBA,EAAY,OAAP0F,QAAsB,IAAPA,OAAgB,EAASA,EAAGyE,iBAC5P,GAAIF,GAAeG,GAAa1E,EAC5B,OAAO8D,GAASS,EAAaG,EAAW3E,EAAGP,YAAaQ,EAAGR,aAG3D,IAAMmF,EAA2B,OAAhBJ,QAAwC,IAAhBA,EAAyBA,EAAcG,EAChF,OAAIC,EACOpB,GAASoB,QADpB,CAQZ,CACO,SAASC,GAAmBC,EAAUC,EAAOC,GAChD,IAAMvC,EAA4B,kBAAbqC,EAAwBA,EAAWA,EAAS3M,MACjE,OAAIsK,IAAUrB,EACN4D,EACOxC,GAAgB,CACnBrK,MAAOsK,IAGXsC,EACO3D,EAEJC,GAEFoB,IAAUpB,GACRA,GAGAmB,GAAgB,CACnBrK,MAAOsK,GAGnB,CACO,SAASwC,GAAoBC,GAChC,YAAqBvO,IAAduO,EACD,CACE7B,EAAG6B,EAAU7B,EAAElL,MACfoL,EAAG2B,EAAU3B,EAAEpL,MACfmL,EAAG4B,EAAU5B,EAAEnL,YAEjBxB,CACV,CACO,SAASwO,GAAuB1B,EAAK2B,EAAkBC,GAC1D,IAAMC,EAAW,CACbjC,EAAG,CACC9J,QAAQ,EACRpB,MAAOsL,EAAIJ,GAEfE,EAAG,CACChK,QAAQ,EACRpB,MAAOsL,EAAIF,GAEfD,EAAG,CACC/J,QAAQ,EACRpB,MAAOsL,EAAIH,IAQnB,OALI8B,IACAG,GAAkBD,EAASjC,EAAG+B,EAAiB/B,EAAGgC,GAClDE,GAAkBD,EAAS/B,EAAG6B,EAAiB7B,EAAG8B,GAClDE,GAAkBD,EAAShC,EAAG8B,EAAiB9B,EAAG+B,IAE/CC,CACX,CACA,SAASC,GAAkBC,EAAYC,EAAgBJ,GACnDG,EAAWjM,OAASkM,EAAelM,OAC/BiM,EAAWjM,QACXiM,EAAW/J,SAAYtC,EAAcsM,EAAeC,OAAS,IAAOL,EACpEG,EAAWG,MAAQ,EAAIxM,EAAcsM,EAAeE,OACpDH,EAAWI,OAAS,aACpBJ,EAAWK,MAAQ,EACnBL,EAAWM,SAAW3M,EAAcsM,EAAeM,OAC9CN,EAAeO,OAChBR,EAAW/J,UAAYrD,IACvBoN,EAAWrN,OAASC,KAExBoN,EAAWS,aAAeT,EAAWrN,OAGrCqN,EAAW/J,SAAW,CAE9B,CChRO,SAASyK,GAASC,EAASC,EAAOC,GACrCF,EAAQG,YACRH,EAAQI,OAAOH,EAAM3P,EAAG2P,EAAM7P,GAC9B4P,EAAQK,OAAOH,EAAI5P,EAAG4P,EAAI9P,GAC1B4P,EAAQM,WACZ,CACO,SAASC,GAAaP,EAASnG,EAAIC,EAAI0G,GAC1CR,EAAQG,YACRH,EAAQI,OAAOvG,EAAGvJ,EAAGuJ,EAAGzJ,GACxB4P,EAAQK,OAAOvG,EAAGxJ,EAAGwJ,EAAG1J,GACxB4P,EAAQK,OAAOG,EAAGlQ,EAAGkQ,EAAGpQ,GACxB4P,EAAQM,WACZ,CAaO,SAASG,GAAMT,EAASU,GAC3BV,EAAQW,UAAU,EAAG,EAAGD,EAAUjM,MAAOiM,EAAUhM,OACvD,CC5BO,IAAMkM,GAAqB,YACrBC,GAAgB,WAGhBC,GAAiB,cAGjBC,GAAkB,eCH/B,SAASC,GAAkBzL,EAAQ0L,EAAWnJ,GAC1C,IAAI1I,EACE8R,EAAWD,EAAUnJ,QACVtH,IAAb0Q,IACA3L,EAAOuC,IAA+B,QAAtB1I,EAAKmG,EAAOuC,UAAyB,IAAP1I,EAAgBA,EAAK,GAAK8R,EAEhF,CACO,IAAMC,GAAM,WACf,WAAYC,GAAW,2BACnBrS,KAAKqS,UAAYA,EACjBrS,KAAKyF,KAAO,CACRE,OAAQ,EACRD,MAAO,GAEX1F,KAAKsS,SAAW,KAChBtS,KAAKuS,YAAa,EAClBvS,KAAKwS,iBAAmB,GACxBxS,KAAKyS,kBAAoB,GACzBzS,KAAK0S,eAAiB,GACtB1S,KAAK2S,cAAgB,GACrB3S,KAAK4S,kBACAjM,KAAuC,qBAArBkM,sBAQbpR,EAPA,IAAIoR,kBAAiB,SAACC,GAAY,IACJ,EADI,UACXA,GAAO,IAA5B,IAAK,EAAL,qBAA8B,KAAnBC,EAAM,QACO,eAAhBA,EAAO5S,MAAkD,UAAzB4S,EAAOC,eACvC,EAAKC,cAEb,CAAC,+BACL,GAEZ,CAsYC,OAtYA,iCACD,WACI,OAAOjT,KAAKqS,UAAUa,cAAcC,WAAW9O,MACnD,GAAC,mBACD,WAAQ,WACED,EAAUpE,KAAKqS,UAAUa,cAAeE,EAAQhP,EAAQiP,UAAUC,KAAKF,MAAOG,EAAYvT,KAAKwT,WACjGpP,EAAQqP,eAAepP,OACvBrE,KAAK0T,QAEAN,EAAM/O,QAAU+O,EAAMrS,OAAS,GAAKwS,EACrCA,EAAUhG,MACVvN,KAAK2T,WAAWjF,GAAgB6E,EAAUhG,MAAOgG,EAAU5E,UAEtD4E,EAAUK,OACf5T,KAAK6T,YAAYN,EAAUK,MAAOL,EAAU5E,SAIhD3O,KAAK8T,MAAK,SAACC,GACPrC,GAAMqC,EAAK,EAAKtO,KACpB,GAER,GAAC,qBACD,WAAU,IACFpF,EAAIgF,EADF,OAE4B,QAAjChF,EAAKL,KAAK4S,yBAAsC,IAAPvS,GAAyBA,EAAG2T,aAClEhU,KAAKuS,WACmB,QAAvBlN,EAAKrF,KAAKgK,eAA4B,IAAP3E,GAAyBA,EAAG4O,SAG5DjU,KAAKkU,sBAETlU,KAAK8T,MAAK,SAACC,GACPrC,GAAMqC,EAAK,EAAKtO,KACpB,IACAzF,KAAKwS,iBAAmB,GACxBxS,KAAKyS,kBAAoB,GACzBzS,KAAK0S,eAAiB,GACtB1S,KAAK2S,cAAgB,EACzB,GAAC,kBACD,SAAKwB,GACD,GAAKnU,KAAKsS,SAGV,OAAO6B,EAAGnU,KAAKsS,SACnB,GAAC,0BACD,SAAa5G,EAAU0I,GAAO,IACtB/T,EADsB,OAE1B,IAAIqL,EAAS2I,WAAY3I,EAAS4I,UAAlC,CAGA,IAAMtM,EAAS0D,EAASnB,YACxB,KAAIvC,GAAU,GAAd,CAGA,IAAMuM,EAAU7I,EAAS6D,eAAgBiF,EAA+C,QAApCnU,EAAKqL,EAAS8D,wBAAqC,IAAPnP,EAAgBA,EAAKkU,EACrH,EAAuBvU,KAAKyU,yBAAyB/I,GAAS,eAAzDgJ,EAAM,KAAEC,EAAM,KACdD,IACDA,EAASH,GAERI,IACDA,EAASH,IAERE,GAAWC,IAGhB3U,KAAK8T,MAAK,SAACC,GACP,IAAI1T,EAAIgF,EAAIC,EAAIC,EACVnB,EAAU,EAAKiO,UAAUa,cAAe0B,EAAgBlJ,EAAStH,QAAQyQ,OAAQC,EAAiB,KAAH,IAAI,EAAIpJ,EAASqJ,aAAiBH,EAAcI,aAAarG,EAA2J,QAAhJrJ,EAAwC,QAAlCjF,EAAKqL,EAASuJ,OAAOtG,eAA4B,IAAPtO,EAAgBA,EAAiC,QAA3BgF,EAAKqG,EAASiD,eAA4B,IAAPtJ,OAAgB,EAASA,EAAGpC,aAA0B,IAAPqC,EAAgBA,EAAK,EAA2F4P,EAAWvG,EAAUmG,EAAgBK,GAA3E,QAAjC5P,EAAKmG,EAAS0J,qBAAkC,IAAP7P,EAAgBA,EAAKoJ,GAA+EmG,EAAgBO,EAAY,CAAC,EAAGC,EAAc,CACriBC,KAAMb,EAAS9F,GAAgB8F,EAAQQ,QAAYzT,GAEvD6T,EAAYE,OAASb,EAAS/F,GAAgB+F,EAAQQ,GAAkBG,EAAYC,KACpF,EAAKE,sBAAsB1B,EAAKrI,EAAU1D,EAAQkN,EAAUI,EAAaD,GF7E9E,SAAsBjQ,GACzB,IAAI/E,EAAIgF,EAAIC,EAAIC,EAAImQ,EACZrD,EAAqHjN,EAArHiN,UAAWpB,EAA0G7L,EAA1G6L,QAASvF,EAAiGtG,EAAjGsG,SAAU0I,EAAuFhP,EAAvFgP,MAAOkB,EAAgFlQ,EAAhFkQ,YAAa7B,EAAmErO,EAAnEqO,eAAgBkC,EAAmDvQ,EAAnDuQ,UAAW3N,EAAwC5C,EAAxC4C,OAAQ2G,EAAgCvJ,EAAhCuJ,QAASiH,EAAuBxQ,EAAvBwQ,OAAQP,EAAejQ,EAAfiQ,UACxGQ,EAAMnK,EAASpB,cAAezI,EAAQ6J,EAASoK,UAAYpK,EAASqK,aAAerK,EAASnF,SAAS1E,MAAQ,GAAImU,EAC9GrU,KAAKY,IAAIV,GADqGmU,EAE9GrU,KAAKW,IAAIT,GACfoU,EAAgB,CACf/I,EAAG8I,GAAyC,QAAtB3V,EAAKgV,EAAUnI,SAAsB,IAAP7M,EAAgBA,EAAK,GACzE4M,EAAG+I,GAAyC,QAAtB3Q,EAAKgQ,EAAUpI,SAAsB,IAAP5H,EAAgBA,EAAK,GACzE7C,GAAIwT,GAAyC,QAAtB1Q,EAAK+P,EAAU7S,SAAsB,IAAP8C,EAAgBA,EAAK,GAC1E4Q,EAAGF,GAAyC,QAAtBzQ,EAAK8P,EAAUa,SAAsB,IAAP3Q,EAAgBA,EAAK,IAE7E0L,EAAQkF,aAAaF,EAAc/I,EAAG+I,EAAchJ,EAAGgJ,EAAczT,EAAGyT,EAAcC,EAAGL,EAAItU,EAAGsU,EAAIxU,GACpG4P,EAAQG,YACJqC,IACAxC,EAAQmF,yBAA2BT,GAEvC,IAAMU,EAAc3K,EAAS2K,YACzBT,EAAOvR,QAAUgS,IACjBpF,EAAQqF,WAAaV,EAAOW,KAC5BtF,EAAQoF,YAAc3H,GAAgB2H,GACtCpF,EAAQuF,cAAgBZ,EAAO7N,OAAOxG,EACtC0P,EAAQwF,cAAgBb,EAAO7N,OAAO1G,GAEtCiU,EAAYC,OACZtE,EAAQyF,UAAYpB,EAAYC,MAEpC,IAAMoB,EAA8C,QAA/BjB,EAAKhK,EAASiL,mBAAgC,IAAPjB,EAAgBA,EAAK,EACjFzE,EAAQ2F,UAAYD,EAChBrB,EAAYE,SACZvE,EAAQ4F,YAAcvB,EAAYE,QAgBnC,SAAmBnD,EAAWpB,EAASvF,EAAU1D,EAAQ2G,EAASyF,GACrE,GAAK1I,EAASoL,MAAd,CAGA,IAAMC,EAAS1E,EAAU2E,QAAQzW,IAAImL,EAASoL,OACzCC,GAGLA,EAAOjD,KAAK7C,EAASvF,EAAU1D,EAAQ2G,EAASyF,EAAO/B,EAAU4E,OAAOC,WALxE,CAMJ,CAvBIC,CAAU9E,EAAWpB,EAASvF,EAAU1D,EAAQ2G,EAASyF,GACrDuC,EAAc,GACd1F,EAAQuE,SAER9J,EAAS0L,OACTnG,EAAQM,YAER7F,EAAS6J,MACTtE,EAAQsE,OAgBT,SAA8BlD,EAAWpB,EAASvF,EAAU1D,EAAQ2G,EAASyF,GAChF,GAAK1I,EAASoL,MAAd,CAGA,IAAMC,EAAS1E,EAAU2E,QAAQzW,IAAImL,EAASoL,QAC7B,OAAXC,QAA8B,IAAXA,OAAoB,EAASA,EAAOM,cAG7DN,EAAOM,YAAYpG,EAASvF,EAAU1D,EAAQ2G,EAASyF,EAAO/B,EAAU4E,OAAOC,WAL/E,CAMJ,CAvBII,CAAqBjF,EAAWpB,EAASvF,EAAU1D,EAAQ2G,EAASyF,GACpEnD,EAAQmF,yBAA2B,cACnCnF,EAAQkF,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,EACxC,CEiCYoB,CAAa,CACTlF,UAAW,EAAKA,UAChBpB,QAAS8C,EACTrI,SAAAA,EACA0I,MAAAA,EACAkB,YAAAA,EACA7B,eAAgBrP,EAAQqP,eAAepP,OACvCsR,UAAWvR,EAAQqP,eAAekC,UAClC3N,OAAQA,EAAS,KAAH,IAAI,EAAI0D,EAASqJ,aAAiBH,EAAc4C,UAC9D7I,QAASuG,EACTU,OAAQlK,EAAStH,QAAQwR,OACzBP,UAAAA,IAEJ,EAAKoC,uBAAuB/L,EAChC,GAjCA,CAJA,CAsCJ,GAAC,gCACD,SAAmBgM,EAAQhM,EAAU0I,GACjCpU,KAAK8T,MAAK,SAACC,IFvBZ,SAA4B9C,EAASyG,EAAQhM,EAAU0I,GACrDsD,EAAOH,cAGZG,EAAOH,aAAatG,EAASvF,EAAU0I,EAC3C,CEmBYuD,CAAmB5D,EAAK2D,EAAQhM,EAAU0I,EAC9C,GACJ,GAAC,wBACD,SAAWsD,EAAQtD,GACfpU,KAAK8T,MAAK,SAACC,IFlCZ,SAAoB9C,EAASyG,EAAQtD,GACnCsD,EAAO5D,MAGZ4D,EAAO5D,KAAK7C,EAASmD,EACzB,CE8BYwD,CAAW7D,EAAK2D,EAAQtD,EAC5B,GACJ,GAAC,2DACD,yFAIsB,OAFlBpU,KAAK6X,SACL7X,KAAK8X,aACL9X,KAAK+X,aAAa,kBAER/X,KAAKgY,aAAY,uDAGvBC,QAAQC,MAAM,EAAD,IAAI,QAErBlY,KAAKmY,iBACDnY,KAAKgK,UAC6B,QAAjC3J,EAAKL,KAAK4S,yBAAsC,IAAPvS,GAAyBA,EAAG+X,QAAQpY,KAAKgK,QAAS,CAAEqO,YAAY,KAE9GrY,KAAKsY,eACLtY,KAAKuY,cACLvY,KAAK0T,QAAQ,yDAChB,kDAnBA,IAmBA,4BACD,WACI,IAA8C8E,EAA9BxY,KAAKqS,UAAUa,cAAoCsF,WAAYxO,EAAUhK,KAAKgK,QAASyO,EAA2B,OAAZzO,QAAgC,IAAZA,OAAqB,EAASA,EAAQ0O,MAChL,GAAKD,EAAL,CAGA,GAAID,EAAWjL,MAAO,CAClB,IAAMA,EAAQD,GAAgBkL,EAAWjL,OACzCkL,EAAaE,gBAAkBpL,EAAQmB,GAAgBnB,EAAOiL,EAAW7J,SAAW,EACxF,MAEI8J,EAAaE,gBAAkB,GAEnCF,EAAaG,gBAAkBJ,EAAW5E,OAAS,GACnD6E,EAAaI,mBAAqBL,EAAWhT,UAAY,GACzDiT,EAAaK,iBAAmBN,EAAWO,QAAU,GACrDN,EAAaO,eAAiBR,EAAW/S,MAAQ,EAXjD,CAYJ,GAAC,yBACD,WACIzF,KAAK0S,eAAiB,GAAG,IACsB,EADtB,UACA1S,KAAKqS,UAAU4G,SAAO,IAA/C,IAAK,EAAL,qBAAiD,KAAnCvB,GAAmC,kBAA7B,GACZA,EAAOG,QACP7X,KAAK0S,eAAejS,KAAKiX,IAEzBA,EAAOwB,mBAAqBxB,EAAOyB,sBACnCnZ,KAAK2S,cAAclS,KAAKiX,EAEhC,CAAC,+BACL,GAAC,0BACD,WACI1X,KAAKwS,iBAAmB,GACxBxS,KAAKyS,kBAAoB,GAAG,IAC2B,EAD3B,UACNzS,KAAKqS,UAAUgB,UAAU+F,UAAQ,IAAvD,IAAK,EAAL,qBAAyD,KAA9CC,EAAO,QACVA,EAAQC,WACRtZ,KAAKyS,kBAAkBhS,KAAK4Y,IAE5BA,EAAQE,gBAAkBF,EAAQG,oBAAsBH,EAAQI,aAChEzZ,KAAKwS,iBAAiB/R,KAAK4Y,EAEnC,CAAC,+BACL,GAAC,wBACD,SAAWK,GACP,IAAIrZ,EAAIgF,EACJrF,KAAKuS,aACmB,QAAvBlS,EAAKL,KAAKgK,eAA4B,IAAP3J,GAAyBA,EAAG4T,UAEhEjU,KAAKuS,WACDmH,EAAOC,SAAW9H,MAAsB6H,EAAOC,QACF,SAAvCD,EAAOC,QAA0B,UACjC3Z,KAAKuS,WACfvS,KAAKgK,QAAU0P,EACf1Z,KAAKgK,QAAQ4P,WAAa,OAC1B5Z,KAAK6Z,eAAiBnR,EAAW,CAAC,EAAG1I,KAAKgK,QAAQ0O,OAClD1Y,KAAKyF,KAAKE,OAAS+T,EAAOI,aAC1B9Z,KAAKyF,KAAKC,MAAQgU,EAAOK,YACzB/Z,KAAKsS,SAAWtS,KAAKgK,QAAQgQ,WAAW,MACN,QAAjC3U,EAAKrF,KAAK4S,yBAAsC,IAAPvN,GAAyBA,EAAG+S,QAAQpY,KAAKgK,QAAS,CAAEqO,YAAY,IAC1GrY,KAAKqS,UAAU4E,OAAOgD,OACtBja,KAAKmY,gBACT,GAAC,mBACD,WAAQ,WACE/T,EAAUpE,KAAKqS,UAAUa,cAC/BlT,KAAK8T,MAAK,SAACC,GACH3P,EAAQqP,eAAepP,QAAUD,EAAQqP,eAAeyG,OACxDxI,GAAMqC,EAAK,EAAKtO,MAChB,EAAKkO,WAAW,EAAKwG,mBAGrB,EAAKxG,YAEb,GACJ,GAAC,oBACD,WACI,GAAK3T,KAAKgK,QAAV,CAGA,IAAMqI,EAAYrS,KAAKqS,UAAW+H,EAAU/H,EAAU4E,OAAOC,WAAYzR,EAAO4M,EAAUqH,OAAOjU,KAAM4U,EAC5Fra,KAAKgK,QAAQ+P,YAAcK,EADiEC,EAE3Fra,KAAKgK,QAAQ8P,aAAeM,EAExC,GAAIC,IAAmB5U,EAAKE,QACxB0U,IAAkB5U,EAAKC,OACvB2U,IAAmBra,KAAKgK,QAAQrE,QAChC0U,IAAkBra,KAAKgK,QAAQtE,MAHnC,CAMA,IAAM4U,EAAUC,OAAOC,OAAO,CAAC,EAAG/U,GAClCzF,KAAKgK,QAAQtE,MAAQD,EAAKC,MAAQ1F,KAAKgK,QAAQ+P,YAAcK,EAC7Dpa,KAAKgK,QAAQrE,OAASF,EAAKE,OAAS3F,KAAKgK,QAAQ8P,aAAeM,EAC5Dpa,KAAKqS,UAAUoI,UACfza,KAAK0a,aAAe,CAChBhV,MAAOD,EAAKC,MAAQ4U,EAAQ5U,MAC5BC,OAAQF,EAAKE,OAAS2U,EAAQ3U,QAPtC,CAVA,CAoBJ,GAAC,mEACD,8FACS3F,KAAKgK,QAAS,CAAF,gDAMU,GAH3BhK,KAAK6X,SACCxF,EAAYrS,KAAKqS,UAAWsI,EAAetI,EAAUuI,sBAC3DvI,EAAUgB,UAAUwH,aACpB7a,KAAK8a,uBACDH,EAAc,CAAF,+BACNtI,EAAU0I,UAAS,gDAEhC,kDAZA,IAYA,oCACD,SAAuBrP,GACnB,IAAIrL,EACwC,EADrC,UACeL,KAAKyS,mBAAiB,IAA5C,IAAK,EAAL,qBAA8C,KAAnC4G,EAAO,QACe,QAA5BhZ,EAAKgZ,EAAQC,iBAA8B,IAAPjZ,GAAyBA,EAAG2a,KAAK3B,EAAS3N,EACnF,CAAC,+BACL,GAAC,mCACD,SAAsBqI,EAAKrI,EAAU1D,EAAQkN,EAAUI,EAAaD,GAChE,IAAIhV,EACuC,EADpC,UACeL,KAAKwS,kBAAgB,IAA3C,IAAK,EAAL,qBAA6C,KAAlC6G,EAAO,QACd,GAAIA,EAAQE,eAAgB,CACxB,MAAyBF,EAAQE,eAAe7N,EAAUqI,EAAK/L,EAAQkN,GAA/DK,EAAI,EAAJA,KAAMC,EAAM,EAANA,OACVD,IACAD,EAAYC,KAAOA,GAEnBC,IACAF,EAAYE,OAASA,EAE7B,CACA,GAAI6D,EAAQG,mBAAoB,CAC5B,IAAMyB,EAAmB5B,EAAQG,mBAAmB9N,GACpD,IAAK,IAAM3C,KAAOkS,EACdhJ,GAAkBoD,EAAW4F,EAAkBlS,EAEvD,CAC8B,QAA7B1I,EAAKgZ,EAAQI,kBAA+B,IAAPpZ,GAAyBA,EAAG2a,KAAK3B,EAAS3N,EACpF,CAAC,+BACL,GAAC,iCACD,WAAsB,IACsB,EADtB,UACG1L,KAAK0S,gBAAc,IAAxC,IAAK,EAAL,qBAA0C,KAA/BgF,EAAM,QACTA,EAAOG,QACPH,EAAOG,QAEf,CAAC,+BACL,GAAC,sCACD,SAAyBnM,GACrB,IAAIgJ,EAAQC,EAC2B,EADpB,UACE3U,KAAK2S,eAAa,IAAvC,IAAK,EAAL,qBAAyC,KAA9B+E,EAAM,QAOb,IANKhD,GAAUgD,EAAOwB,oBAClBxE,EAAS7G,GAAgB6J,EAAOwB,kBAAkBxN,MAEjDiJ,GAAU+C,EAAOyB,sBAClBxE,EAAS9G,GAAgB6J,EAAOyB,oBAAoBzN,KAEpDgJ,GAAUC,EACV,KAER,CAAC,+BACD,MAAO,CAACD,EAAQC,EACpB,GAAC,wBACD,WACI,IAA8CuF,EAA9Bla,KAAKqS,UAAUa,cAA+BO,eAAeyG,MAA4BgB,EAAW5N,GAAxB4M,EAAM3M,OAClG,GAAI2N,EAAU,CACV,IAAMC,EAAa,CACfrX,EAAGoX,EAASpX,EACZkJ,EAAGkO,EAASlO,EACZC,EAAGiO,EAASjO,EACZC,EAAGgN,EAAMvL,SAEb3O,KAAKma,iBAAmBzL,GAAgByM,EAAYA,EAAWjO,EACnE,CACJ,GAAC,wBACD,WACI,IAAMlD,EAAUhK,KAAKgK,QAAS5F,EAAUpE,KAAKqS,UAAUa,cACvD,GAAKlJ,EAUL,IAAK,IAAMjB,KAPP/I,KAAKob,aACLpb,KAAK6Z,eAAiBnR,EAAW,CAAC,EAAGsB,EAAQ0O,OAC7C1Y,KAAKqb,uBAGLrb,KAAKkU,sBAES9P,EAAQsU,MACtB,GAAK3P,GAAQ3E,EAAQsU,MAArB,CAGA,IAAMzV,EAAQmB,EAAQsU,MAAM3P,GACvB9F,GAGL+G,EAAQ0O,MAAM4C,YAAYvS,EAAK9F,EAAO,YALtC,CAOR,GAAC,iEACD,wGAC8G,GAApGmB,EAAUpE,KAAKqS,UAAUa,cAAeE,EAAQhP,EAAQiP,UAAUC,KAAKF,MAAOG,EAAYH,EAAMmC,KACjGnC,EAAM/O,OAAQ,CAAF,oDAGbkP,EAAUhG,MAAO,CAAF,gBACmC,GAA5CgO,EAAYjO,GAAgBiG,EAAUhG,OAC5B,CAAF,gDAGR6F,EAAQhP,EAAQiP,UAAUC,KAAKF,MACrCpT,KAAKwT,WAAa,CACdjG,MAAOgN,OAAOC,OAAO,CAAC,EAAGe,GACzB5M,QAAS,EAAIyE,EAAMrS,QACrB,yCAGI,IAAIya,SAAQ,SAACC,EAASC,GACxB,GAAKnI,EAAUK,MAAf,CAGA,IAAM+H,EAAM9U,SAAS+U,cAAc,OACnCD,EAAIE,iBAAiB,QAAQ,WACzB,EAAKrI,WAAa,CACdI,MAAO+H,EACPhN,QAAS,EAAIyE,EAAMrS,QAEvB0a,GACJ,IACAE,EAAIE,iBAAiB,SAAS,SAACC,GAC3BJ,EAAOI,EAAI5D,MACf,IACAyD,EAAII,IAAMxI,EAAUK,KAZpB,CAaJ,IAAE,iDAET,kDApCA,IAoCA,wBACD,SAAWoI,GAAW,WAClBhc,KAAK8T,MAAK,SAACC,IF9WZ,SAAmB9C,EAASU,EAAWqK,GAC1C/K,EAAQyF,UAA0B,OAAdsF,QAAoC,IAAdA,EAAuBA,EAAY,gBAC7E/K,EAAQgL,SAAS,EAAG,EAAGtK,EAAUjM,MAAOiM,EAAUhM,OACtD,CE4WYuW,CAAUnI,EAAK,EAAKtO,KAAMuW,EAC9B,GACJ,GAAC,yBACD,SAAYpI,EAAOjF,GAAS,WACxB3O,KAAK8T,MAAK,SAACC,IF/WZ,SAAoB9C,EAASU,EAAWiC,EAAOjF,GAC7CiF,IAGL3C,EAAQkL,YAAcxN,EACtBsC,EAAQmL,UAAUxI,EAAO,EAAG,EAAGjC,EAAUjM,MAAOiM,EAAUhM,QAC1DsL,EAAQkL,YAAc,EAC1B,CEyWYE,CAAWtI,EAAK,EAAKtO,KAAMmO,EAAOjF,EACtC,GACJ,GAAC,0BACD,WACI,IAAItO,EAAIgF,EACF2E,EAAUhK,KAAKgK,QAChBA,IAG6B,QAAjC3J,EAAKL,KAAK4S,yBAAsC,IAAPvS,GAAyBA,EAAG2T,aACtEhU,KAAK8X,aACL9X,KAAKmY,iBAC6B,QAAjC9S,EAAKrF,KAAK4S,yBAAsC,IAAPvN,GAAyBA,EAAG+S,QAAQpO,EAAS,CAAEqO,YAAY,IACzG,GAAC,iCACD,WACI,IAAMrO,EAAUhK,KAAKgK,QAASsS,EAAgBtc,KAAK6Z,eAC7C7P,GAAWsS,IAGjBtS,EAAQ0O,MAAMlT,SAAW8W,EAAc9W,SACvCwE,EAAQ0O,MAAM7D,OAASyH,EAAczH,OACrC7K,EAAQ0O,MAAMtQ,IAAMkU,EAAclU,IAClC4B,EAAQ0O,MAAMpQ,KAAOgU,EAAchU,KACnC0B,EAAQ0O,MAAMhT,MAAQ4W,EAAc5W,MACpCsE,EAAQ0O,MAAM/S,OAAS2W,EAAc3W,OACzC,GAAC,iCACD,WACI,IAAMqE,EAAUhK,KAAKgK,QACrB,GAAKA,EAAL,CAGA,IAAMuS,EAAW,YACjBvS,EAAQ0O,MAAM4C,YAAY,WAAY,QAASiB,GAC/CvS,EAAQ0O,MAAM4C,YAAY,UAAWtb,KAAKqS,UAAUa,cAAcC,WAAW0B,OAAO2H,SAAS,IAAKD,GAClGvS,EAAQ0O,MAAM4C,YAAY,MAAO,IAAKiB,GACtCvS,EAAQ0O,MAAM4C,YAAY,OAAQ,IAAKiB,GACvCvS,EAAQ0O,MAAM4C,YAAY,QAAS,OAAQiB,GAC3CvS,EAAQ0O,MAAM4C,YAAY,SAAU,OAAQiB,EAP5C,CAQJ,KAAC,EA7Zc,GCTnB,SAASE,GAAezS,EAAS0S,EAAO9b,EAAS+b,EAAKvY,GAClD,GAAIuY,EAAK,CACL,IAAIC,EAAa,CAAEC,SAAS,GACL,mBAAZzY,EACPwY,EAAWE,QAAU1Y,OAEJ3C,IAAZ2C,IACLwY,EAAaxY,GAEjB4F,EAAQ6R,iBAAiBa,EAAO9b,EAASgc,EAC7C,KACK,CACD,IAAMG,EAAgB3Y,EACtB4F,EAAQ1J,oBAAoBoc,EAAO9b,EAASmc,EAChD,CACJ,CACO,IAAMC,GAAc,WACvB,WAAY3K,GAAW,2BACnBrS,KAAKqS,UAAYA,EACjBrS,KAAKid,SAAU,EACfjd,KAAKkd,SAAW,CACZC,UAAW,SAACC,GAAC,OAAK,EAAKC,eAAeD,EAAE,EACxCE,WAAY,SAACF,GAAC,OAAK,EAAKC,eAAeD,EAAE,EACzCG,UAAW,SAACH,GAAC,OAAK,EAAKC,eAAeD,EAAE,EACxCI,SAAU,kBAAM,EAAKC,kBAAkB,EACvCC,WAAY,kBAAM,EAAKD,kBAAkB,EACzCE,YAAa,kBAAM,EAAKF,kBAAkB,EAC1CG,cAAe,SAACR,GAAC,OAAK,EAAKS,gBAAgBT,EAAE,EAC7CU,QAAS,SAACV,GAAC,OAAK,EAAKS,gBAAgBT,EAAE,EACvCW,UAAW,kBAAM,EAAKA,WAAW,EACjCC,iBAAkB,kBAAM,EAAKC,wBAAwB,EACrDC,YAAa,SAACd,GAAC,OAAK,EAAKe,kBAAkBf,EAAE,EAC7CgB,eAAgB,SAAChB,GAAC,OAAK,EAAKe,kBAAkBf,EAAE,EAChDvF,OAAQ,kBAAM,EAAKwG,oBAAoB,EAE/C,CAiPC,OAjPA,oCACD,WACIre,KAAKse,iBAAgB,EACzB,GAAC,6BACD,WACIte,KAAKse,iBAAgB,EACzB,GAAC,+BACD,SAAkBlB,GAAG,WACX/K,EAAYrS,KAAKqS,UAAWjO,EAAUiO,EAAUa,cACtD,GAAIlT,KAAKid,QAAS,CACd,IAAMsB,EAAqBlM,EAAUmM,cAAcC,MAAOC,EAAWH,EAAmB/Y,SACxF,IAAKkZ,EACD,OAEJH,EAAmBI,cAAgBpE,OAAOC,OAAO,CAAC,EAAGkE,GACrDH,EAAmBK,WAAY,IAAIC,MAAOC,UAE1CpV,EADgBtF,EAAQoa,cAAcO,OAAOC,QACX5V,MAAM,SAACA,GAAI,OAAK,EAAK6V,gBAAgB7V,EAAK,GAChF,CACe,aAAXgU,EAAEjd,MACF+e,YAAW,kBAAM,EAAKzB,kBAAkB,GAAE,IAElD,GAAC,6BACD,SAAgBrU,GACZpJ,KAAKqS,UAAU4M,gBAAgB7V,EACnC,GAAC,+BACD,SAAkBgU,GACd,IAAM+B,EAAa/B,EAAG/K,EAAYrS,KAAKqS,UAAWjO,EAAUiO,EAAUjO,QAASgb,EAAgBhb,EAAQgb,cAAeC,EAAYF,EAAWlV,QAAUmV,EAAcE,KAAOF,EAAcG,MAAOC,EAAQpb,EAAQqb,OAAOxT,MAAK,SAACuT,GAAK,OAAKA,EAAMxc,OAASqc,CAAS,IAC5PG,GAASA,EAAME,QAAQC,MACvBtN,EAAUuN,UAAUP,EAE5B,GAAC,oCACD,WACI,IAAMhN,EAAYrS,KAAKqS,UAAWjO,EAAUiO,EAAUa,cACtDlT,KAAKyd,mBACArZ,EAAQyb,eAGI,OAAbhZ,eAAkC,IAAbA,cAAsB,EAASA,SAASiZ,SAC7DzN,EAAU0N,YAAa,EACvB1N,EAAU2N,UAGV3N,EAAU0N,YAAa,EACnB1N,EAAU4N,qBACV5N,EAAU6N,MAAK,GAGf7N,EAAUyB,MAAK,IAG3B,GAAC,gCACD,WAAqB,WACb9T,KAAKmgB,gBACLC,aAAapgB,KAAKmgB,sBACXngB,KAAKmgB,eAEhBngB,KAAKmgB,cAAgBjB,YAAU,uBAAC,kHAA8D,QAAhC7e,EAAK,EAAKgS,UAAUqH,cAA2B,IAAPrZ,OAAgB,EAASA,EAAGggB,gBAAc,2CAAsE,IAAjErgB,KAAKqS,UAAUa,cAAcsL,cAAcO,OAAOlH,OAAOyI,MAClN,GAAC,6BACD,SAAgB3D,GAAK,IACbtc,EADa,OAEX6c,EAAWld,KAAKkd,SAAU7K,EAAYrS,KAAKqS,UAAWjO,EAAUiO,EAAUa,cAAeqN,EAAanc,EAAQoa,cAAcgC,UAC9HC,EAAqBzO,GACzB,GAAmB,WAAfuO,EACAlO,EAAUmM,cAAcxU,QAAUpD,OAClC6Z,EF9FiB,kBEgGhB,GAAmB,WAAfF,GAA2BlO,EAAUqH,OAAO1P,QAAS,CAC1D,IAAM0W,EAAWrO,EAAUqH,OAAO1P,QAClCqI,EAAUmM,cAAcxU,QAA4C,QAAjC3J,EAAKqgB,EAASC,qBAAkC,IAAPtgB,EAAgBA,EAAKqgB,EAASE,UAC9G,MAEIvO,EAAUmM,cAAcxU,QAAUqI,EAAUqH,OAAO1P,QAEvD,IAAM6W,EAAa/Z,EAAe,gCAC9B+Z,SACoCpf,IAAhCof,EAAWhF,iBACXY,GAAeoE,EAAY,SAAU3D,EAASgB,YAAavB,QAE3Blb,IAA3Bof,EAAWC,cACZnE,EACAkE,EAAWC,YAAY5D,EAASkB,gBAGhCyC,EAAWE,eAAe7D,EAASkB,kBAI/C,IAAM4C,EAAkB3O,EAAUmM,cAAcxU,QAChD,GAAKgX,EAAL,CAGA,IAAMC,EAAOD,GACT5c,EAAQoa,cAAcO,OAAOmC,QAAQ7c,QAAUD,EAAQoa,cAAcO,OAAOC,QAAQ3a,UACpFoY,GAAeuE,EAAiBjP,GAAgBmL,EAASC,UAAWR,GACpEF,GAAeuE,EF/HI,aE+H8B9D,EAASI,WAAYX,GACtEF,GAAeuE,EF/HG,YE+H8B9D,EAASK,UAAWZ,GAC/DvY,EAAQoa,cAAcO,OAAOC,QAAQ3a,QAItCoY,GAAeuE,EAAiBlP,GAAeoL,EAASU,cAAejB,GACvEF,GAAeuE,EFxIH,YEwIkC9D,EAASY,QAASnB,GAChEF,GAAeuE,EF1ID,cE0IkC9D,EAASa,UAAWpB,IALpEF,GAAeuE,EAAiBlP,GAAeoL,EAASM,SAAUb,GAOtEF,GAAeuE,EAAiBP,EAAoBvD,EAASQ,WAAYf,GACzEF,GAAeuE,EFtIK,cEsI8B9D,EAASS,YAAahB,IAExEtK,EAAUqH,OAAO1P,UACjBqI,EAAUqH,OAAO1P,QAAQ0O,MAAMyI,cAAgBF,IAAS5O,EAAUqH,OAAO1P,QAAU,UAAY,QAE/F5F,EAAQoa,cAAcO,OAAOlH,SACC,qBAAnBuJ,eACHphB,KAAKqhB,iBAAmB1E,GACpBtK,EAAUqH,OAAO1P,SACjBhK,KAAKqhB,eAAeC,UAAUjP,EAAUqH,OAAO1P,SAEnDhK,KAAKqhB,eAAerN,oBACbhU,KAAKqhB,iBAENrhB,KAAKqhB,gBAAkB1E,GAAOtK,EAAUqH,OAAO1P,UACrDhK,KAAKqhB,eAAiB,IAAID,gBAAe,SAACG,GACxBA,EAAQtV,MAAK,SAACmR,GAAC,OAAKA,EAAEoE,SAAWnP,EAAUqH,OAAO1P,OAAO,KAIvE,EAAKqU,oBACT,IACAre,KAAKqhB,eAAejJ,QAAQ/F,EAAUqH,OAAO1P,UAIjDyS,GAAe7V,OF/JJ,SE+JyBsW,EAASrF,OAAQ8E,IAGzD9V,UACA4V,GAAe5V,SFlKU,mBEkKuBqW,EAASc,iBAAkBrB,GAAK,EA7CpF,CA+CJ,GAAC,uBACD,WACI,IAAM6B,EAAgBxe,KAAKqS,UAAUmM,cACrC,GAAIA,EAAe,CACf,IAAMC,EAAQD,EAAcC,MAC5BA,EAAMgD,UAAW,EACjBhD,EAAMiD,aAAejD,EAAMjZ,QAC/B,CACJ,GAAC,6BACD,SAAgB4X,GACZ,IAAM/K,EAAYrS,KAAKqS,UAAWjO,EAAUiO,EAAUa,cAAeuL,EAAQpM,EAAUmM,cAAcC,MACrGA,EAAMtW,QAAS,EACf,IAAIwZ,GAAU,EACRC,EAAgBnD,EAAMjZ,SAC5B,GAAKoc,GAAkBxd,EAAQoa,cAAcO,OAAOC,QAAQ3a,OAA5D,CAEC,IACyC,EADzC,UACwBgO,EAAU4G,SAAO,IAA1C,IAAK,EAAL,qBAA4C,KAA9BvB,GAA8B,kBAAxB,GAChB,GAAKA,EAAOmK,qBAGZF,EAAUjK,EAAOmK,mBAAmBD,IAEhC,KAER,CAAC,+BACID,GACD3hB,KAAK8hB,kBAAkB1E,GAE3BqB,EAAMgD,UAAW,CAbjB,CAcJ,GAAC,8BACD,WACI,IAAMjD,EAAgBxe,KAAKqS,UAAUmM,cACrC,GAAKA,EAAL,CAGA,IAAMC,EAAQD,EAAcC,aACrBA,EAAMjZ,gBACNiZ,EAAME,qBACNF,EAAMiD,aACblD,EAAc9N,OAASsB,GACvByM,EAAMtW,QAAS,EACfsW,EAAMgD,UAAW,CAPjB,CAQJ,GAAC,4BACD,SAAerE,GACX,IAAI/c,EAAIgF,EAAIC,EAAIC,EAAImQ,EAAIqM,EAAIC,EACtB3P,EAAYrS,KAAKqS,UAAWjO,EAAUiO,EAAUa,cACtD,GAAyC,QAAlC7S,EAAKgS,EAAUmM,qBAAkC,IAAPne,OAAgB,EAASA,EAAG2J,QAA7E,CAIA,IAAI6L,EADJxD,EAAUmM,cAAcC,MAAMtW,QAAS,EAEvC,IAAMuR,EAASrH,EAAUqH,OAAO1P,QAChC,GAAIoT,EAAEjd,KAAKuM,WAAW,WAAY,CAC9B1M,KAAKid,SAAU,EACf,IAAMgF,EAAa7E,EACnB,GAAI/K,EAAUmM,cAAcxU,UAAYpD,QACpC,GAAI8S,EAAQ,CACR,IAAMwI,EAAaxI,EAAOyI,wBAC1BtM,EAAM,CACFtU,EAAG0gB,EAAWG,QAAUF,EAAW5Z,KACnCjH,EAAG4gB,EAAWI,QAAUH,EAAW9Z,IAE3C,OAEC,GAAwC,WAApChE,EAAQoa,cAAcgC,UAAwB,CACnD,IAAM9d,EAASuf,EAAWT,OAAQA,EAASS,EAAWK,cAAe5B,EAAWrO,EAAUqH,OAAO1P,QACjG,GAAItH,GAAU8e,GAAUd,EAAU,CAC9B,IAAM6B,EAAa7f,EAAOyf,wBAAyBK,EAAahB,EAAOW,wBAAyBM,EAAa/B,EAASyB,wBACtHtM,EAAM,CACFtU,EAAG0gB,EAAWS,QAAU,EAAIH,EAAWja,MAAQka,EAAWla,KAAOma,EAAWna,MAC5EjH,EAAG4gB,EAAWU,QAAU,EAAIJ,EAAWna,KAAOoa,EAAWpa,IAAMqa,EAAWra,KAElF,MAEIyN,EAAM,CACFtU,EAAiC,QAA7B8D,EAAK4c,EAAWS,eAA4B,IAAPrd,EAAgBA,EAAK4c,EAAWG,QACzE/gB,EAAiC,QAA7BiE,EAAK2c,EAAWU,eAA4B,IAAPrd,EAAgBA,EAAK2c,EAAWI,QAGrF,MACSJ,EAAWT,SAAWnP,EAAUqH,OAAO1P,UAC5C6L,EAAM,CACFtU,EAAiC,QAA7BgE,EAAK0c,EAAWS,eAA4B,IAAPnd,EAAgBA,EAAK0c,EAAWG,QACzE/gB,EAAiC,QAA7BqU,EAAKuM,EAAWU,eAA4B,IAAPjN,EAAgBA,EAAKuM,EAAWI,SAGrF,KACK,CACDriB,KAAKid,QAAqB,cAAXG,EAAEjd,KACjB,IAAMyiB,EAAaxF,EAAGyF,EAAYD,EAAWE,QAAQF,EAAWE,QAAQ/hB,OAAS,GAAI0hB,EAAwB,OAAX/I,QAA8B,IAAXA,OAAoB,EAASA,EAAOyI,wBACzJtM,EAAM,CACFtU,EAAGshB,EAAUT,SAA8F,QAAlFL,EAAoB,OAAfU,QAAsC,IAAfA,OAAwB,EAASA,EAAWna,YAAyB,IAAPyZ,EAAgBA,EAAK,GACxI1gB,EAAGwhB,EAAUR,SAA6F,QAAjFL,EAAoB,OAAfS,QAAsC,IAAfA,OAAwB,EAASA,EAAWra,WAAwB,IAAP4Z,EAAgBA,EAAK,GAE/I,CACA,IAAM5H,EAAU/H,EAAU4E,OAAOC,WAC7BrB,IACAA,EAAItU,GAAK6Y,EACTvE,EAAIxU,GAAK+Y,GAEb/H,EAAUmM,cAAcC,MAAMjZ,SAAWqQ,EACzCxD,EAAUmM,cAAc9N,OAASqB,EArDjC,CAsDJ,KAAC,EApQsB,GClB3B,SAASgR,GAAU9f,GAAsC,IAA/B+f,EAAW,UAAH,6CAAG,GAAIC,EAAS,UAAH,8CAC3C,MAAO,CACHhgB,MAAAA,EACAuD,OAAQyc,EAAS,GAAKD,EAAY,GAAK/f,EAAS,IAExD,CACO,IAAMigB,GAAY,WACrB,WAAY7Q,IAAW,eACnBrS,KAAKqS,UAAYA,CACrB,CA+BC,OA/BA,0EACD,WAAgB8Q,GAAS,gFAGe,GAHf,UAGX9Q,EAAYrS,KAAKqS,WACR4Q,aACiBxhB,IAA5B4Q,EAAU+Q,iBACVD,EAAY9Q,EAAU+Q,cAAgB,IAAO/Q,EAAU2Q,UAAQ,gBACzC,OAAtB3Q,EAAUyB,MAAK,GAAO,0BAMU,GAHD,QAAlCzT,EAAKgS,EAAU+Q,qBAAkC,IAAP/iB,IAAsBgS,EAAU+Q,cAAgBD,GACrF/O,EAAQ2O,GAAUI,EAAY9Q,EAAU+Q,cAAe/Q,EAAU2Q,SAAU3Q,EAAU4Q,QAC3F5Q,EAAUgR,UAAYjP,EAAMnR,MAC5BoP,EAAU+Q,cAAgBD,IACtB/O,EAAMnR,MAAQ,KAAI,iBACI,OAAtBoP,EAAUyB,MAAK,GAAO,4CAGpBzB,EAAUgB,UAAUS,KAAKM,GAAM,aACjC/B,EAAUiR,SAAW,GAAKjR,EAAUgR,SAAWhR,EAAUiR,UAAQ,iBAC7C,OAApBjR,EAAUkR,UAAU,2BAGpBlR,EAAU4N,sBACV5N,EAAUyB,MAAK,GAClB,kDAGDmE,QAAQC,MAAM,sCAAuC,EAAF,IAAK,0DAE/D,mDA/BA,MA+BA,EAlCoB,GCNZsL,GAAY,WACrB,cAAc,eACVxjB,KAAKiD,MAAQ,EACjB,CAaC,OAbA,4BAcD,SAAKmC,QACgE3D,KAAnD,OAAT2D,QAA0B,IAATA,OAAkB,EAASA,EAAKnC,SAGtDjD,KAAKiD,MAAQmC,EAAKnC,MACtB,IAAC,qBAlBD,SAAcP,EAAQ0C,GAClB,IAAMmI,EAAQ,IAAIiW,EAUlB,OATAjW,EAAM/F,KAAK9E,QACEjB,IAAT2D,IACoB,kBAATA,GAAqBA,aAAgB+B,MAC5CoG,EAAM/F,KAAK,CAAEvE,MAAOmC,IAGpBmI,EAAM/F,KAAKpC,IAGZmI,CACX,KAAC,EAhBoB,GCCZkW,GAAU,WACnB,cAAc,eACVzjB,KAAKuN,MAAQ,IAAIiW,GACjBxjB,KAAKuN,MAAMtK,MAAQ,GACnBjD,KAAK4T,MAAQ,GACb5T,KAAKwF,SAAW,GAChBxF,KAAK+Y,OAAS,GACd/Y,KAAKyF,KAAO,GACZzF,KAAK2O,QAAU,CACnB,CAuBC,OAvBA,4BACD,SAAKvJ,GACIA,SAGc3D,IAAf2D,EAAKmI,QACLvN,KAAKuN,MAAQiW,GAAathB,OAAOlC,KAAKuN,MAAOnI,EAAKmI,aAEnC9L,IAAf2D,EAAKwO,QACL5T,KAAK4T,MAAQxO,EAAKwO,YAEAnS,IAAlB2D,EAAKI,WACLxF,KAAKwF,SAAWJ,EAAKI,eAEL/D,IAAhB2D,EAAK2T,SACL/Y,KAAK+Y,OAAS3T,EAAK2T,aAELtX,IAAd2D,EAAKK,OACLzF,KAAKyF,KAAOL,EAAKK,WAEAhE,IAAjB2D,EAAKuJ,UACL3O,KAAK2O,QAAUvJ,EAAKuJ,SAE5B,KAAC,EAhCkB,GCAV+U,GAAmB,WAC5B,cAAc,eACV1jB,KAAKuN,MAAQ,IAAIiW,GACjBxjB,KAAKuN,MAAMtK,MAAQ,OACnBjD,KAAK2O,QAAU,CACnB,CAWC,OAXA,4BACD,SAAKvJ,GACIA,SAGc3D,IAAf2D,EAAKmI,QACLvN,KAAKuN,MAAQiW,GAAathB,OAAOlC,KAAKuN,MAAOnI,EAAKmI,aAEjC9L,IAAjB2D,EAAKuJ,UACL3O,KAAK2O,QAAUvJ,EAAKuJ,SAE5B,KAAC,EAhB2B,GCAnBgV,GAAc,WACvB,cAAc,eACV3jB,KAAK2V,UAAY,kBACjB3V,KAAKka,MAAQ,IAAIwJ,GACjB1jB,KAAKqE,QAAS,CAClB,CAgBC,OAhBA,4BACD,SAAKe,GACD,GAAKA,EAAL,CAMA,QAHuB3D,IAAnB2D,EAAKuQ,YACL3V,KAAK2V,UAAYvQ,EAAKuQ,gBAEPlU,IAAf2D,EAAK8U,MAAqB,CAC1B,IAAMA,EAAQ9U,EAAK8U,MACb3M,EAA+B,kBAAfnI,EAAK8U,MAAqB,CAAE3M,MAAOnI,EAAK8U,OAAU9U,EAAK8U,MAC7Ela,KAAKka,MAAM1S,UAAqB/F,IAAhByY,EAAM3M,MAAsB2M,EAAQ,CAAE3M,MAAOA,GACjE,MACoB9L,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,OAVvB,CAYJ,KAAC,EArBsB,GCDduf,GAAU,WACnB,cAAc,eACV5jB,KAAKqE,QAAS,EACdrE,KAAK6U,OAAS,CAClB,CAWC,OAXA,4BACD,SAAKzP,GACIA,SAGe3D,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEH5C,IAAhB2D,EAAKyP,SACL7U,KAAK6U,OAASzP,EAAKyP,QAE3B,KAAC,EAfkB,GCAVgP,GAAU,WACnB,cAAc,eACV7jB,KAAKqE,QAAS,EACdrE,KAAKoJ,KAAO,EAChB,CAWC,OAXA,4BACD,SAAKhE,GACIA,SAGe3D,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEL5C,IAAd2D,EAAKgE,OACLpJ,KAAKoJ,KAAOhE,EAAKgE,MAEzB,KAAC,EAfkB,GCCV0a,GAAQ,WACjB,cAAc,eACV9jB,KAAK6J,UAAY,GACjB7J,KAAKqE,QAAS,EACdrE,KAAKoJ,KAAO,GACZpJ,KAAKG,KAAO,QAChB,CAwCC,OAxCA,wBACD,WACI,OAAOH,KAAK+jB,SAChB,EAAC,IACD,SAAO9gB,GACHjD,KAAK+jB,UAAY9gB,CACrB,GAAC,qBACD,WACI,OAAOjD,KAAKgkB,GAChB,EAAC,IACD,SAAc/gB,GACVjD,KAAKgkB,IAAM/gB,CACf,GAAC,eACD,WACI,OAAOyG,EAA0B1J,KAAK6J,WAAW,SAACN,GAAC,OAAKA,EAAEuD,QAAQ,IAAK,GAAG,GAC9E,EAAC,IACD,SAAQ7J,GACJjD,KAAK6J,UAAYH,EAA0BzG,GAAO,SAACsG,GAAC,iBAASA,EAAC,GAClE,GAAC,kBACD,SAAKnE,GACD,IAAI/E,EAAIgF,EACR,GAAKD,EAAL,CAGA,IAAM4e,EAAiF,QAA1E3e,EAAyB,QAAnBhF,EAAK+E,EAAK4e,WAAwB,IAAP3jB,EAAgBA,EAAK+E,EAAK2e,iBAA8B,IAAP1e,EAAgBA,EAAKD,EAAK6e,QAC7GxiB,IAARuiB,IACAhkB,KAAKgkB,IAAMA,QAEQviB,IAAnB2D,EAAKyE,YACL7J,KAAK6J,UAAYzE,EAAKyE,gBAENpI,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEL5C,IAAd2D,EAAKgE,OACLpJ,KAAKoJ,KAAOhE,EAAKgE,WAEH3H,IAAd2D,EAAKjF,OACLH,KAAKG,KAAOiF,EAAKjF,KAfrB,CAiBJ,KAAC,EA9CgB,GCDR+jB,GAAQ,WACjB,cAAc,eACVlkB,KAAKqE,QAAS,EACdrE,KAAKmkB,MAAQ,EACbnkB,KAAKijB,OAAS,EAClB,CAcC,OAdA,4BACD,SAAK7d,GACIA,SAGe3D,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEJ5C,IAAf2D,EAAK+e,QACLnkB,KAAKmkB,MAAQ/e,EAAK+e,YAEF1iB,IAAhB2D,EAAK6d,SACLjjB,KAAKijB,OAAS7d,EAAK6d,QAE3B,KAAC,EAnBgB,GCCRmB,GAAU,WACnB,cAAc,eACVpkB,KAAKqE,QAAS,EACdrE,KAAKoJ,KAAO,GACZpJ,KAAKqkB,SAAW,IAAIH,EACxB,CAYC,OAZA,4BACD,SAAK9e,GACIA,SAGe3D,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEL5C,IAAd2D,EAAKgE,OACLpJ,KAAKoJ,KAAOhE,EAAKgE,MAErBpJ,KAAKqkB,SAAS7c,KAAKpC,EAAKif,UAC5B,KAAC,EAjBkB,GCDVC,GAAW,WACpB,cAAc,eACVtkB,KAAKsgB,MAAQ,GACbtgB,KAAKqE,QAAS,CAClB,CAWC,OAXA,4BACD,SAAKe,QACY3D,IAAT2D,SAGe3D,IAAf2D,EAAKkb,QACLtgB,KAAKsgB,MAAQlb,EAAKkb,YAEF7e,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,QAE3B,KAAC,EAfmB,GCKXkgB,GAAM,WACf,cAAc,eACVvkB,KAAKgf,QAAU,IAAI6E,GACnB7jB,KAAKwkB,MAAQ,IAAIV,GACjB9jB,KAAKkhB,QAAU,IAAIkD,GACnBpkB,KAAK6X,OAAS,IAAIyM,EACtB,CAwCC,OAxCA,6BACD,WACI,OAAOtkB,KAAKgf,OAChB,EAAC,IACD,SAAY/b,GACRjD,KAAKgf,QAAU/b,CACnB,GAAC,iBACD,WACI,OAAOjD,KAAKwkB,KAChB,EAAC,IACD,SAAUvhB,GACNjD,KAAKwkB,MAAQvhB,CACjB,GAAC,mBACD,WACI,OAAOjD,KAAKkhB,OAChB,EAAC,IACD,SAAYje,GACRjD,KAAKkhB,QAAUje,CACnB,GAAC,kBACD,SAAKmC,GACD,IAAI/E,EAAIgF,EAAIC,EACZ,GAAKF,EAAL,CAGApF,KAAKgf,QAAQxX,KAA6B,QAAvBnH,EAAK+E,EAAK4Z,eAA4B,IAAP3e,EAAgBA,EAAK+E,EAAKqf,SAC5E,IAAMD,EAA8B,QAArBnf,EAAKD,EAAKof,aAA0B,IAAPnf,EAAgBA,EAAKD,EAAKsf,WACxDjjB,IAAV+iB,IACAxkB,KAAKwkB,MAAQ9a,EAA0B8a,GAAO,SAACjb,GAC3C,IAAMob,EAAM,IAAIb,GAEhB,OADAa,EAAInd,KAAK+B,GACFob,CACX,KAEJ3kB,KAAKkhB,QAAQ1Z,KAA6B,QAAvBlC,EAAKF,EAAK8b,eAA4B,IAAP5b,EAAgBA,EAAKF,EAAKwf,SACjD,mBAAhBxf,EAAKyS,OACZ7X,KAAK6X,OAAOxT,OAASe,EAAKyS,OAG1B7X,KAAK6X,OAAOrQ,KAAKpC,EAAKyS,OAf1B,CAiBJ,KAAC,EA9Cc,GCLNgN,GAAK,WACd,WAAYC,EAAQzS,IAAW,eAC3BrS,KAAK+kB,QAAUD,EACf9kB,KAAKglB,WAAa3S,CACtB,CAeC,OAfA,4BACD,SAAKjN,GACD,GAAKA,GAGDpF,KAAKglB,WAAY,CACjB,IAAMC,EAAcjlB,KAAK+kB,QAAQ9L,QAAQgM,YAAY1kB,IAAIP,KAAKglB,YAC9D,GAAIC,EAAa,KACuB,EADvB,UACYA,GAAW,IAApC,IAAK,EAAL,qBAAsC,KAA3BC,EAAU,QACbA,EAAWC,iBACXD,EAAWC,gBAAgBnlB,KAAMoF,EAEzC,CAAC,+BACL,CACJ,CACJ,KAAC,EAnBa,GCELggB,GAAa,WACtB,WAAYN,EAAQzS,IAAW,eAC3BrS,KAAKwgB,UAAY,SACjBxgB,KAAK+e,OAAS,IAAIwF,GAClBvkB,KAAKqlB,MAAQ,IAAIR,GAAMC,EAAQzS,EACnC,CAkBC,OAlBA,+BACD,WACI,OAAOrS,KAAKwgB,SAChB,EAAC,IACD,SAAcvd,GACVjD,KAAKwgB,UAAYvd,CACrB,GAAC,kBACD,SAAKmC,GACD,IAAI/E,EACJ,GAAK+E,EAAL,CAGA,IAAMob,EAAsC,QAAzBngB,EAAK+E,EAAKob,iBAA8B,IAAPngB,EAAgBA,EAAK+E,EAAKkgB,eAC5D7jB,IAAd+e,IACAxgB,KAAKwgB,UAAYA,GAErBxgB,KAAK+e,OAAOvX,KAAKpC,EAAK2Z,QACtB/e,KAAKqlB,MAAM7d,KAAKpC,EAAKigB,MANrB,CAOJ,KAAC,EAvBqB,GCDbE,GAAc,wCAetB,OAfsB,4BACvB,SAAKngB,GACD,IAAI/E,EAAIgF,EACHD,SAGiB3D,IAAlB2D,EAAKI,WACLxF,KAAKwF,SAAW,CACZjE,EAA8B,QAA1BlB,EAAK+E,EAAKI,SAASjE,SAAsB,IAAPlB,EAAgBA,EAAK,GAC3DgB,EAA8B,QAA1BgE,EAAKD,EAAKI,SAASnE,SAAsB,IAAPgE,EAAgBA,EAAK,UAG9C5D,IAAjB2D,EAAKhB,UACLpE,KAAKoE,QAAUsE,EAAW,CAAC,EAAGtD,EAAKhB,UAE3C,KAAC,EAfsB,GCAdohB,GAAU,WACnB,cAAc,eACVxlB,KAAKylB,SAAWC,IAChB1lB,KAAKoE,QAAU,CAAC,EAChBpE,KAAKoJ,KAAO,QAChB,CAmBC,OAnBA,4BACD,SAAKhE,GACIA,SAGiB3D,IAAlB2D,EAAKqgB,WACLzlB,KAAKylB,SAAWrgB,EAAKqgB,eAEPhkB,IAAd2D,EAAKgE,OACa,WAAdhE,EAAKgE,KACLpJ,KAAKoJ,KAAO,SAGZpJ,KAAKoJ,KAAO,eAGC3H,IAAjB2D,EAAKhB,UACLpE,KAAKoE,QAAUsE,EAAW,CAAC,EAAGtD,EAAKhB,UAE3C,KAAC,EAxBkB,GCDVuhB,GAAY,WACrB,cAAc,eACV3lB,KAAK2f,MAAO,EACZ3f,KAAKoJ,KAAO,MACZpJ,KAAKiD,OAAQ,CACjB,CAcC,OAdA,4BACD,SAAKmC,GACIA,SAGa3D,IAAd2D,EAAKua,OACL3f,KAAK2f,KAAOva,EAAKua,WAEHle,IAAd2D,EAAKgE,OACLpJ,KAAKoJ,KAAOhE,EAAKgE,WAEF3H,IAAf2D,EAAKnC,QACLjD,KAAKiD,MAAQmC,EAAKnC,OAE1B,KAAC,EAnBoB,GCEZ2iB,GAAK,WACd,cAAc,eACV5lB,KAAKgD,KAAO,GACZhD,KAAK0f,QAAU,IAAIiG,EACvB,CAYC,OAZA,4BACD,SAAKvgB,GACIA,SAGa3D,IAAd2D,EAAKpC,OACLhD,KAAKgD,KAAOoC,EAAKpC,MAErBhD,KAAK0f,QAAQlY,KAAKpC,EAAKsa,cACFje,IAAjB2D,EAAKhB,UACLpE,KAAKoE,QAAUsE,EAAW,CAAC,EAAGtD,EAAKhB,UAE3C,KAAC,EAhBa,G,sBCDLyhB,GAAc,WACvB,cAAc,eACV7lB,KAAK6Q,MAAQ,EACb7Q,KAAKqE,QAAS,EACdrE,KAAK+H,OAAS,EACd/H,KAAKwQ,MAAQ,EACbxQ,KAAKyQ,MAAQ,EACbzQ,KAAK8Q,MAAO,CAChB,CAuBC,OAvBA,4BACD,SAAK1L,GACIA,SAGc3D,IAAf2D,EAAKyL,QACL7Q,KAAK6Q,MAAQ3M,EAAckB,EAAKyL,aAEhBpP,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEH5C,IAAhB2D,EAAK2C,SACL/H,KAAK+H,OAAS7D,EAAckB,EAAK2C,cAElBtG,IAAf2D,EAAKoL,QACLxQ,KAAKwQ,MAAQtM,EAAckB,EAAKoL,aAEjB/O,IAAf2D,EAAKqL,QACLzQ,KAAKyQ,MAAQvM,EAAckB,EAAKqL,aAElBhP,IAAd2D,EAAK0L,OACL9Q,KAAK8Q,KAAO1L,EAAK0L,MAEzB,KAAC,EA/BsB,GCAdgV,GAAY,WACrB,cAAc,eACV9lB,KAAKmO,EAAI,IAAI0X,GACb7lB,KAAKqO,EAAI,IAAIwX,GACb7lB,KAAKoO,EAAI,IAAIyX,EACjB,CAQC,OARA,4BACD,SAAKzgB,GACIA,IAGLpF,KAAKmO,EAAE3G,KAAKpC,EAAK+I,GACjBnO,KAAKqO,EAAE7G,KAAKpC,EAAKiJ,GACjBrO,KAAKoO,EAAE5G,KAAKpC,EAAKgJ,GACrB,KAAC,EAboB,GCCZ2X,GAAe,0CACxB,aAAc,MAE0B,OAF1B,gBACV,gBACK/V,UAAY,IAAI8V,GAAe,CACxC,CAaC,OAbA,4BAcD,SAAK1gB,GAED,IADA,qDAAWA,GACNA,EAAL,CAGA,IAAMmL,EAAiBnL,EAAK4K,eACLvO,IAAnB8O,SAC8B9O,IAA1B8O,EAAelM,OACfrE,KAAKgQ,UAAU7B,EAAE3G,KAAK+I,GAGtBvQ,KAAKgQ,UAAUxI,KAAKpC,EAAK4K,WAPjC,CAUJ,IAAC,qBA3BD,SAActN,EAAQ0C,GAClB,IAAMmI,EAAQ,IAAIwY,EAUlB,OATAxY,EAAM/F,KAAK9E,QACEjB,IAAT2D,IACoB,kBAATA,GAAqBA,aAAgB+B,MAC5CoG,EAAM/F,KAAK,CAAEvE,MAAOmC,IAGpBmI,EAAM/F,KAAKpC,IAGZmI,CACX,KAAC,EAjBuB,CAASiW,ICFxBwC,GAAgB,WACzB,cAAc,eACVhmB,KAAKwQ,MAAQ,CACjB,CAQC,OARA,4BACD,SAAKpL,GACIA,QAGc3D,IAAf2D,EAAKoL,QACLxQ,KAAKwQ,MAAQpL,EAAKoL,MAE1B,KAAC,EAXwB,GCAhByV,GAAiB,WAC1B,cAAc,eACVjmB,KAAKqE,QAAS,EACdrE,KAAKkmB,QAAU,CACnB,CAWC,OAXA,4BACD,SAAK9gB,GACIA,SAGe3D,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEF5C,IAAjB2D,EAAK8gB,UACLlmB,KAAKkmB,QAAU9gB,EAAK8gB,SAE5B,KAAC,EAfyB,GCAjBC,GAAM,WACf,cAAc,eACVnmB,KAAKqE,QAAS,EACdrE,KAAKsE,aAAe,CACxB,CAWC,OAXA,4BACD,SAAKc,GACIA,SAGe3D,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEG5C,IAAtB2D,EAAKd,eACLtE,KAAKsE,aAAec,EAAKd,cAEjC,KAAC,EAfc,GCEN8hB,GAAe,WACxB,cAAc,eACVpmB,KAAK6C,OAAS,IAAIsjB,GAClBnmB,KAAKiD,MAAQ,CACjB,CAcC,OAdA,4BACD,SAAKmC,GACIA,IAGsB,mBAAhBA,EAAKvC,OACZ7C,KAAK6C,OAAOwB,OAASe,EAAKvC,OAG1B7C,KAAK6C,OAAO2E,KAAKpC,EAAKvC,aAEPpB,IAAf2D,EAAKnC,QACLjD,KAAKiD,MAAQiB,EAAckB,EAAKnC,MAAOjD,KAAK6C,OAAOwB,OAASrE,KAAK6C,OAAOyB,kBAAe7C,IAE/F,KAAC,EAlBuB,GCDf4kB,GAAqB,0CAC9B,aAAc,MAGK,OAHL,gBACV,gBACKxjB,OAAOyB,aAAe,GAC3B,EAAKrB,MAAQ,EAAE,CACnB,CAAC,iBAL6B,CAASmjB,ICA9BE,GAAe,WACxB,cAAc,eACVtmB,KAAK2K,WAAa,IAAI0b,GACtBrmB,KAAK4K,SAAW,IAAIyb,EACxB,CAOC,OAPA,4BACD,SAAKjhB,GACIA,IAGLpF,KAAK2K,WAAWnD,KAAKpC,EAAKuF,YAC1B3K,KAAK4K,SAASpD,KAAKpC,EAAKwF,UAC5B,KAAC,EAXuB,GCEf2b,GAAU,WACnB,cAAc,eACVvmB,KAAKwmB,OAAS,IAAIR,GAClBhmB,KAAK0K,OAAS,IAAI4b,GAClBtmB,KAAKqE,QAAS,EACdrE,KAAKoJ,KAAO,SACZpJ,KAAKymB,QAAU,IAAIR,EACvB,CAcC,OAdA,4BACD,SAAK7gB,GACIA,IAGLpF,KAAKwmB,OAAOhf,KAAKpC,EAAKohB,QACtBxmB,KAAK0K,OAAOlD,KAAKpC,EAAKsF,aACFjJ,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEL5C,IAAd2D,EAAKgE,OACLpJ,KAAKoJ,KAAOhE,EAAKgE,MAErBpJ,KAAKymB,QAAQjf,KAAKpC,EAAKqhB,SAC3B,KAAC,EArBkB,GCFVC,GAAS,WAClB,cAAc,eACV1mB,KAAK+H,OAAS,EACd/H,KAAKiD,MAAQ,EACjB,CAWC,OAXA,4BACD,SAAKmC,GACIA,SAGe3D,IAAhB2D,EAAK2C,SACL/H,KAAK+H,OAAS7D,EAAckB,EAAK2C,cAElBtG,IAAf2D,EAAKnC,QACLjD,KAAKiD,MAAQiB,EAAckB,EAAKnC,QAExC,KAAC,EAfiB,GCAT0jB,GAAW,WACpB,cAAc,eACV3mB,KAAK4E,SAAW,IAChB5E,KAAKqE,QAAS,EACdrE,KAAKqL,OAAS,CACV9J,EAAG,IACHF,EAAG,IAEX,CAgCC,OAhCA,6BACD,WACI,OAAOrB,KAAKqL,OAAO9J,CACvB,EAAC,IACD,SAAY0B,GACRjD,KAAKqL,OAAO9J,EAAI0B,CACpB,GAAC,mBACD,WACI,OAAOjD,KAAKqL,OAAOhK,CACvB,EAAC,IACD,SAAY4B,GACRjD,KAAKqL,OAAOhK,EAAI4B,CACpB,GAAC,kBACD,SAAKmC,GACD,IAAI/E,EAAIgF,EAAIC,EAAIC,EAChB,GAAKH,EAAL,MAGsB3D,IAAlB2D,EAAKR,WACL5E,KAAK4E,SAAWV,EAAckB,EAAKR,gBAEnBnD,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,QAEvB,IAAMuiB,EAAkF,QAAvEvhB,EAA4B,QAAtBhF,EAAK+E,EAAKiG,cAA2B,IAAPhL,OAAgB,EAASA,EAAGkB,SAAsB,IAAP8D,EAAgBA,EAAKD,EAAKwhB,aAC1GnlB,IAAZmlB,IACA5mB,KAAKqL,OAAO9J,EAAIqlB,GAEpB,IAAMC,EAAkF,QAAvEthB,EAA4B,QAAtBD,EAAKF,EAAKiG,cAA2B,IAAP/F,OAAgB,EAASA,EAAGjE,SAAsB,IAAPkE,EAAgBA,EAAKH,EAAKyhB,aAC1GplB,IAAZolB,IACA7mB,KAAKqL,OAAOhK,EAAIwlB,EAbpB,CAeJ,KAAC,EAxCmB,GCDXC,GAAU,WACnB,cAAc,eACV9mB,KAAKuB,EAAI,GACTvB,KAAKqB,EAAI,GACTrB,KAAKoJ,KAAO,UACZpJ,KAAKgI,OAAS,CAClB,CAiBC,OAjBA,4BACD,SAAK5C,GACIA,SAGU3D,IAAX2D,EAAK7D,IACLvB,KAAKuB,EAAI6D,EAAK7D,QAEHE,IAAX2D,EAAK/D,IACLrB,KAAKqB,EAAI+D,EAAK/D,QAEAI,IAAd2D,EAAKgE,OACLpJ,KAAKoJ,KAAOhE,EAAKgE,WAED3H,IAAhB2D,EAAK4C,SACLhI,KAAKgI,OAAS5C,EAAK4C,QAE3B,KAAC,EAvBkB,GCCV+e,GAAW,WACpB,cAAc,eACV/mB,KAAKgnB,aAAe,KACpBhnB,KAAKqE,QAAS,EACdrE,KAAKinB,SAAU,EACfjnB,KAAKknB,SAAW,EACpB,CAiBC,OAjBA,4BACD,SAAK9hB,GACIA,SAGqB3D,IAAtB2D,EAAK4hB,eACLhnB,KAAKgnB,aAAe9iB,EAAckB,EAAK4hB,oBAEvBvlB,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEF5C,IAAjB2D,EAAK6hB,UACLjnB,KAAKinB,QAAU7hB,EAAK6hB,cAEFxlB,IAAlB2D,EAAK8hB,WACLlnB,KAAKknB,SAAWhjB,EAAckB,EAAK8hB,WAE3C,KAAC,EAvBmB,GCCXC,GAAQ,WACjB,cAAc,eACVnnB,KAAKmD,OAAQ,EACbnD,KAAKsgB,MAAQ,IAAI8F,GACjBpmB,KAAKqE,QAAS,EACdrE,KAAKoE,QAAU,CAAC,CACpB,CAgBC,OAhBA,4BACD,SAAKgB,GACIA,SAGc3D,IAAf2D,EAAKjC,QACLnD,KAAKmD,MAAQiC,EAAKjC,OAEtBnD,KAAKsgB,MAAM9Y,KAAKpC,EAAKkb,YACD7e,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,QAEvBrE,KAAKonB,UAAYhiB,EAAKgiB,UAClBhiB,EAAKhB,UACLpE,KAAKoE,QAAUsE,EAAW1I,KAAKoE,QAASgB,EAAKhB,UAErD,KAAC,EAtBgB,GCDRijB,GAAa,wCAWrB,OAXqB,4BACtB,SAAKjiB,GACIA,SAGc3D,IAAf2D,EAAKmI,QACLvN,KAAKuN,MAAQiW,GAAathB,OAAOlC,KAAKuN,MAAOnI,EAAKmI,aAEnC9L,IAAf2D,EAAKwO,QACL5T,KAAK4T,MAAQxO,EAAKwO,OAE1B,KAAC,EAXqB,GCAb0T,GAAS,WAClB,cAAc,eACVtnB,KAAKqE,QAAS,EACdrE,KAAKe,OAAS,GACdf,KAAKuV,KAAO,IAAI8R,EACpB,CAoBC,OApBA,+BACD,WACI,OAAOrnB,KAAKuV,KAAKhI,KACrB,EAAC,IACD,SAActK,GACVjD,KAAKuV,KAAK/N,KAAK,CAAE+F,MAAOtK,GAC5B,GAAC,kBACD,SAAKmC,GACIA,SAGe3D,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEL5C,IAAd2D,EAAKmQ,WAAyC9T,IAAnB2D,EAAKmW,WAChCvb,KAAKuV,KAAK/N,KAAKpC,EAAKmQ,MAAQ,CAAEhI,MAAOnI,EAAKmW,iBAE1B9Z,IAAhB2D,EAAKrE,SACLf,KAAKe,OAASqE,EAAKrE,QAE3B,KAAC,EAzBiB,GCDTwmB,GAAQ,WACjB,cAAc,eACVvnB,KAAK0f,QAAU,KACnB,CAaC,OAbA,4BACD,SAAKta,GACD,IAAI/E,EAAIgF,EAAIC,EAAIC,EACXH,SAGgB3D,IAAjB2D,EAAKsa,UACL1f,KAAK0f,QAAUta,EAAKsa,SAExB1f,KAAKuI,OAAgC,QAAtBlI,EAAK+E,EAAKmD,cAA2B,IAAPlI,EAAgBA,EAAK+E,EAAKsa,QACvE1f,KAAKsI,KAA4B,QAApBjD,EAAKD,EAAKkD,YAAyB,IAAPjD,EAAgBA,EAAKD,EAAKsa,QACnE1f,KAAKqI,MAA8B,QAArB/C,EAAKF,EAAKiD,aAA0B,IAAP/C,EAAgBA,EAAKF,EAAKsa,QACrE1f,KAAKoI,IAA0B,QAAnB7C,EAAKH,EAAKgD,WAAwB,IAAP7C,EAAgBA,EAAKH,EAAKsa,QACrE,KAAC,EAhBgB,GCER8H,GAAI,WACb,cAAc,eACVxnB,KAAKgnB,aAAe,EACpBhnB,KAAKqE,QAAS,CAClB,CAYC,OAZA,4BACD,SAAKe,GACIA,SAGqB3D,IAAtB2D,EAAK4hB,eACLhnB,KAAKgnB,aAAe9iB,EAAckB,EAAK4hB,oBAEvBvlB,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,QAEvBrE,KAAKwF,SAAWJ,EAAKI,SAAWkD,EAAW,CAAC,EAAGtD,EAAKI,eAAY/D,EACpE,KAAC,EAhBY,GCOJgmB,GAAI,WACb,cAAc,eACVznB,KAAK6B,MAAQ,IAAI6kB,GACjB1mB,KAAK0nB,QAAU,IAAIf,GACnB3mB,KAAK2nB,OAAS,IAAIb,GAClB9mB,KAAKyQ,MAAQ,EACbzQ,KAAK4E,SAAW,CAAC,EACjB5E,KAAKiI,UAAY,OACjBjI,KAAK4nB,MAAQ,EACb5nB,KAAKqE,QAAS,EACdrE,KAAK6nB,QAAU,IAAId,GACnB/mB,KAAK8nB,KAAO,IAAIX,GAChBnnB,KAAK+nB,SAAW,IAAIR,GACpBvnB,KAAK6C,QAAS,EACd7C,KAAKyF,MAAO,EACZzF,KAAKwQ,MAAQ,EACbxQ,KAAKgoB,KAAO,IAAIR,GAChBxnB,KAAKioB,UAAW,EAChBjoB,KAAKoT,MAAQ,IAAIkU,GACjBtnB,KAAKkoB,SAAU,EACfloB,KAAKmoB,MAAO,CAChB,CA4FC,OA5FA,4BACD,WACI,OAAOnoB,KAAKooB,UAChB,EAAC,IACD,SAAWnlB,GACPjD,KAAKooB,WAAanlB,CACtB,GAAC,sBACD,WACI,OAAO,CACX,EAAC,IACD,SAAe8J,GACf,GAAC,iBACD,WACI,OAAO/M,KAAK8nB,IAChB,EAAC,IACD,SAAU7kB,GACNjD,KAAK8nB,KAAO7kB,CAChB,GAAC,mBACD,WACI,OAAOjD,KAAK+nB,SAASrI,OACzB,EAAC,IACD,SAAYzc,GACRjD,KAAK+nB,SAASrI,QAAUzc,CAC5B,GAAC,oBACD,WACI,OAAOjD,KAAKqoB,OAChB,EAAC,IACD,SAAaplB,GACTjD,KAAKqoB,QAAUplB,CACnB,GAAC,kBACD,SAAKmC,GACD,IAAI/E,EAAIgF,EAAIC,EACZ,GAAKF,EAAL,CAGApF,KAAK6B,MAAM2F,KAA2B,kBAAfpC,EAAKvD,MAAqB,CAAEoB,MAAOmC,EAAKvD,OAAUuD,EAAKvD,OAC9E7B,KAAK0nB,QAAQlgB,KAAKpC,EAAKsiB,SACvB1nB,KAAK2nB,OAAOngB,KAAKpC,EAAKuiB,aACHlmB,IAAf2D,EAAKqL,QACLzQ,KAAKyQ,MAAQvM,EAAckB,EAAKqL,aAEbhP,IAAnB2D,EAAK6C,YACLjI,KAAKiI,UAAY7C,EAAK6C,gBAEJxG,IAAlB2D,EAAKR,WACL5E,KAAK4E,SACwB,kBAAlBQ,EAAKR,SACN,CACE+F,WAAYvF,EAAKR,SACjBgG,SAAUxF,EAAKR,UAEjB2V,OAAOC,OAAO,CAAC,EAAGpV,EAAKR,gBAElBnD,IAAf2D,EAAKwiB,QACL5nB,KAAK4nB,MAAQ1jB,EAAckB,EAAKwiB,aAEhBnmB,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,QAEvBrE,KAAK6nB,QAAQrgB,KAAKpC,EAAKyiB,SACvB,IAAME,EAAyF,QAA7E1iB,EAA8B,QAAxBhF,EAAK+E,EAAK2iB,gBAA6B,IAAP1nB,EAAgBA,EAAK+E,EAAKijB,eAA4B,IAAPhjB,EAAgBA,EAAKD,EAAKkjB,cAChH7mB,IAAbsmB,IACwB,kBAAbA,EACP/nB,KAAK+nB,SAASvgB,KAAKugB,GAGnB/nB,KAAK+nB,SAASvgB,KAAK,CACfkY,QAASqI,KAIrB/nB,KAAK8nB,KAAKtgB,KAA0B,QAApBlC,EAAKF,EAAK0iB,YAAyB,IAAPxiB,EAAgBA,EAAKF,EAAKmjB,YAClD9mB,IAAhB2D,EAAKvC,SACL7C,KAAK6C,OAASuC,EAAKvC,aAELpB,IAAd2D,EAAKK,OACLzF,KAAKyF,KAAOL,EAAKK,WAEFhE,IAAf2D,EAAKoL,QACLxQ,KAAKwQ,MAAQtM,EAAckB,EAAKoL,QAEpCxQ,KAAKgoB,KAAKxgB,KAAKpC,EAAK4iB,WACEvmB,IAAlB2D,EAAK6iB,WACLjoB,KAAKioB,SAAW7iB,EAAK6iB,UAEzBjoB,KAAKoT,MAAM5L,KAAKpC,EAAKgO,YACA3R,IAAjB2D,EAAK8iB,UACLloB,KAAKkoB,QAAU9iB,EAAK8iB,cAENzmB,IAAd2D,EAAK+iB,OACLnoB,KAAKmoB,KAAO/iB,EAAK+iB,KAxDrB,CA0DJ,KAAC,EAjHY,GCRJK,GAAgB,WACzB,cAAc,eACVxoB,KAAK6Q,MAAQ,EACb7Q,KAAKqE,QAAS,EACdrE,KAAKwQ,MAAQ,EACbxQ,KAAKyQ,MAAQ,EACbzQ,KAAK8Q,MAAO,CAChB,CAoBC,OApBA,4BACD,SAAK1L,GACIA,SAGc3D,IAAf2D,EAAKyL,QACL7Q,KAAK6Q,MAAQ3M,EAAckB,EAAKyL,aAEhBpP,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEJ5C,IAAf2D,EAAKoL,QACLxQ,KAAKwQ,MAAQtM,EAAckB,EAAKoL,aAEjB/O,IAAf2D,EAAKqL,QACLzQ,KAAKyQ,MAAQvM,EAAckB,EAAKqL,aAElBhP,IAAd2D,EAAK0L,OACL9Q,KAAK8Q,KAAO1L,EAAK0L,MAEzB,KAAC,EA3BwB,GCAhB2X,GAAgB,0CACzB,aAAc,MAMQ,OANR,gBACV,gBACKlF,QAAU,OACf,EAAKlf,QAAS,EACd,EAAKmM,MAAQ,EACb,EAAKkY,WAAa,SAClB,EAAK5X,MAAO,EAAM,CACtB,CA6BC,OA7BA,iCACD,WACI,OAAO9Q,KAAKsE,YAChB,EAAC,IACD,SAAgBrB,GACZjD,KAAKsE,aAAerB,CACxB,GAAC,kBACD,SAAKmC,GACD,IAAI/E,EACC+E,KAGL,qDAAWA,QACU3D,IAAjB2D,EAAKme,UACLvjB,KAAKujB,QAAUne,EAAKme,cAEJ9hB,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,QAEvBrE,KAAKsE,aAA4C,QAA5BjE,EAAK+E,EAAKd,oBAAiC,IAAPjE,EAAgBA,EAAK+E,EAAKujB,iBAChElnB,IAAf2D,EAAKoL,QACLxQ,KAAKwQ,MAAQpL,EAAKoL,YAEE/O,IAApB2D,EAAKsjB,aACL1oB,KAAK0oB,WAAatjB,EAAKsjB,iBAETjnB,IAAd2D,EAAK0L,OACL9Q,KAAK8Q,KAAO1L,EAAK0L,MAEzB,KAAC,EArCwB,CAAS0X,ICEzBI,GAAO,0CAChB,aAAc,MAIK,OAJL,gBACV,gBACK5Y,UAAY,IAAIyY,GACrB,EAAK5lB,OAAOyB,aAAe,GAC3B,EAAKrB,MAAQ,EAAE,CACnB,CAkBC,OAlBA,0BACD,WACI,OAAOjD,KAAKgQ,SAChB,EAAC,IACD,SAAS/M,GACLjD,KAAKgQ,UAAY/M,CACrB,GAAC,kBACD,SAAKmC,GACD,IAAI/E,EACJ,GAAK+E,EAAL,EAGA,qDAAWA,GACX,IAAM4K,EAAsC,QAAzB3P,EAAK+E,EAAK4K,iBAA8B,IAAP3P,EAAgBA,EAAK+E,EAAKyjB,UAC5DpnB,IAAduO,IACAhQ,KAAKgQ,UAAUxI,KAAKwI,GACpBhQ,KAAKiD,MAAQiB,EAAclE,KAAKiD,MAAOjD,KAAKgQ,UAAU3L,OAASrE,KAAKgQ,UAAU1L,kBAAe7C,GALjG,CAOJ,KAAC,EAxBe,CAAS2kB,ICHhB0C,GAAgB,WACzB,cAAc,eACV9oB,KAAKqE,QAAS,EACdrE,KAAK0F,MAAQ,KACb1F,KAAK2F,OAAS,IAClB,CAmCC,OAnCA,0BACD,WACI,OAAO3F,KAAK0F,KAChB,EAAC,IACD,SAASzC,GACLjD,KAAK0F,MAAQzC,CACjB,GAAC,kBACD,WACI,OAAOjD,KAAK2F,MAChB,EAAC,IACD,SAAW1C,GACPjD,KAAK2F,OAAS1C,CAClB,GAAC,sBACD,WACI,OAAOjD,KAAK+oB,IAChB,EAAC,IACD,SAAe9lB,GACXjD,KAAK+oB,KAAO9lB,CAChB,GAAC,kBACD,SAAKmC,GACD,IAAI/E,EAAIgF,EAAIC,EACZ,GAAKF,EAAL,MAGoB3D,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,QAEvB,IAAMqB,EAAgF,QAAvEL,EAA2B,QAArBhF,EAAK+E,EAAKM,aAA0B,IAAPrF,EAAgBA,EAAK+E,EAAK2jB,YAAyB,IAAP1jB,EAAgBA,EAAKD,EAAK4jB,gBAC1GvnB,IAAViE,IACA1F,KAAK0F,MAAQA,GAEjB,IAAMC,EAAgC,QAAtBL,EAAKF,EAAKO,cAA2B,IAAPL,EAAgBA,EAAKF,EAAKoB,YACzD/E,IAAXkE,IACA3F,KAAK2F,OAASA,EAVlB,CAYJ,KAAC,EAxCwB,GCChBsjB,GAAe,WACxB,cAAc,eACVjpB,KAAKkpB,QAAU,IAAIJ,GACnB9oB,KAAKmpB,MAAQ,EACbnpB,KAAKiD,MAAQ,GACjB,CAoBC,OApBA,yBACD,WACI,OAAOjD,KAAKmpB,KAChB,EAAC,IACD,SAAQlmB,GACJjD,KAAKmpB,MAAQlmB,CACjB,GAAC,kBACD,SAAKmC,GACD,IAAI/E,EACJ,GAAK+E,EAAL,CAGApF,KAAKkpB,QAAQ1hB,KAAKpC,EAAK8jB,SACvB,IAAMC,EAA8B,QAArB9oB,EAAK+E,EAAK+jB,aAA0B,IAAP9oB,EAAgBA,EAAK+E,EAAK9B,SACxD7B,IAAV0nB,IACAnpB,KAAKmpB,MAAQA,QAEE1nB,IAAf2D,EAAKnC,QACLjD,KAAKiD,MAAQmC,EAAKnC,MAPtB,CASJ,KAAC,EAzBuB,GCAfmmB,GAAM,WACf,cAAc,eACVppB,KAAKuW,KAAO,EACZvW,KAAKuN,MAAQ,IAAIiW,GACjBxjB,KAAKqE,QAAS,EACdrE,KAAK+H,OAAS,CACVxG,EAAG,EACHF,EAAG,GAEPrB,KAAKuN,MAAMtK,MAAQ,MACvB,CAqBC,OArBA,4BACD,SAAKmC,GACIA,SAGa3D,IAAd2D,EAAKmR,OACLvW,KAAKuW,KAAOnR,EAAKmR,MAErBvW,KAAKuN,MAAQiW,GAAathB,OAAOlC,KAAKuN,MAAOnI,EAAKmI,YAC9B9L,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,aAEH5C,IAAhB2D,EAAK2C,cAGatG,IAAlB2D,EAAK2C,OAAOxG,IACZvB,KAAK+H,OAAOxG,EAAI6D,EAAK2C,OAAOxG,QAEVE,IAAlB2D,EAAK2C,OAAO1G,IACZrB,KAAK+H,OAAO1G,EAAI+D,EAAK2C,OAAO1G,IAEpC,KAAC,EA/Bc,GCAbgoB,GAAU,YAAaC,GAAa,OAAQC,GAAW,QAASC,GAAc,SAAUC,GAAa,UAAWC,GAAgB,OACzHC,GAAK,WACd,cAAc,eACV3pB,KAAKoE,QAAU,CAAC,EAChBpE,KAAKG,KAAO,QAChB,CA6EC,OA7EA,+BACD,WACI,IAAIE,EACJ,OAAyC,QAAhCA,EAAKL,KAAKoE,QAAQilB,WAA6B,IAAPhpB,EAAgBA,EAAKL,KAAKoE,QAAkB,IACjG,EAAC,IACD,SAAcnB,GACVjD,KAAKoE,QAAkB,KAAIpE,KAAKoE,QAAQilB,IAAWpmB,CACvD,GAAC,kBACD,WACI,OAAOjD,KAAKoE,OAChB,EAAC,IACD,SAAWnB,GACPjD,KAAKoE,QAAUnB,CACnB,GAAC,iBACD,WACI,IAAI5C,EACJ,OAA0C,QAAjCA,EAAKL,KAAKoE,QAAgB,aAAsB,IAAP/D,EAAgBA,EAAKL,KAAKoE,QAAmB,MACnG,EAAC,IACD,SAAUnB,GACNjD,KAAKoE,QAAmB,OAAIpE,KAAKoE,QAAgB,MAAInB,CACzD,GAAC,kBACD,WACI,OAAOjD,KAAK4T,KAChB,EAAC,IACD,SAAW3Q,GACPjD,KAAK4T,MAAQ3Q,CACjB,GAAC,mBACD,WACI,IAAI5C,EACJ,OAA4C,QAAnCA,EAAKL,KAAKoE,QAAkB,eAAsB,IAAP/D,EAAgBA,EAAKL,KAAKoE,QAAqB,IACvG,EAAC,IACD,SAAYnB,GACRjD,KAAKoE,QAAqB,KAAIpE,KAAKoE,QAAkB,QAAInB,CAC7D,GAAC,kBACD,WACI,MAAO,EACX,EAAC,IACD,SAAW2mB,GACX,GAAC,kBACD,SAAKxkB,GACD,IAAI/E,EAAIgF,EAAIC,EACZ,GAAKF,EAAL,CAGA,IAAMhB,EAAkC,QAAvB/D,EAAK+E,EAAKhB,eAA4B,IAAP/D,EAAgBA,EAAK+E,EAAKykB,OAC1E,QAAgBpoB,IAAZ2C,EACA,IAAK,IAAM0S,KAAS1S,EAAS,CACzB,IAAM2H,EAAO3H,EAAQ0S,GACjB/K,IACA/L,KAAKoE,QAAQ0S,GAASpO,EAA0C,QAA9BrD,EAAKrF,KAAKoE,QAAQ0S,UAA2B,IAAPzR,EAAgBA,EAAK,CAAC,EAAG0G,GAEzG,CAEJ/L,KAAK8pB,UAAU1kB,EAAK2kB,UAAWV,GAASC,IAAY,GACpDtpB,KAAK8pB,UAAU1kB,EAAK4kB,QAASP,GAAYC,IAAe,GACxD1pB,KAAK8pB,UAAgC,QAArBxkB,EAAKF,EAAKwO,aAA0B,IAAPtO,EAAgBA,EAAKF,EAAK6kB,OAAQV,GAAUC,IAAa,QACpF/nB,IAAd2D,EAAKjF,OACLH,KAAKG,KAAOiF,EAAKjF,KAdrB,CAgBJ,GAAC,uBACD,SAAU4L,EAAMme,EAASC,EAAQC,GAC7B,IAAI/pB,EAAIgF,EACR,GAAK0G,EAAL,CAGA,IAAMjD,EAAUiD,aAAgB5E,MAC1BkjB,EAAavhB,EAAU,GAAK,CAAC,EAAGwhB,EAAsBxhB,IAAY9I,KAAKoE,QAAQ8lB,aAAoB/iB,MAAOojB,EAAqBzhB,IAAY9I,KAAKoE,QAAQ+lB,aAAmBhjB,MAC7KmjB,IACAtqB,KAAKoE,QAAQ8lB,GAAWG,GAExBE,GAAsBH,IACtBpqB,KAAKoE,QAAQ+lB,GAAUE,GAE3BrqB,KAAKoE,QAAQ8lB,GAAWxhB,EAA4C,QAAhCrI,EAAKL,KAAKoE,QAAQ8lB,UAA6B,IAAP7pB,EAAgBA,EAAKgqB,EAAYte,GACxG/L,KAAKoE,QAAQ+lB,KAAWC,IACzBpqB,KAAKoE,QAAQ+lB,GAAUzhB,EAA2C,QAA/BrD,EAAKrF,KAAKoE,QAAQ+lB,UAA4B,IAAP9kB,EAAgBA,EAAKglB,EAAYte,GAX/G,CAaJ,KAAC,EAjFa,GCDLye,GAAa,0CACtB,aAAc,MAMQ,OANR,gBACV,gBACKjH,QAAU,OACf,EAAKlf,QAAS,EACd,EAAKmM,MAAQ,EACb,EAAKkY,WAAa,SAClB,EAAK5X,MAAO,EAAM,CACtB,CA6BC,OA7BA,8BACD,WACI,OAAO9Q,KAAKsE,YAChB,EAAC,IACD,SAAarB,GACTjD,KAAKsE,aAAerB,CACxB,GAAC,kBACD,SAAKmC,GACD,IAAI/E,GACJ,qDAAW+E,GACNA,SAGgB3D,IAAjB2D,EAAKme,UACLvjB,KAAKujB,QAAUne,EAAKme,cAEJ9hB,IAAhB2D,EAAKf,SACLrE,KAAKqE,OAASe,EAAKf,QAEvBrE,KAAKsE,aAA4C,QAA5BjE,EAAK+E,EAAKd,oBAAiC,IAAPjE,EAAgBA,EAAK+E,EAAKqlB,cAChEhpB,IAAf2D,EAAKoL,QACLxQ,KAAKwQ,MAAQpL,EAAKoL,YAEE/O,IAApB2D,EAAKsjB,aACL1oB,KAAK0oB,WAAatjB,EAAKsjB,iBAETjnB,IAAd2D,EAAK0L,OACL9Q,KAAK8Q,KAAO1L,EAAK0L,MAEzB,KAAC,EArCqB,CAAS0X,ICEtBkC,GAAI,0CACb,aAAc,MAIK,OAJL,gBACV,gBACK1a,UAAY,IAAIwa,GACrB,EAAK3nB,OAAOyB,aAAe,EAC3B,EAAKrB,MAAQ,EAAE,CACnB,CAkBC,OAlBA,0BACD,WACI,OAAOjD,KAAKgQ,SAChB,EAAC,IACD,SAAS/M,GACLjD,KAAKgQ,UAAY/M,CACrB,GAAC,kBACD,SAAKmC,GACD,IAAI/E,EAEJ,IADA,qDAAW+E,GACNA,EAAL,CAGA,IAAM4K,EAAsC,QAAzB3P,EAAK+E,EAAK4K,iBAA8B,IAAP3P,EAAgBA,EAAK+E,EAAKyjB,UAC5DpnB,IAAduO,IACAhQ,KAAKgQ,UAAUxI,KAAKwI,GACpBhQ,KAAKiD,MAAQiB,EAAclE,KAAKiD,MAAOjD,KAAKgQ,UAAU3L,OAASrE,KAAKgQ,UAAU1L,kBAAe7C,GAJjG,CAMJ,KAAC,EAxBY,CAAS2kB,ICDbuE,GAAM,WACf,cAAc,eACV3qB,KAAK0F,MAAQ,CACjB,CAcC,OAdA,4BACD,SAAKN,GACIA,SAGc3D,IAAf2D,EAAKmI,QACLvN,KAAKuN,MAAQwY,GAAgB7jB,OAAOlC,KAAKuN,MAAOnI,EAAKmI,aAEtC9L,IAAf2D,EAAKM,QACL1F,KAAK0F,MAAQxB,EAAckB,EAAKM,aAEfjE,IAAjB2D,EAAKuJ,UACL3O,KAAK2O,QAAUzK,EAAckB,EAAKuJ,UAE1C,KAAC,EAjBc,GCDNic,GAAM,0CACf,aAAc,MAIY,OAJZ,gBACV,gBACK5V,YAAc,EACnB,EAAKwC,SAAW,EAChB,EAAKqT,aAAe,EAAE,CAC1B,CAeC,OAfA,4BACD,SAAKzlB,IACD,qDAAWA,GACNA,SAGoB3D,IAArB2D,EAAK4P,cACLhV,KAAKgV,YAAc5P,EAAK4P,kBAENvT,IAAlB2D,EAAKoS,WACLxX,KAAKwX,SAAWpS,EAAKoS,eAEC/V,IAAtB2D,EAAKylB,eACL7qB,KAAK6qB,aAAezlB,EAAKylB,cAEjC,KAAC,EArBc,CAASzE,ICWf0E,GAAgB,WACzB,WAAYhG,EAAQzS,IAAW,eAC3BrS,KAAK+kB,QAAUD,EACf9kB,KAAKglB,WAAa3S,EAClBrS,KAAK0K,OAAS,IAAI4b,GAClBtmB,KAAKooB,WAAa,IAAI7B,GACtBvmB,KAAKuN,MAAQ,IAAIwY,GACjB/lB,KAAKuN,MAAMtK,MAAQ,OACnBjD,KAAK+qB,OAAS,CAAC,EACf/qB,KAAKsT,KAAO,IAAImU,GAChBznB,KAAKgrB,OAAS,IAAI/B,GAClBjpB,KAAK2O,QAAU,IAAIia,GACnB5oB,KAAKirB,kBAAmB,EACxBjrB,KAAK4V,OAAS,IAAIwT,GAClBppB,KAAK8W,MAAQ,IAAI6S,GACjB3pB,KAAKyF,KAAO,IAAIilB,GAChB1qB,KAAKwV,OAAS,IAAImV,GAClB3qB,KAAK6U,OAAS,IAAI+V,EACtB,CA4DC,OA5DA,4BACD,SAAKxlB,GACD,IAAI/E,EAAIgF,EAAIC,EAAIC,EAAImQ,EAAIqM,EACxB,GAAK3c,EAAL,CAKA,GAFApF,KAAK0K,OAAOlD,KAAKpC,EAAKsF,QACtB1K,KAAKuN,MAAM/F,KAAKue,GAAgB7jB,OAAOlC,KAAKuN,MAAOnI,EAAKmI,aACpC9L,IAAhB2D,EAAK2lB,OACL,IAAK,IAAMG,KAAS9lB,EAAK2lB,OAAQ,CAC7B,IAAMhf,EAAO3G,EAAK2lB,OAAOG,QACZzpB,IAATsK,IACA/L,KAAK+qB,OAAOG,GAASxiB,EAAyC,QAA7BrI,EAAKL,KAAK+qB,OAAOG,UAA2B,IAAP7qB,EAAgBA,EAAK,CAAC,EAAG0L,GAEvG,CAEJ/L,KAAKsT,KAAK9L,KAAKpC,EAAKkO,MACpBtT,KAAKgrB,OAAOxjB,KAAKpC,EAAK4lB,QACtBhrB,KAAK2O,QAAQnH,KAAKpC,EAAKuJ,cACOlN,IAA1B2D,EAAK6lB,mBACLjrB,KAAKirB,iBAAmB7lB,EAAK6lB,kBAEjCjrB,KAAK8W,MAAMtP,KAAKpC,EAAK0R,OACrB9W,KAAKyF,KAAK+B,KAAKpC,EAAKK,MACpBzF,KAAK4V,OAAOpO,KAAKpC,EAAKwQ,QACtB5V,KAAK6U,OAAOrN,KAAKpC,EAAKyP,QACtB,IAAMuT,EAA4F,QAA9E9iB,EAA0B,QAApBD,EAAKD,EAAKkO,YAAyB,IAAPjO,OAAgB,EAASA,EAAG+iB,kBAA+B,IAAP9iB,EAAgBA,EAA0B,QAApBC,EAAKH,EAAKkO,YAAyB,IAAP/N,OAAgB,EAASA,EAAGmF,YACrKjJ,IAAf2mB,IACApoB,KAAKooB,WAAW/jB,OAAS+jB,GAE7BpoB,KAAKooB,WAAW5gB,KAAKpC,EAAKgjB,iBACC3mB,IAAvB2D,EAAKoZ,gBACLxe,KAAKwe,cAAgB9V,EAAW,CAAC,EAAGtD,EAAKoZ,gBAE7C,IAAM2M,EAAsC,QAAtBzV,EAAKtQ,EAAKoQ,cAA2B,IAAPE,EAAgBA,EAA2B,QAArBqM,EAAK3c,EAAK0R,aAA0B,IAAPiL,OAAgB,EAASA,EAAGvM,OAQnI,GAPI2V,IACAnrB,KAAKwV,OAAS9L,EAA0ByhB,GAAc,SAAC5hB,GACnD,IAAMob,EAAM,IAAIgG,GAEhB,OADAhG,EAAInd,KAAK+B,GACFob,CACX,KAEA3kB,KAAKglB,WAAY,CACjB,IAAM5L,EAAWpZ,KAAK+kB,QAAQ9L,QAAQG,SAAS7Y,IAAIP,KAAKglB,YACxD,GAAI5L,EAAU,KACoB,EADpB,UACYA,GAAQ,IAA9B,IAAK,EAAL,qBAAgC,KAArBC,EAAO,QACVA,EAAQ+R,aACR/R,EAAQ+R,YAAYprB,KAAMoF,EAElC,CAAC,+BACL,CACA,IAAM6f,EAAcjlB,KAAK+kB,QAAQ9L,QAAQgM,YAAY1kB,IAAIP,KAAKglB,YAC9D,GAAIC,EAAa,KACuB,EADvB,UACYA,GAAW,IAApC,IAAK,EAAL,qBAAsC,KAA3BC,EAAU,QACbA,EAAWmG,sBACXnG,EAAWmG,qBAAqBrrB,KAAMoF,EAE9C,CAAC,+BACL,CACJ,CAtDA,CAuDJ,KAAC,EA9EwB,GCXtB,SAASgmB,GAAYhnB,GAA8B,2BAAlBknB,EAAgB,iCAAhBA,EAAgB,kBACpD,IAAK,IAAL,MAA4BA,EAAgB,eAAE,CAAzC,IAAMC,EAAa,KACpBnnB,EAAQoD,KAAK+jB,EACjB,CACJ,CACO,SAASF,GAAqBvG,EAAQzS,GACe,IAAxD,IAAMjO,EAAU,IAAI0mB,GAAiBhG,EAAQzS,GAAW,mBADDiZ,EAAgB,iCAAhBA,EAAgB,kBAGvE,OADAF,GAAW,cAAChnB,GAAO,OAAKknB,IACjBlnB,CACX,CCAO,IAAMonB,GAAO,WAChB,WAAY1G,EAAQzS,IAAW,eAC3BrS,KAAK+kB,QAAUD,EACf9kB,KAAKglB,WAAa3S,EAClBrS,KAAKyrB,UAAW,EAChBzrB,KAAKwY,WAAa,IAAIiL,GACtBzjB,KAAKyT,eAAiB,IAAIkQ,GAC1B3jB,KAAKof,cAAgB,CAAC,EACtBpf,KAAKsgB,MAAQ,EACbtgB,KAAKmT,WAAa,IAAIyQ,GACtB5jB,KAAK0rB,cAAe,EACpB1rB,KAAKsjB,SAAW,EAChBtjB,KAAKgjB,SAAW,IAChBhjB,KAAKwe,cAAgB,IAAI4G,GAAcN,EAAQzS,GAC/CrS,KAAK2rB,gBAAkB,GACvB3rB,KAAKqT,UAAYgY,GAAqBrrB,KAAK+kB,QAAS/kB,KAAKglB,YACzDhlB,KAAK6f,aAAc,EACnB7f,KAAK4rB,wBAAyB,EAC9B5rB,KAAK6rB,WAAa,GAClB7rB,KAAKijB,QAAS,EACdjjB,KAAK0Y,MAAQ,CAAC,EACd1Y,KAAKyf,OAAS,GACdzf,KAAK8rB,QAAU,GACnB,CAsIC,OAtIA,oCACD,WACI,OAAO9rB,KAAKmT,UAChB,EAAC,IACD,SAAmBlQ,GACfjD,KAAKmT,WAAW3L,KAAKvE,EACzB,GAAC,qBACD,WACI,OAAOjD,KAAKgjB,QAChB,EAAC,IACD,SAAc/f,GACVjD,KAAKgjB,SAAW/f,CACpB,GAAC,yBACD,WACI,OAAOjD,KAAK0rB,YAChB,EAAC,IACD,SAAkBzoB,GACdjD,KAAK0rB,aAAezoB,CACxB,GAAC,kBACD,SAAKmC,GAAM,IACH/E,EAAIgF,EAAIC,EAAIC,EAAImQ,EADb,OAEP,GAAKtQ,EAAL,MAGoB3D,IAAhB2D,EAAK2mB,QACLriB,EAA0BtE,EAAK2mB,QAAQ,SAACA,GAAM,OAAK,EAAKC,cAAcD,EAAO,SAE3DtqB,IAAlB2D,EAAKqmB,WACLzrB,KAAKyrB,SAAWrmB,EAAKqmB,eAENhqB,IAAf2D,EAAKkb,QACLtgB,KAAKsgB,MAAQpc,EAAckB,EAAKkb,QAEpC,IAAMoL,EAA4C,QAA5BrrB,EAAK+E,EAAKsmB,oBAAiC,IAAPrrB,EAAgBA,EAAK+E,EAAK6mB,mBAC/DxqB,IAAjBiqB,IACA1rB,KAAK0rB,aAAeA,QAEFjqB,IAAlB2D,EAAKke,WACLtjB,KAAKsjB,SAAWpf,EAAckB,EAAKke,WAEvC,IAAMN,EAAoC,QAAxB3d,EAAKD,EAAK4d,gBAA6B,IAAP3d,EAAgBA,EAAKD,EAAK8mB,eAC3DzqB,IAAbuhB,IACAhjB,KAAKgjB,SAAWA,QAEKvhB,IAArB2D,EAAKya,cACL7f,KAAK6f,YAAcza,EAAKya,kBAEQpe,IAAhC2D,EAAKwmB,yBACL5rB,KAAK4rB,uBAAyBxmB,EAAKwmB,6BAElBnqB,IAAjB2D,EAAK0mB,UACL9rB,KAAK8rB,QAAU1mB,EAAK0mB,SAExB9rB,KAAKwY,WAAWhR,KAAKpC,EAAKoT,YAC1B,IAAMrF,EAAwC,QAA1B7N,EAAKF,EAAK+N,kBAA+B,IAAP7N,EAAgBA,EAAKF,EAAK+mB,eACtD,mBAAfhZ,EACPnT,KAAKmT,WAAW9O,OAAS8O,EAGzBnT,KAAKmT,WAAW3L,KAAK2L,GAEzBnT,KAAKyT,eAAejM,KAAKpC,EAAKqO,gBAC9BzT,KAAKwe,cAAchX,KAAKpC,EAAKoZ,oBACA/c,IAAzB2D,EAAKumB,kBACL3rB,KAAK2rB,gBAAkBvmB,EAAKumB,gBAAgBziB,KAAI,SAACK,GAC7C,IAAMob,EAAM,IAAIY,GAEhB,OADAZ,EAAInd,KAAK+B,GACFob,CACX,KAEJ3kB,KAAKqT,UAAU7L,KAAKpC,EAAKiO,WACzBrT,KAAK0Y,MAAQhQ,EAAW1I,KAAK0Y,MAAOtT,EAAKsT,OACzC1Y,KAAK+kB,QAAQ9L,QAAQmS,YAAYprB,KAAMoF,QACnB3D,IAAhB2D,EAAK6d,SACLjjB,KAAKijB,OAAS7d,EAAK6d,QAEvB,IAAMgC,EAAcjlB,KAAK+kB,QAAQ9L,QAAQgM,YAAY1kB,IAAIP,KAAKglB,YAC9D,GAAIC,EAAa,KACuB,EADvB,UACYA,GAAW,IAApC,IAAK,EAAL,qBAAsC,KAA3BC,EAAU,QACbA,EAAWkG,aACXlG,EAAWkG,YAAYprB,KAAMoF,EAErC,CAAC,+BACL,CACA,QAAwB3D,IAApB2D,EAAKymB,WAA0B,KACS,EADT,UACNzmB,EAAKymB,YAAU,IAAxC,IAAK,EAAL,qBAA0C,KAA/BA,EAAU,QACXO,EAAgB,IAAI5G,GAC1B4G,EAAc5kB,KAAKqkB,GACnB7rB,KAAK6rB,WAAWprB,KAAK2rB,EACzB,CAAC,+BACL,CAEA,GADApsB,KAAK6rB,WAAWQ,MAAK,SAACnf,EAAGD,GAAC,OAAKC,EAAEuY,SAAWxY,EAAEwY,QAAQ,SAClChkB,IAAhB2D,EAAKqa,OAAsB,KACI,EADJ,UACPra,EAAKqa,QAAM,yBAApBD,EAAK,QACN8M,EAAgB,EAAK7M,OAAOxT,MAAK,SAAC1C,GAAC,OAAKA,EAAEvG,OAASwc,EAAMxc,IAAI,IACnE,GAAKspB,EAMDA,EAAc9kB,KAAKgY,OANH,CAChB,IAAM+M,EAAW,IAAI3G,GACrB2G,EAAS/kB,KAAKgY,GACd,EAAKC,OAAOhf,KAAK8rB,EACrB,CAGC,EATL,IAAK,EAAL,qBAAiC,GAUhC,+BACL,CACAvsB,KAAKof,cAAcE,KAAiD,QAAzC/Z,EAAKvF,KAAKwsB,kBAAkB,eAA4B,IAAPjnB,OAAgB,EAASA,EAAGvC,KACxGhD,KAAKof,cAAcG,MAAmD,QAA1C7J,EAAK1V,KAAKwsB,kBAAkB,gBAA6B,IAAP9W,OAAgB,EAASA,EAAG1S,IAnF1G,CAoFJ,GAAC,2BACD,SAAc0C,EAAO0U,EAASqS,GAC1BzsB,KAAKwH,KAAKilB,GACV,IAAMC,EAAoB1sB,KAAK6rB,WAAW5f,MAAK,SAAC1C,GAAC,MAAgB,WAAXA,EAAEH,MAAqBujB,OAASpjB,EAAEkc,SAAWkH,OAAOC,WAAarjB,EAAEkc,SAAWrL,EAAU1U,CAAK,IAEnJ,OADA1F,KAAKwH,KAA2B,OAAtBklB,QAAoD,IAAtBA,OAA+B,EAASA,EAAkBtoB,SACrE,OAAtBsoB,QAAoD,IAAtBA,OAA+B,EAASA,EAAkBjH,QACnG,GAAC,sBACD,SAASziB,GACL,GAAIA,EAAM,CACN,IAAM6pB,EAAc7sB,KAAKyf,OAAOxT,MAAK,SAACuT,GAAK,OAAKA,EAAMxc,OAASA,CAAI,IAC/D6pB,GACA7sB,KAAKwH,KAAKqlB,EAAYzoB,QAE9B,KACK,CACD,IAAMyc,EAAa/Z,EAAe,gCAAiCgmB,EAAiBjM,GAAcA,EAAW5W,QAAS8iB,EAAe/sB,KAAKwsB,kBAAkBM,EAAiB,OAAS,SAClLC,GACA/sB,KAAKwH,KAAKulB,EAAa3oB,QAE/B,CACJ,GAAC,+BACD,SAAkBgF,GACd,IAAI/I,EACJ,OAAmG,QAA1FA,EAAKL,KAAKyf,OAAOxT,MAAK,SAACuT,GAAK,OAAKA,EAAME,QAAQzc,OAASuc,EAAME,QAAQtW,OAASA,CAAI,WAAsB,IAAP/I,EAAgBA,EAAKL,KAAKyf,OAAOxT,MAAK,SAACuT,GAAK,OAAKA,EAAME,QAAQzc,OAAgC,QAAvBuc,EAAME,QAAQtW,IAAc,GACnN,GAAC,2BACD,SAAc2iB,GACV/rB,KAAKwH,KAAKxH,KAAK+kB,QAAQ9L,QAAQ+T,UAAUjB,GAC7C,KAAC,EA7Je,GCVPkB,GAAkB,WAC3B,WAAYnI,EAAQzS,IAAW,eAC3BrS,KAAKqS,UAAYA,EACjBrS,KAAK+kB,QAAUD,EACf9kB,KAAKktB,aAAeltB,KAAK+kB,QAAQ9L,QAAQkU,eAAentB,KAAKqS,WAAW,GACxErS,KAAKotB,qBAAuB,GAC5BptB,KAAKqtB,qBAAuB,EAChC,CAmDC,OAnDA,iFACD,WAAuBjZ,GAAK,0FACCpU,KAAKotB,sBAAoB,yDAA7B,KAAVlI,EAAU,SACFoI,YAAa,CAAF,+BAChBpI,EAAWqI,SAASnZ,GAAM,sMAG3C,mDAPA,IAOA,6BACD,SAAgBhL,GAAM,IACgC,EADhC,UACOpJ,KAAKotB,sBAAoB,IAAlD,IAAK,EAAL,qBAAoD,KAAzClI,EAAU,QACbA,EAAWjG,iBACXiG,EAAWjG,gBAAgB7V,EAEnC,CAAC,+BACL,GAAC,kBACD,WACIpJ,KAAKotB,qBAAuB,GAC5BptB,KAAKqtB,qBAAuB,GAAG,IACW,EADX,UACNrtB,KAAKktB,cAAY,IAA1C,IAAK,EAAL,qBAA4C,KAAjChI,EAAU,QACjB,OAAQA,EAAW/kB,MACf,IAAK,WACDH,KAAKotB,qBAAqB3sB,KAAKykB,GAC/B,MACJ,IAAK,YACDllB,KAAKqtB,qBAAqB5sB,KAAKykB,GAGvCA,EAAWjL,MACf,CAAC,+BACL,GAAC,wEACD,WAAwBvO,EAAU0I,GAAK,8FACVpU,KAAKotB,sBAAoB,IAAlD,IAAK,EAAL,qBAAqB,QACN1b,MAAMhG,EAAU0I,EAC9B,yCACwBpU,KAAKqtB,sBAAoB,yDAA7B,KAAVnI,EAAU,SACFoI,UAAU5hB,GAAW,CAAF,iCACxBwZ,EAAWqI,SAAS7hB,EAAU0I,GAAM,uMAGrD,qDAVA,IAUA,4DACD,WAAY1I,GAAQ,gGACS1L,KAAKotB,sBAAoB,yDAA7B,KAAVlI,EAAU,SACFoI,YAAa,CAAF,+BAChBpI,EAAWsI,MAAM9hB,GAAS,wJAGf1L,KAAKqtB,sBAAoB,2DAA7B,KAAVnI,EAAU,SACFoI,UAAU5hB,GAAW,CAAF,iCACxBwZ,EAAWsI,MAAM9hB,GAAS,uNAG3C,mDAZA,MAYA,EA1D0B,GCQzB+hB,GAAa,SAACroB,GACX6B,EAAU7B,EAAKijB,QAASjjB,EAAKsoB,cAG9BtoB,EAAKuoB,MAAQvoB,EAAKwoB,SAAyB,EAAdxoB,EAAK4C,OAClC5C,EAAKyoB,OAAOzoB,EAAK4C,QAEZ5C,EAAKuoB,MAAsB,EAAdvoB,EAAK4C,QACvB5C,EAAKyoB,MAAMzoB,EAAK4C,QAExB,EACa8lB,GAAQ,WACjB,WAAYhJ,EAAQiJ,EAAI1b,EAAW7M,EAAUwoB,EAAiB9C,IAAO,eACjElrB,KAAKqS,UAAYA,EACjBrS,KAAK+kB,QAAUD,EACf9kB,KAAKia,KAAK8T,EAAIvoB,EAAUwoB,EAAiB9C,EAC7C,CAiTC,OAjTA,+BACD,SAAQ+C,GACJ,IAAI5tB,EACJ,IAAIL,KAAKkuB,cAAeluB,KAAKsU,UAA7B,CAGAtU,KAAKsU,WAAY,EACjBtU,KAAKiV,OAAOkZ,SAAU,EACtBnuB,KAAKouB,KAAKD,SAAU,EAAM,IACqB,EADrB,UACDnuB,KAAKqS,UAAU4G,SAAO,IAA/C,IAAK,EAAL,qBAAiD,KAAnCvB,GAAmC,kBAA7B,GACZA,EAAO2W,mBACP3W,EAAO2W,kBAAkBruB,KAAMiuB,EAEvC,CAAC,mCACsD,EADtD,UACqBjuB,KAAKqS,UAAUgB,UAAU+F,UAAQ,IAAvD,IAAK,EAAL,qBAAyD,KAA9CC,EAAO,QACVA,EAAQgV,mBACRhV,EAAQgV,kBAAkBruB,KAAMiuB,EAExC,CAAC,+BAC6B,QAA7B5tB,EAAKL,KAAKsuB,qBAAkC,IAAPjuB,GAAyBA,EAAGmtB,MAAMxtB,KAdxE,CAeJ,GAAC,kBACD,SAAKoU,GACD,IAC0C,EADpC/B,EAAYrS,KAAKqS,UAAU,UACRA,EAAU4G,SAAO,IAA1C,IAAK,EAAL,qBAA4C,KAA9BvB,GAA8B,kBAAxB,GAChBrF,EAAUqH,OAAO/B,mBAAmBD,EAAQ1X,KAAMoU,EACtD,CAAC,+BACD/B,EAAUqH,OAAOnC,aAAavX,KAAMoU,EACxC,GAAC,0BACD,WACI,IAAI/T,EACJ,OAAOL,KAAKuuB,cAA2C,QAA5BluB,EAAKL,KAAKiV,OAAO1H,aAA0B,IAAPlN,EAAgBA,EAAK0P,GAAoB/P,KAAKuN,OACjH,GAAC,qBACD,WACI,OAAQ,SAAAvN,KAAKuK,YAAe,GAAI5I,KAAK6sB,GAAM,CAC/C,GAAC,yBACD,WACI,MAAO,CACHjtB,EAAGvB,KAAKwF,SAASjE,EAAIvB,KAAK+H,OAAOxG,EACjCF,EAAGrB,KAAKwF,SAASnE,EAAIrB,KAAK+H,OAAO1G,EACjCC,EAAGtB,KAAKwF,SAASlE,EAEzB,GAAC,uBACD,WACI,IAAIjB,EACJ,OAAqC,QAA7BA,EAAKL,KAAKiV,OAAOjN,cAA2B,IAAP3H,EAAgBA,EAAKL,KAAKyF,KAAKxC,KAChF,GAAC,4BACD,WACI,IAAI5C,EACJ,OAAOL,KAAKuuB,cAA2C,QAA5BluB,EAAKL,KAAKiV,OAAO1H,aAA0B,IAAPlN,EAAgBA,EAAK0P,GAAoB/P,KAAKyuB,aACjH,GAAC,kBACD,SAAKV,EAAIvoB,EAAUwoB,EAAiB9C,GAChC,IAAI7qB,EAAIgF,EAAIC,EAAIC,EAAImQ,EAAIqM,EAAIC,EAAI0M,EAAIC,EAC9Btc,EAAYrS,KAAKqS,UAAWyS,EAAS9kB,KAAK+kB,QAChD/kB,KAAK+tB,GAAKA,EACV/tB,KAAKkrB,MAAQA,EACblrB,KAAKuV,MAAO,EACZvV,KAAK+V,cAAe,EACpB/V,KAAKoX,OAAQ,EACbpX,KAAK4uB,aAAe,EACpB5uB,KAAKsU,WAAY,EACjBtU,KAAKkuB,aAAc,EACnBluB,KAAK8V,SAAW,EAChB9V,KAAK6uB,WAAY,EACjB7uB,KAAKiX,OAAS,CACV6X,YAAa,CAAC,GAElB9uB,KAAK+uB,QAAU,SACf/uB,KAAKgvB,oBAAqB,EACpB,IAAA5U,EAAU/H,EAAU4E,OAAOC,WAAY+X,EAAc5c,EAAUa,cAAegc,EAAmB7D,GAAqBrrB,KAAK+kB,QAAS1S,EAAW4c,EAAY5b,WAAY8b,EAAYD,EAAiBpY,MAAM3W,KAAQ8qB,EAAqBiE,EAArBjE,iBACxNjrB,KAAK8W,MAAQ9K,EAAyBmjB,EAAWnvB,KAAK+tB,GAAI9C,GAC1D,IAAMmE,EAAeF,EAAiBpY,MACtC,GAAIkX,GAAmBA,EAAgBlX,OAASkX,EAAgBlX,MAAM3W,KAAM,CACxE,IAAsD2W,EAAQ9K,EAApCgiB,EAAgBlX,MAAM3W,KAA0DH,KAAK+tB,GAAI9C,GAC/GnU,IACA9W,KAAK8W,MAAQA,EACbsY,EAAa5nB,KAAKwmB,EAAgBlX,OAE1C,CACA9W,KAAKqvB,UAAYrvB,KAAKsvB,eAAeF,EAAcnE,GACnDiE,EAAiB1nB,KAAKwmB,GACtBkB,EAAiB1nB,KAA+B,QAAzBnH,EAAKL,KAAKqvB,iBAA8B,IAAPhvB,OAAgB,EAASA,EAAGgT,WACpFrT,KAAKwe,cAAgB,IAAI4G,GAAcN,EAAQzS,GAC/CrS,KAAKwe,cAAchX,KAAK6K,EAAUa,cAAcsL,eAChDxe,KAAKwe,cAAchX,KAAK0nB,EAAiB1Q,eACzCxe,KAAKuV,KAAqF,QAA7EjQ,EAA+B,QAAzBD,EAAKrF,KAAKqvB,iBAA8B,IAAPhqB,OAAgB,EAASA,EAAGkQ,YAAyB,IAAPjQ,EAAgBA,EAAKtF,KAAKuV,KAC5HvV,KAAKoX,MAAuF,QAA9E1B,EAA+B,QAAzBnQ,EAAKvF,KAAKqvB,iBAA8B,IAAP9pB,OAAgB,EAASA,EAAG6R,aAA0B,IAAP1B,EAAgBA,EAAK1V,KAAKoX,MAC9HpX,KAAKoE,QAAU8qB,EACf,IAAMK,EAAcvvB,KAAKoE,QAAQkP,KAAKwU,KACtC9nB,KAAKwvB,UAA0C,IAA9BrrB,EAASorB,EAAYjP,OAClCiP,EAAYnI,YACZpnB,KAAKsuB,cAAgBtuB,KAAK+kB,QAAQ9L,QAAQwW,iBAAiBF,EAAYnI,WACnEpnB,KAAKsuB,eAAiBjc,EAAUqd,QAAQH,EAAYnI,UAAWpnB,KAAKsuB,gBACpEtuB,KAAKsuB,cAAcrU,KAAK5H,IAGhC,IAAMsd,EAAc1rB,EAAcjE,KAAKoE,QAAQyQ,OAAO5R,OACtDoP,EAAU4E,OAAO2Y,aAAa5vB,MAC9B,IAAM6vB,EAAc7vB,KAAKoE,QAAQqB,KAAMqqB,EAAYD,EAAY5sB,MAAO8sB,EAAgBF,EAAY7f,UASlG,GARAhQ,KAAKyF,KAAO,CACRpB,OAAQwrB,EAAY7f,UAAU3L,OAC9BpB,MAAOgB,EAAc4rB,EAAY5sB,OAASoP,EAAU4E,OAAOC,WAC3D5T,IAAKS,EAAY+rB,GAAa1V,EAC9B/W,IAAKW,EAAY8rB,GAAa1V,EAC9BzJ,MAAO,EACPC,SAAU3M,EAAc4rB,EAAY7f,UAAUa,QAE9Ckf,EAAc1rB,OAGd,OAFArE,KAAKyF,KAAKiL,OAAS,aACnB1Q,KAAKyF,KAAKgL,MAAQ,EAAIxM,EAAc8rB,EAActf,OAC1Csf,EAAcrH,YAClB,IAAK,MACD1oB,KAAKyF,KAAKxC,MAAQjD,KAAKyF,KAAKpC,IAC5BrD,KAAKyF,KAAKiL,OAAS,aACnB,MACJ,IAAK,SACD1Q,KAAKyF,KAAKxC,MAAQY,EAAc7D,KAAKyF,MACrCzF,KAAKyF,KAAKiL,OAASxN,KAAe,GAAM,aAAe,aACvD,MAEJ,QACIlD,KAAKyF,KAAKxC,MAAQjD,KAAKyF,KAAKnC,IAC5BtD,KAAKyF,KAAKiL,OAAS,aAI/B1Q,KAAKyF,KAAKsL,aAAe/Q,KAAKyF,KAAKxC,MACnCjD,KAAKiV,OAAS,CACVkZ,SAAS,GAEbnuB,KAAKouB,KAAO,CACRD,SAAS,EACT3nB,OAAQ,GAEZxG,KAAKwF,SAAWxF,KAAKgwB,cAAc3d,EAAW7M,EAAUrC,EAAMwsB,EAAa,EAAGtd,EAAUyZ,UACxF9rB,KAAKiwB,gBAAkBjwB,KAAKwF,SAAS0qB,OACrC,IAAMC,EAAa9d,EAAUqH,OAAOjU,KAAM2qB,EAAa7V,OAAOC,OAAO,CAAC,EAAGxa,KAAKoE,QAAQkP,KAAKqU,QAAS0I,EAAsC,YAApBD,EAAWhnB,KAQjI,OAPApJ,KAAKowB,WAAa,CACd7uB,EAAG6uB,EAAW7uB,GAAK8uB,EAAkBF,EAAWzqB,MAAQ,IAAM,GAC9DrE,EAAG+uB,EAAW/uB,GAAKgvB,EAAkBF,EAAWxqB,OAAS,IAAM,GAC/DqC,OAAmD,QAA1C+Z,EAAK/hB,KAAKoE,QAAQkP,KAAKqU,OAAO3f,cAA2B,IAAP+Z,EAAgBA,EAAK,EAChF3Y,KAA+C,QAAxC4Y,EAAKhiB,KAAKoE,QAAQkP,KAAKqU,OAAOve,YAAyB,IAAP4Y,EAAgBA,EAAK,WAEhFhiB,KAAKiI,U5DlGN,SAAmCA,EAAWzC,EAAUmiB,GAC3D,GAAyB,kBAAd1f,EACP,OAAQA,EAAYtG,KAAK6sB,GAAM,IAG/B,OAAQvmB,GACJ,IAAK,MACD,OAAQtG,KAAK6sB,GAAK,EACtB,IAAK,YACD,OAAQ7sB,KAAK6sB,GAAK,EACtB,IAAK,QACD,OAAO,EACX,IAAK,eACD,OAAO7sB,KAAK6sB,GAAK,EACrB,IAAK,SACD,OAAO7sB,KAAK6sB,GAAK,EACrB,IAAK,cACD,OAAQ,EAAI7sB,KAAK6sB,GAAM,EAC3B,IAAK,OACD,OAAO7sB,KAAK6sB,GAChB,IAAK,WACD,OAAS,EAAI7sB,KAAK6sB,GAAM,EAC5B,IAAK,SACD,OAAO7sB,KAAKC,MAAM+lB,EAAOtmB,EAAImE,EAASnE,EAAGsmB,EAAOpmB,EAAIiE,EAASjE,GACjE,IAAK,UACD,OAAOI,KAAKC,MAAM4D,EAASnE,EAAIsmB,EAAOtmB,EAAGmE,EAASjE,EAAIomB,EAAOpmB,GACjE,QACI,OAAO2B,IAAcvB,KAAK6sB,GAAK,EAG/C,C4DoEyB8B,CAA0BtwB,KAAKoE,QAAQkP,KAAKrL,UAAWjI,KAAKwF,SAAUxF,KAAKowB,YACpFpwB,KAAKoE,QAAQkP,KAAKrL,WACtB,IAAK,SACDjI,KAAK+uB,QAAU,SACf,MACJ,IAAK,UACD/uB,KAAK+uB,QAAU,UAGvB/uB,KAAKuwB,gBAAkBvwB,KAAKwwB,qBAC5BxwB,KAAKuG,SAAWvG,KAAKuwB,gBAAgBL,OACrClwB,KAAKywB,UAAY,EAAIxsB,EAAcjE,KAAKoE,QAAQkP,KAAK7C,OACrDzQ,KAAK+H,OAASpF,EAAO+tB,OACrB,IAAMrd,EAAYhB,EAAUgB,UAC5BA,EAAUsd,UAAYtd,EAAUsd,WAAatd,EAAUud,WAAa5wB,KAAKwF,SAASlE,EAClF+R,EAAUud,WAAa5wB,KAAKwF,SAASlE,EACrCtB,KAAK+U,aAAe/U,KAAKwF,SAASlE,EAAI+Q,EAAUyZ,QAChD9rB,KAAK6wB,MAAQ,GACb,IAAI9Z,EAAS1E,EAAU2E,QAAQzW,IAAIP,KAAK8W,OACnCC,IACDA,EAAS/W,KAAK+kB,QAAQ9L,QAAQ6X,eAAe9wB,KAAK8W,SAE9CzE,EAAU2E,QAAQxW,IAAIR,KAAK8W,MAAOC,IAG3B,OAAXA,QAA8B,IAAXA,OAAoB,EAASA,EAAO+S,aAC5C,OAAX/S,QAA8B,IAAXA,GAA6BA,EAAO+S,UAAU9pB,OAErE,IAAM+wB,EAA2B,OAAXha,QAA8B,IAAXA,OAAoB,EAASA,EAAOia,cACzED,IACA/wB,KAAK6wB,MAAQE,EAAc/wB,OAE/BA,KAAKqU,UAAW,EAChBrU,KAAKqW,YAAc/I,GAAgBtN,KAAKoE,QAAQwR,OAAOrI,OAAO,IACZ,EADY,UACxC8E,EAAUgB,UAAU+F,UAAQ,IAAlD,IAAK,EAAL,qBAAoD,CAAlC,QACNa,KAAKja,KACjB,CAAC,mCAC6C,EAD7C,UACmBqS,EAAUgB,UAAU4d,QAAM,IAA9C,IAAK,EAAL,qBAAgD,KAArCC,EAAK,QACU,QAArBxC,EAAKwC,EAAMjX,YAAyB,IAAPyU,GAAyBA,EAAG1T,KAAKkW,EAAOlxB,KAC1E,CAAC,gCACc,OAAX+W,QAA8B,IAAXA,OAAoB,EAASA,EAAOoa,eACvDpa,EAAOoa,aAAa9e,EAAWrS,MAClC,IACyC,EADzC,UACwBqS,EAAU4G,SAAO,IAA1C,IAAK,EAAL,qBAA4C,KAA9BvB,GAA8B,kBAAxB,GACkB,QAAjCiX,EAAKjX,EAAO0Z,uBAAoC,IAAPzC,GAAyBA,EAAG3T,KAAKtD,EAAQ1X,KACvF,CAAC,+BACL,GAAC,4BACD,WACI,IAAMgI,EAAShI,KAAKuK,YAAa4lB,EAAanwB,KAAKqS,UAAUqH,OAAOjU,KACpE,OAAQzF,KAAKwF,SAASjE,IAAMyG,GACxBhI,KAAKwF,SAASnE,IAAM2G,GACpBhI,KAAKwF,SAASnE,GAAK8uB,EAAWxqB,OAASqC,GACvChI,KAAKwF,SAASjE,GAAK4uB,EAAWzqB,MAAQsC,CAC9C,GAAC,uBACD,WACI,OAAQhI,KAAKsU,YAActU,KAAKqU,UAAYrU,KAAKqxB,gBACrD,GAAC,mBACD,WACI,IAAIhxB,EACmD,EADhD,UACeL,KAAKqS,UAAUgB,UAAU+F,UAAQ,IAAvD,IAAK,EAAL,qBAAyD,KAA9CC,EAAO,QACW,QAAxBhZ,EAAKgZ,EAAQmU,aAA0B,IAAPntB,GAAyBA,EAAG2a,KAAK3B,EAASrZ,KAC/E,CAAC,+BACL,GAAC,2BACD,SAAcqS,EAAW7M,EAAUqP,GAAsB,IACjDxU,EAAIgF,EAAIC,EAAIC,EAC0B,EAFH+rB,EAAW,UAAH,6CAAG,EAC/B,UACMjf,EAAU4G,SAAO,IAA1C,IAAK,EAAL,qBAA4C,0BAA9BvB,EAAM,KACV6Z,OAAwC9vB,IAA5BiW,EAAO8Z,iBAAiC9Z,EAAO8Z,iBAAiBhsB,EAAUxF,WAAQyB,EACpG,QAAkBA,IAAd8vB,EACA,OAAOpwB,EAASe,OAAOqvB,EAAUhwB,EAAGgwB,EAAUlwB,EAAGwT,EAEzD,CAAC,+BACD,IAAMsb,EAAa9d,EAAUqH,OAAOjU,KAAMgsB,EAAgB5rB,EAAkC,CACxFJ,KAAM0qB,EACN3qB,SAAUA,IACVqQ,EAAM1U,EAASe,OAAOuvB,EAAclwB,EAAGkwB,EAAcpwB,EAAGwT,GAAS7M,EAAShI,KAAKuK,YAAawd,EAAW/nB,KAAKoE,QAAQkP,KAAKyU,SAAU2J,EAAgB,SAACrJ,GACpJoF,GAAW,CACPpF,QAAAA,EACAqF,WAAY,CAAC,SAAU,qBACvBC,MAAO9X,EAAItU,EACXqsB,SAAUvb,EAAUqH,OAAOjU,KAAKC,MAChCmoB,MAAO,SAAC5qB,GAAK,OAAM4S,EAAItU,GAAK0B,CAAK,EACjC+E,OAAAA,GAER,EAAG2pB,EAAc,SAACtJ,GACdoF,GAAW,CACPpF,QAAAA,EACAqF,WAAY,CAAC,SAAU,mBACvBC,MAAO9X,EAAIxU,EACXusB,SAAUvb,EAAUqH,OAAOjU,KAAKE,OAChCkoB,MAAO,SAAC5qB,GAAK,OAAM4S,EAAIxU,GAAK4B,CAAK,EACjC+E,OAAAA,GAER,EAKA,OAJA0pB,EAAuC,QAAxBrxB,EAAK0nB,EAASzf,YAAyB,IAAPjI,EAAgBA,EAAK0nB,EAASrI,SAC7EgS,EAAwC,QAAzBrsB,EAAK0iB,EAAS1f,aAA0B,IAAPhD,EAAgBA,EAAK0iB,EAASrI,SAC9EiS,EAAoC,QAAvBrsB,EAAKyiB,EAAS3f,WAAwB,IAAP9C,EAAgBA,EAAKyiB,EAASrI,SAC1EiS,EAAuC,QAA1BpsB,EAAKwiB,EAASxf,cAA2B,IAAPhD,EAAgBA,EAAKwiB,EAASrI,SACzE1f,KAAK4xB,cAAc/b,EAAKyb,GACjBtxB,KAAKgwB,cAAc3d,OAAW5Q,EAAWoT,EAAQyc,EAAW,GAEhEzb,CACX,GAAC,gCACD,WACI,IAA8DpP,E5D1K/D,SAAiCwB,GACpC,IAAM4pB,EAAelvB,EAAO+tB,OAG5B,OAFAmB,EAAa9wB,OAAS,EACtB8wB,EAAahwB,MAAQoG,EACd4pB,CACX,C4DqK6BC,CAAwB9xB,KAAKiI,WAA+BioB,OAAQ6B,EAAc/xB,KAAKoE,QAAQkP,KACpH,GAA8B,WAA1Bye,EAAY9pB,WAAoD,YAA1B8pB,EAAY9pB,UAClD,OAAOxB,EAEX,IAAMurB,EAAOrwB,KAAK6sB,GAAK,IAAOvqB,EAAc8tB,EAAYlwB,MAAMoB,OAAQgvB,EAAatwB,KAAK6sB,GAAK,IAAOvqB,EAAc8tB,EAAYlwB,MAAMkG,QAASmqB,EAAQ,CACjJ5pB,KAAM2pB,EAAYD,EAAM,EACxB3pB,MAAO4pB,EAAYD,EAAM,GAQ7B,OANKD,EAAY9J,WACbxhB,EAAI5E,OAASgC,EAAcK,EAAcguB,EAAM5pB,KAAM4pB,EAAM7pB,SAE3D0pB,EAAYlvB,QAAuC,kBAAtBkvB,EAAYvhB,QACzC/J,EAAI1F,QAAUmC,KAEXuD,CACX,GAAC,2BACD,SAAcoP,GAAmB,IAAdyb,EAAW,UAAH,6CAAG,EACpBa,EAAoBnyB,KAAKoE,QAAQgkB,WAAYpgB,EAAShI,KAAKuK,YACjE,IAAK4nB,EAAkB9tB,OACnB,OAAO,EAEX,IAAM+tB,EAAiBD,EAAkB1L,QACzC,GAAI2L,EAAe/tB,OACf,OAAO,EAEX,IAAM6hB,EAAUkM,EAAelM,QAC/B,GAAIA,GAAW,GAAKoL,EAAWpL,EAC3B,MAAM,IAAIxkB,MAAM,+CAEpB,IACqD,EADjD2wB,GAAW,EAAM,UACEryB,KAAKqS,UAAUgB,UAAUnM,OAAK,IAArD,IAAK,EAAL,qBAAuD,KAA5CwE,EAAQ,QACf,GAAI7G,EAAYgR,EAAKnK,EAASlG,UAAYwC,EAAS0D,EAASnB,YAAa,CACrE8nB,GAAW,EACX,KACJ,CACJ,CAAC,+BACD,OAAOA,CACX,GAAC,2BACD,SAAc9kB,GACV,IAAIlN,EACJ,IAAKkN,IAAUvN,KAAKsyB,OAAUtyB,KAAKuyB,YAAcvyB,KAAKsyB,KAAKE,MACvD,OAAOjlB,EAEX,IAAMklB,EAAazyB,KAAKsyB,KAAK3nB,YAAc3K,KAAKsyB,KAAK1nB,SAAW,EAAI,EAAG8nB,EAAU1yB,KAAKsyB,KAAK3nB,WAAahJ,KAAK6sB,GAAK,EAAI,EACtH,OADkI7sB,KAAKiC,QAAmC,QAA1BvD,EAAKL,KAAKsyB,KAAKzwB,aAA0B,IAAPxB,EAAgBA,EAAK,GAAKqyB,IAAY/wB,KAAK6sB,GAAKiE,IAAe,EAI7OzyB,KAAKuyB,UACEvyB,KAAKuyB,UAEZvyB,KAAKsyB,KAAKE,MzDpNf,SAAkBjlB,EAAOpN,EAAM8C,GAClC,MAAO,CACHkL,EAAGZ,EAAMY,EACTE,EAAGd,EAAMc,EACTD,EAAGb,EAAMa,GAAc,WAATjO,GAAqB,EAAI,GAAK8C,EAEpD,CyD+MmB0vB,CAASplB,EAAOvN,KAAKsyB,KAAKE,MAAMryB,KAAMH,KAAKsyB,KAAKE,MAAMvvB,OAE1DsK,EARIA,CASf,GAAC,4BACD,SAAe6hB,EAAcnE,GACzB,IAAMoE,EAAYD,EAAahrB,QAAQpE,KAAK8W,OAC5C,GAAIuY,EACA,OAAO3mB,EAAW,CAAC,EAAGsD,EAAyBqjB,EAAWrvB,KAAK+tB,GAAI9C,GAE3E,KAAC,EAtTgB,GCnBR2H,IAAK,QACd,WAAYptB,EAAUkG,IAAU,eAC5B1L,KAAKwF,SAAWA,EAChBxF,KAAK0L,SAAWA,CACpB,ICJSmnB,IAAK,QACd,WAAYtxB,EAAGF,IAAG,eACdrB,KAAKwF,SAAW,CACZjE,EAAGA,EACHF,EAAGA,EAEX,ICJSyxB,GAAM,0CACf,WAAYvxB,EAAGF,EAAG2G,GAAQ,MAED,OAFC,gBACtB,cAAMzG,EAAGF,IACJ2G,OAASA,EAAO,CACzB,CAeC,OAfA,gCACD,SAASF,GACL,OAAOjD,EAAYiD,EAAO9H,KAAKwF,WAAaxF,KAAKgI,MACrD,GAAC,wBACD,SAAWkqB,GACP,IAAMa,EAAOb,EAAOc,EAASd,EAAOe,EAAOjzB,KAAKwF,SAAU0tB,EAAOhB,EAAM1sB,SAAU2tB,EAAU,CAAE5xB,EAAGI,KAAKyxB,IAAIF,EAAK3xB,EAAI0xB,EAAK1xB,GAAIF,EAAGM,KAAKyxB,IAAIF,EAAK7xB,EAAI4xB,EAAK5xB,IAAMyC,EAAI9D,KAAKgI,OACpK,QAAsBvG,IAAlBuxB,EAAOhrB,OAEP,OADalE,EAAIkvB,EAAOhrB,OAAerG,KAAKI,KAAK,SAAAoxB,EAAQ5xB,EAAK,GAAC,SAAG4xB,EAAQ9xB,EAAK,IAG9E,QAAkBI,IAAdsxB,EAAKttB,KAAoB,CAC9B,IAAM4tB,EAAIN,EAAKttB,KAAKC,MAAOyI,EAAI4kB,EAAKttB,KAAKE,OACzC,OADyDhE,KAAK2xB,IAAIH,EAAQ5xB,EAAI8xB,EAAG,GAAK1xB,KAAK2xB,IAAIH,EAAQ9xB,EAAI8M,EAAG,IAC9F,KAAJ,IAAIrK,EAAK,IAAMqvB,EAAQ5xB,GAAKuC,EAAIuvB,GAAKF,EAAQ9xB,GAAKyC,EAAIqK,GAAMglB,EAAQ5xB,GAAK8xB,GAAKF,EAAQ9xB,GAAK8M,CAC3G,CACA,OAAO,CACX,KAAC,EAnBc,CAAS0kB,ICAfU,GAAS,0CAClB,WAAYhyB,EAAGF,EAAGqE,EAAOC,GAAQ,MAK3B,OAL2B,gBAC7B,cAAMpE,EAAGF,IACJoE,KAAO,CACRE,OAAQA,EACRD,MAAOA,GACT,CACN,CAWC,OAXA,gCACD,SAASoC,GACL,IAAMurB,EAAIrzB,KAAKyF,KAAKC,MAAOyI,EAAInO,KAAKyF,KAAKE,OAAQkQ,EAAM7V,KAAKwF,SAC5D,OAAOsC,EAAMvG,GAAKsU,EAAItU,GAAKuG,EAAMvG,GAAKsU,EAAItU,EAAI8xB,GAAKvrB,EAAMzG,GAAKwU,EAAIxU,GAAKyG,EAAMzG,GAAKwU,EAAIxU,EAAI8M,CAC9F,GAAC,wBACD,SAAW+jB,GACHA,aAAiBY,IACjBZ,EAAMsB,WAAWxzB,MAErB,IAAMqzB,EAAIrzB,KAAKyF,KAAKC,MAAOyI,EAAInO,KAAKyF,KAAKE,OAAQstB,EAAOjzB,KAAKwF,SAAU0tB,EAAOhB,EAAM1sB,SAAUyJ,EAAQijB,aAAiBqB,EAAYrB,EAAMzsB,KAAO,CAAEC,MAAO,EAAGC,OAAQ,GAAK8tB,EAAKxkB,EAAMvJ,MAAOguB,EAAKzkB,EAAMtJ,OACtM,OAAOutB,EAAK3xB,EAAI0xB,EAAK1xB,EAAI8xB,GAAKH,EAAK3xB,EAAIkyB,EAAKR,EAAK1xB,GAAK2xB,EAAK7xB,EAAI4xB,EAAK5xB,EAAI8M,GAAK+kB,EAAK7xB,EAAIqyB,EAAKT,EAAK5xB,CACpG,KAAC,EAlBiB,CAASwxB,ICClBc,GAAQ,WACjB,WAAYC,EAAWC,IAAU,eAC7B7zB,KAAK4zB,UAAYA,EACjB5zB,KAAK6zB,SAAWA,EAChB7zB,KAAK8zB,QAAU,GACf9zB,KAAK+zB,UAAW,CACpB,CAqDC,OArDA,8BACD,SAAOjsB,GACH,IAAIzH,EAAIgF,EAAIC,EAAIC,EAAImQ,EACpB,QAAK1V,KAAK4zB,UAAUI,SAASlsB,EAAMtC,YAG/BxF,KAAK8zB,QAAQ/yB,OAASf,KAAK6zB,UAC3B7zB,KAAK8zB,QAAQrzB,KAAKqH,IACX,IAEN9H,KAAK+zB,UACN/zB,KAAKi0B,YAKyE,QAHzEve,GAA2B,QAAnBrV,EAAKL,KAAKk0B,WAAwB,IAAP7zB,OAAgB,EAASA,EAAG8zB,OAAOrsB,MACtD,QAAnBzC,EAAKrF,KAAKo0B,WAAwB,IAAP/uB,OAAgB,EAASA,EAAG8uB,OAAOrsB,MAC3C,QAAnBxC,EAAKtF,KAAKq0B,WAAwB,IAAP/uB,OAAgB,EAASA,EAAG6uB,OAAOrsB,MAC3C,QAAnBvC,EAAKvF,KAAKs0B,WAAwB,IAAP/uB,OAAgB,EAASA,EAAG4uB,OAAOrsB,WAA6B,IAAP4N,GAAgBA,GAC9G,GAAC,mBACD,SAAMwc,EAAOqC,EAAOC,GAChB,IAAIn0B,EAAIgF,EAAIC,EAAIC,EACVkB,EAAgB,OAAV+tB,QAA4B,IAAVA,EAAmBA,EAAQ,GACzD,IAAKtC,EAAMsB,WAAWxzB,KAAK4zB,WACvB,MAAO,GACV,IAC2B,EAD3B,UACe5zB,KAAK8zB,SAAO,IAA5B,IAAK,EAAL,qBAA8B,KAAnBzpB,EAAC,SACH6nB,EAAM8B,SAAS3pB,EAAE7E,WAClBX,EAAYqtB,EAAM1sB,SAAU6E,EAAE7E,UAAY6E,EAAEqB,SAASnB,eACnDgqB,GAASA,EAAMlqB,EAAEqB,YAGvBjF,EAAIhG,KAAK4J,EAAEqB,SACf,CAAC,+BAOD,OANI1L,KAAK+zB,WACe,QAAnB1zB,EAAKL,KAAKk0B,WAAwB,IAAP7zB,GAAyBA,EAAG0G,MAAMmrB,EAAOqC,EAAO9tB,GACxD,QAAnBpB,EAAKrF,KAAKo0B,WAAwB,IAAP/uB,GAAyBA,EAAG0B,MAAMmrB,EAAOqC,EAAO9tB,GACxD,QAAnBnB,EAAKtF,KAAKq0B,WAAwB,IAAP/uB,GAAyBA,EAAGyB,MAAMmrB,EAAOqC,EAAO9tB,GACxD,QAAnBlB,EAAKvF,KAAKs0B,WAAwB,IAAP/uB,GAAyBA,EAAGwB,MAAMmrB,EAAOqC,EAAO9tB,IAEzEA,CACX,GAAC,yBACD,SAAYjB,EAAUwC,EAAQusB,GAC1B,OAAOv0B,KAAK+G,MAAM,IAAI+rB,GAAOttB,EAASjE,EAAGiE,EAASnE,EAAG2G,GAASusB,EAClE,GAAC,4BACD,SAAe/uB,EAAUC,EAAM8uB,GAC3B,OAAOv0B,KAAK+G,MAAM,IAAIwsB,GAAU/tB,EAASjE,EAAGiE,EAASnE,EAAGoE,EAAKC,MAAOD,EAAKE,QAAS4uB,EACtF,GAAC,uBACD,WACI,IAAMhzB,EAAIvB,KAAK4zB,UAAUpuB,SAASjE,EAAGF,EAAIrB,KAAK4zB,UAAUpuB,SAASnE,EAAGgyB,EAAIrzB,KAAK4zB,UAAUnuB,KAAKC,MAAOyI,EAAInO,KAAK4zB,UAAUnuB,KAAKE,OAAQkuB,EAAW7zB,KAAK6zB,SACnJ7zB,KAAKk0B,IAAM,IAAIP,EAAS,IAAIJ,GAAUhyB,EAAGF,EAAGgyB,EAAI,EAAGllB,EAAI,GAAI0lB,GAC3D7zB,KAAKo0B,IAAM,IAAIT,EAAS,IAAIJ,GAAUhyB,EAAI8xB,EAAI,EAAGhyB,EAAGgyB,EAAI,EAAGllB,EAAI,GAAI0lB,GACnE7zB,KAAKq0B,IAAM,IAAIV,EAAS,IAAIJ,GAAUhyB,EAAGF,EAAI8M,EAAI,EAAGklB,EAAI,EAAGllB,EAAI,GAAI0lB,GACnE7zB,KAAKs0B,IAAM,IAAIX,EAAS,IAAIJ,GAAUhyB,EAAI8xB,EAAI,EAAGhyB,EAAI8M,EAAI,EAAGklB,EAAI,EAAGllB,EAAI,GAAI0lB,GAC3E7zB,KAAK+zB,UAAW,CACpB,KAAC,EA3DgB,GCGRU,GAAS,WAClB,WAAY3P,EAAQzS,IAAW,eAC3BrS,KAAKqS,UAAYA,EACjBrS,KAAK+kB,QAAUD,EACf9kB,KAAK00B,OAAS,EACd10B,KAAKkH,MAAQ,GACblH,KAAK20B,OAAS,GACd30B,KAAK40B,KAAO,GACZ50B,KAAKmpB,MAAQ,EACbnpB,KAAK2wB,WAAY,EACjB3wB,KAAK4wB,WAAa,EAClB5wB,KAAK60B,mBAAqB,IAAI5H,GAAmBjtB,KAAK+kB,QAAS1S,GAC/D,IAAM8d,EAAanwB,KAAKqS,UAAUqH,OAAOjU,KACzCzF,KAAK80B,SAAW,IAAInB,GAAS,IAAIJ,IAAWpD,EAAWzqB,MAAQ,GAAIyqB,EAAWxqB,OAAS,EAAuB,EAAnBwqB,EAAWzqB,MAAa,EAAwB,EAApByqB,EAAWxqB,OAAc,GAAI,GACpJ3F,KAAKixB,OAASjxB,KAAK+kB,QAAQ9L,QAAQ8b,UAAU1iB,GAAW,GACxDrS,KAAKoZ,SAAWpZ,KAAK+kB,QAAQ9L,QAAQ+b,YAAY3iB,GAAW,EAChE,CA8OC,OA9OA,2BACD,WACI,OAAOrS,KAAKkH,MAAMnG,MACtB,GAAC,gCACD,WACI,IAC8C,ElEgFjBqE,EkEjFvBiN,EAAYrS,KAAKqS,UAAWjO,EAAUiO,EAAUa,cAAc,UAC7C9O,EAAQunB,iBAAe,IAA9C,IAAK,EAAL,qBAAgD,KAArCjgB,EAAQ,QACf1L,KAAKi1B,alE+EoB7vB,EkE/Ea,CAClCK,KAAM4M,EAAUqH,OAAOjU,KACvBD,SAAUkG,EAASlG,WlE8EnBA,eAAgC/D,IAApB2D,EAAKI,SAASjE,QAAuCE,IAApB2D,EAAKI,SAASnE,EACjE,CACEE,EAAI6D,EAAKI,SAASjE,EAAI6D,EAAKK,KAAKC,MAAS,IACzCrE,EAAI+D,EAAKI,SAASnE,EAAI+D,EAAKK,KAAKE,OAAU,UAE5ClE,EkElFMiK,EAAStH,QACjB,CAAC,+BACL,GAAC,yBACD,SAAYoB,EAAUwoB,EAAiB9C,EAAOgK,GAC1C,IAAqE/L,EAAnDnpB,KAAKqS,UAA+Ba,cAA+BG,UAAU2X,OAAO7B,MACtG,GAAIA,EAAQ,EAAG,CACX,IAAMgM,EAAgBn1B,KAAK6Q,MAAQ,EAAIsY,EACnCgM,EAAgB,GAChBn1B,KAAKo1B,eAAeD,EAE5B,CACA,OAAOn1B,KAAKq1B,cAAc7vB,EAAUwoB,EAAiB9C,EAAOgK,EAChE,GAAC,mBACD,WACIl1B,KAAKkH,MAAQ,GACblH,KAAK20B,OAAS,EAClB,GAAC,qBACD,WACI30B,KAAKkH,MAAQ,GACblH,KAAK20B,OAAS,GACd30B,KAAKixB,OAAS,GACdjxB,KAAKoZ,SAAW,EACpB,GAAC,2DACD,WAAWhF,GAAK,0FAGa,OAFnB/B,EAAYrS,KAAKqS,UAAW8d,EAAanwB,KAAKqS,UAAUqH,OAAOjU,KACrEzF,KAAK80B,SAAW,IAAInB,GAAS,IAAIJ,IAAWpD,EAAWzqB,MAAQ,GAAIyqB,EAAWxqB,OAAS,EAAuB,EAAnBwqB,EAAWzqB,MAAa,EAAwB,EAApByqB,EAAWxqB,OAAc,GAAI,GACpJ0M,EAAUqH,OAAOhI,QAAQ,SACnB1R,KAAKs1B,OAAOlhB,GAAM,OACpBpU,KAAK2wB,YACL3wB,KAAK20B,OAAOtI,MAAK,SAACnf,EAAGD,GAAC,OAAKA,EAAEzH,SAASlE,EAAI4L,EAAE1H,SAASlE,GAAK4L,EAAE6gB,GAAK9gB,EAAE8gB,EAAE,IACrE/tB,KAAK4wB,WAAa5wB,KAAK20B,OAAO30B,KAAK20B,OAAO5zB,OAAS,GAAGyE,SAASlE,EAC/DtB,KAAK2wB,WAAY,GACpB,UACwBte,EAAU4G,SAAO,IAA1C,IAAK,EAAL,qBAA4C,qBAA9BvB,EAAM,KAChBrF,EAAUqH,OAAO9B,WAAWF,EAAQtD,EACvC,yCACepU,KAAK20B,QAAM,IAA3B,IAAK,EAAL,qBAAY,QACN7gB,KAAKM,EACV,gFACJ,mDAjBA,IAiBA,6BACD,SAAgBhL,GACZpJ,KAAK60B,mBAAmB5V,gBAAgB7V,EAC5C,GAAC,kBACD,WACI,IAAI/I,EACEgS,EAAYrS,KAAKqS,UAAWjO,EAAUiO,EAAUa,cACtDlT,KAAK4wB,WAAa,EAClB5wB,KAAK2wB,WAAY,EACjB,IAAIhP,GAAU,EACd3hB,KAAKoZ,SAAWpZ,KAAK+kB,QAAQ9L,QAAQ+b,YAAY3iB,GAAW,GAC5DrS,KAAK60B,mBAAmB5a,OAAO,IACW,EADX,UACN5H,EAAU4G,SAAO,IAA1C,IAAK,EAAL,qBAA4C,KAA9BvB,GAA8B,kBAAxB,GAIhB,QAHuCjW,IAAnCiW,EAAO6d,0BACP5T,EAAUjK,EAAO6d,2BAEjB5T,EACA,KAER,CAAC,+BACD3hB,KAAK60B,mBAAmB5a,OAAO,IACyB,EADzB,UACC5H,EAAUmjB,gBAAc,IAAxD,IAAK,EAAL,qBAA0D,oBAA/B,GACTvb,KAAK5H,EACvB,CAAC,+BAED,GADArS,KAAKy1B,sBACA9T,EAAS,CACV,IAAK,IAAMuJ,KAAS9mB,EAAQiP,UAAU0X,OAElC,IADA,IAAM2K,EAAetxB,EAAQiP,UAAU0X,OAAOG,GACrCyK,EAAI31B,KAAK6Q,MAAO+kB,EAAI,EAAGA,GAAoC,QAA9Bv1B,EAAKq1B,EAAa1K,cAA2B,IAAP3qB,OAAgB,EAASA,EAAG4C,QAAU0yB,EAAIvxB,EAAQiP,UAAU2X,OAAO/nB,MAAO0yB,IAAKC,IACvJ51B,KAAKi1B,iBAAYxzB,EAAWi0B,EAAcxK,GAGlD,IAAK,IAAIyK,EAAI31B,KAAK6Q,MAAO8kB,EAAIvxB,EAAQiP,UAAU2X,OAAO/nB,MAAO0yB,IACzD31B,KAAKi1B,aAEb,CACJ,GAAC,kBACD,SAAKY,EAAIpX,EAAOuP,EAAiB9C,GAC7BlrB,KAAK81B,SAAU,EACf,IAAK,IAAIH,EAAI,EAAGA,EAAIE,EAAIF,IACpB31B,KAAKi1B,YAAsB,OAAVxW,QAA4B,IAAVA,OAAmB,EAASA,EAAMjZ,SAAUwoB,EAAiB9C,GAEpGlrB,KAAK81B,SAAU,CACnB,GAAC,6DACD,mFAEgB,OADZ91B,KAAK0R,QACL1R,KAAKia,OAAO,SACNja,KAAK8T,KAAK,CAAE7Q,MAAO,EAAGuD,OAAQ,IAAI,gDAC3C,kDALA,IAKA,oBACD,SAAOkF,EAAUwf,EAAO+C,GACpBjuB,KAAK+1B,SAAS/1B,KAAKkH,MAAMjG,QAAQyK,QAAWjK,EAAWypB,EAAO+C,EAClE,GAAC,sBACD,SAAStmB,GAAsC,IAA/BquB,EAAW,UAAH,6CAAG,EAAG9K,EAAK,uCAAE+C,EAAQ,uCACzC,KAAItmB,EAAQ,GAAKA,EAAQ3H,KAAK6Q,OAI9B,IADA,IAAIolB,EAAU,EACLN,EAAIhuB,EAAOsuB,EAAUD,GAAYL,EAAI31B,KAAK6Q,MAAO8kB,IAAK,CAC3D,IAAMjqB,EAAW1L,KAAKkH,MAAMyuB,GAC5B,GAAKjqB,GAAYA,EAASwf,QAAUA,EAApC,CAGAxf,EAAS6X,QAAQ0K,GACjBjuB,KAAKkH,MAAMhG,OAAOy0B,IAAK,GACvB,IAAMO,EAAOl2B,KAAK20B,OAAO1zB,QAAQyK,GACjC1L,KAAK20B,OAAOzzB,OAAOg1B,EAAM,GACzBl2B,KAAK40B,KAAKn0B,KAAKiL,GACfuqB,IACAj2B,KAAK+kB,QAAQoR,cAAc,kBAAmB,CAC1C9jB,UAAWrS,KAAKqS,UAChBjN,KAAM,CACFsG,SAAAA,IAVR,CAaJ,CACJ,GAAC,4BACD,SAAesqB,EAAU9K,GACrBlrB,KAAK+1B,SAAS,EAAGC,EAAU9K,EAC/B,GAAC,wBACD,WACI,IAAM9mB,EAAUpE,KAAKqS,UAAUa,cAC/B,IAAK,IAAMgY,KAAS9mB,EAAQiP,UAAU0X,OAClC/qB,KAAKo2B,cAAchyB,EAAQiP,UAAU0X,OAAOG,GAAQ,EAAGA,GAE3DlrB,KAAKo2B,cAAchyB,EAAQiP,UAAWjP,EAAQunB,gBAAgB5qB,OAClE,GAAC,6DACD,WAAaqT,GAAK,sIAER/B,EAAYrS,KAAKqS,UAAWgkB,EAAoB,GAAE,UACxBhkB,EAAUmjB,gBAAc,IAAxD,IAAK,EAAL,qBAA0D,qBAA/B,KACTF,QACjB,yCACwBjjB,EAAU4G,SAAO,IAA1C,IAAK,EAAL,qBAA4C,qBAA9BvB,EAAM,KACS,QAAxBrX,EAAKqX,EAAO4d,cAA2B,IAAPj1B,GAAyBA,EAAG2a,KAAKtD,EAAQtD,EAC7E,yCACsBpU,KAAKkH,OAAK,yDAQO,OAR7BwE,EAAQ,SACTgP,EAAerI,EAAUqH,OAAOgB,gBACjBhP,EAASsjB,qBAC1BtjB,EAASlG,SAASjE,GAAKmZ,EAAahV,MACpCgG,EAASlG,SAASnE,GAAKqZ,EAAa/U,OACpC+F,EAASukB,gBAAgB1uB,GAAKmZ,EAAahV,MAC3CgG,EAASukB,gBAAgB5uB,GAAKqZ,EAAa/U,QAE/C+F,EAASsjB,oBAAqB,EAAM,UAC9BhvB,KAAK60B,mBAAmBrH,MAAM9hB,GAAS,kBACpB1L,KAAKqS,UAAU4G,SAAO,2DAA3B,GAA2B,qBAAjCvB,EAAM,MACZhM,EAAS4I,UAAW,CAAF,oDAGW,QAAhCjP,EAAKqS,EAAO4e,sBAAmC,IAAPjxB,GAAyBA,EAAG2V,KAAKtD,EAAQhM,EAAU0I,GAAO,2JAEnFpU,KAAKixB,QAAM,IAA/B,IAAK,EAAL,sBAAWC,EAAK,SACF5D,UAAU5hB,IAChBwlB,EAAM5d,KAAK5H,EAAU0I,EAE5B,mCACG1I,EAAS4I,UAAW,CAAF,gBACe,OAAjC+hB,EAAkB51B,KAAKiL,GAAU,gCAGrC1L,KAAK80B,SAASX,OAAO,IAAIvB,GAAMlnB,EAASpB,cAAeoB,IAAW,+IAEtE,IAAK,EAAL,IAAuB2qB,EAAiB,eAA7B3qB,EAAQ,KACf1L,KAAKiU,OAAOvI,GACf,iBACK1L,KAAK60B,mBAAmB0B,iBAAiBniB,GAAM,kBAC9BpU,KAAKkH,OAAK,2DAAtBwE,EAAQ,kBACO1L,KAAKoZ,UAAQ,IAAnC,IAAK,EAAL,qBAAkB,QACNkc,OAAO5pB,EAAU0I,EAC5B,kCACI1I,EAAS4I,WAAc5I,EAAS2I,SAAQ,kCACnCrU,KAAK60B,mBAAmB2B,kBAAkB9qB,EAAU0I,GAAM,wJAGjE/B,EAAUqH,OAAOgB,aAAa,4FACxC,mDAlDA,IAkDA,2BACD,SAActW,EAASqyB,EAAavL,GAChC,IAAI7qB,EACJ,GAAwC,QAAjCA,EAAK+D,EAAQ4mB,OAAO9B,eAA4B,IAAP7oB,OAAgB,EAASA,EAAGgE,OAA5E,CAGA,IAAMqyB,EAAgBtyB,EAAQ4mB,OAAQ2L,EAAgB32B,KAAK42B,mBAAmBF,EAAcxN,SAAU2N,EAAqBH,EAAczzB,MAAO6zB,EAAoBJ,EAAcvN,MAAQ,EAAIuN,EAAcvN,MAAQ0N,EAAoBE,EAAkBp1B,KAAK0B,IAAIwzB,EAAoBC,GAAqBH,EAAgBF,EAAaO,EAAiBr1B,KAAK0B,IAAIrD,KAAK6Q,MAAO7Q,KAAKkH,MAAM+vB,QAAO,SAAC1tB,GAAC,OAAKA,EAAE2hB,QAAUA,CAAK,IAAEnqB,QAC3Zf,KAAKmpB,MAAQuN,EAAcvN,MAAQwN,EAC/BK,EAAiBD,EACjB/2B,KAAKS,KAAKkB,KAAKyxB,IAAI2D,EAAkBC,QAAiBv1B,EAAW2C,EAAS8mB,GAErE8L,EAAiBD,GACtB/2B,KAAKo1B,eAAe4B,EAAiBD,EAAiB7L,EAP1D,CASJ,GAAC,gCACD,SAAmBgM,GACf,IAAM7kB,EAAYrS,KAAKqS,UACvB,IAAKA,EAAUqH,OAAO1P,UAAYktB,EAAe7yB,OAC7C,OAAO,EAEX,IAAMqV,EAASrH,EAAUqH,OAAO1P,QAASoQ,EAAU/H,EAAU4E,OAAOC,WACpE,OAAQwC,EAAOhU,MAAQgU,EAAO/T,QAAWuxB,EAAe1wB,OAAS,KAAH,IAAG4T,EAAW,GAAI8c,EAAenO,KACnG,GAAC,2BACD,SAAcvjB,EAAUwoB,EAAiB9C,EAAOgK,GAC5C,IACI,IAAIxpB,EAAW1L,KAAK40B,KAAKuC,MACrBzrB,EACAA,EAASuO,KAAKja,KAAK00B,OAAQlvB,EAAUwoB,EAAiB9C,GAGtDxf,EAAW,IAAIoiB,GAAS9tB,KAAK+kB,QAAS/kB,KAAK00B,OAAQ10B,KAAKqS,UAAW7M,EAAUwoB,EAAiB9C,GAElG,IAAIkM,GAAS,EAIb,GAHIlC,IACAkC,EAASlC,EAAYxpB,KAEpB0rB,EACD,OAWJ,OATAp3B,KAAKkH,MAAMzG,KAAKiL,GAChB1L,KAAK20B,OAAOl0B,KAAKiL,GACjB1L,KAAK00B,SACL10B,KAAK+kB,QAAQoR,cAAc,gBAAiB,CACxC9jB,UAAWrS,KAAKqS,UAChBjN,KAAM,CACFsG,SAAAA,KAGDA,CAKX,CAHA,MAAO0R,GAEH,YADAnF,QAAQof,KAAK,0BAAD,OAA2Bja,GAE3C,CACJ,KAAC,EA9PiB,GCJTka,GAAM,WACf,WAAYjlB,IAAW,eACnBrS,KAAKqS,UAAYA,CACrB,CA0BC,OA1BA,4BACD,WACI,IAAMA,EAAYrS,KAAKqS,UAAWjO,EAAUiO,EAAUa,cACtDlT,KAAKkX,YAAc9S,EAAQsnB,cAAgB/kB,IAAU,EAAIC,OAAO2wB,iBAChEv3B,KAAKmQ,aAAe,EACpB,IAAMqnB,EAAQx3B,KAAKkX,WACnB,GAAI7E,EAAUqH,OAAO1P,QAAS,CAC1B,IAAMA,EAAUqI,EAAUqH,OAAO1P,QACjCqI,EAAUqH,OAAOjU,KAAKC,MAAQsE,EAAQ+P,YAAcyd,EACpDnlB,EAAUqH,OAAOjU,KAAKE,OAASqE,EAAQ8P,aAAe0d,CAC1D,CACA,IAAMnkB,EAAYjP,EAAQiP,UAC1BrT,KAAKy3B,gBAAkBxzB,EAAcoP,EAAUC,KAAKoU,QAAQ9iB,UAAY4yB,EACxEx3B,KAAK03B,mBAAqBzzB,EAAcoP,EAAU5N,KAAKuK,UAAUQ,OAASgnB,EAC1Ex3B,KAAKknB,SAAWjjB,EAAcoP,EAAUC,KAAKuU,QAAQX,UAAYsQ,CACrE,GAAC,0BACD,SAAa9rB,GACT,IAAMtH,EAAUsH,EAAStH,QAASozB,EAAQx3B,KAAKkX,WAAYygB,EAAevzB,EAAQkP,KAAK1O,SAAUgzB,EAAQlsB,EAASuL,OAClH2gB,EAAMH,gBAAkBxzB,EAAcG,EAAQkP,KAAKoU,QAAQ9iB,UAAY4yB,EACvEI,EAAMC,UAAY5zB,EAAcG,EAAQkP,KAAKsU,OAAS4P,EACtDI,EAAME,UAAY7zB,EAAcG,EAAQkP,KAAK9C,OAASgnB,EACtDI,EAAMF,mBAAqBzzB,EAAcG,EAAQqB,KAAKuK,UAAUQ,OAASgnB,EACzE,IAAM1I,EAAc8I,EAAM9I,YAC1BA,EAAYnkB,gBAAyClJ,IAA5Bk2B,EAAahtB,WAA2BgtB,EAAahtB,WAAa6sB,OAAQ/1B,EACnGqtB,EAAYlkB,cAAqCnJ,IAA1Bk2B,EAAa/sB,SAAyB+sB,EAAa/sB,SAAW4sB,OAAQ/1B,EAC7Fm2B,EAAM1Q,SAAWjjB,EAAcG,EAAQkP,KAAKuU,QAAQX,UAAYsQ,CACpE,KAAC,EA7Bc,GCOnB,SAASO,GAAW1lB,GAChB,OAAOA,IAAcA,EAAUiC,SACnC,CACA,SAAS0jB,GAAqBlT,EAAQzS,GACa,IAA/C,IAAMjO,EAAU,IAAIonB,GAAQ1G,EAAQzS,GAAW,mBADCiZ,EAAgB,iCAAhBA,EAAgB,kBAGhE,OADAF,GAAAA,WAAY,EAAD,CAAChnB,GAAO,OAAKknB,IACjBlnB,CACX,CACA,IAA2C6zB,GAAuB,CAC9DC,SAAU,SAAC7tB,GACP,IAAMpI,EAAIoI,EAAE9D,SAAS2pB,OAErB,OADAjuB,EAAEJ,OAAUI,EAAElB,OAASY,KAAK6sB,GAAM,IAC3BvsB,CACX,EACAgY,KAAM,WACN,EACAqb,OAAQ,WACR,EACA9H,MAAO,WACP,GAES2K,GAAS,WAClB,WAAYrT,EAAQiJ,EAAIxC,GAAe,2BACnCvrB,KAAK+tB,GAAKA,EACV/tB,KAAK+kB,QAAUD,EACf9kB,KAAKgjB,SAAW,IAChBhjB,KAAKijB,QAAS,EACdjjB,KAAKo4B,OAAS,EACdp4B,KAAKsjB,SAAW,EAChBtjB,KAAKqjB,SAAW,EAChBrjB,KAAKq4B,aAAc,EACnBr4B,KAAKya,SAAU,EACfza,KAAKsU,WAAY,EACjBtU,KAAKs4B,SAAU,EACft4B,KAAKojB,cAAgB,EACrBpjB,KAAK8rB,QAAU,IACf9rB,KAAK+f,YAAa,EAClB/f,KAAKu4B,eAAiBhN,EACtBvrB,KAAKw4B,sBAAwBjN,EAC7BvrB,KAAKiX,OAAS,IAAIqgB,GAAOt3B,MACzBA,KAAK0Z,OAAS,IAAItH,GAAOpS,MACzBA,KAAKqT,UAAY,IAAIohB,GAAUz0B,KAAK+kB,QAAS/kB,MAC7CA,KAAKy4B,aAAe,IAAIvV,GAAaljB,MACrCA,KAAKw1B,eAAiB,IAAIt1B,IAC1BF,KAAKwe,cAAgB,CACjBC,MAAO,CACHgD,UAAU,EACVtZ,QAAQ,IAGhBnI,KAAKiZ,QAAU,IAAI/Y,IACnBF,KAAKgX,QAAU,IAAI9W,IACnBF,KAAK04B,SAAWV,GAAqBh4B,KAAK+kB,QAAS/kB,MACnDA,KAAKkT,cAAgB8kB,GAAqBh4B,KAAK+kB,QAAS/kB,MACxDA,KAAK24B,gBAAkB,IAAI3b,GAAehd,MACN,qBAAzB44B,sBAAwCA,uBAC/C54B,KAAK64B,sBAAwB,IAAID,sBAAqB,SAACrX,GAAO,OAAK,EAAKuX,qBAAqBvX,EAAQ,KAEzGvhB,KAAK+kB,QAAQoR,cAAc,iBAAkB,CAAE9jB,UAAWrS,MAC9D,CAiXC,OAjXA,6BACD,WACI,OAAOA,KAAK04B,QAChB,GAAC,yBACD,WACI,OAAO14B,KAAKu4B,cAChB,GAAC,6BACD,SAAgB9uB,GAAU,WACtB,GAAKsuB,GAAW/3B,MAAhB,CAGA,IAAMikB,EAAKjkB,KAAKwe,cAAcxU,QAC9B,GAAKia,EAAL,CAGA,IAAM8U,EAAsB,SAAC3b,EAAGvH,EAAK7N,GACjC,GAAK+vB,GAAW,GAAhB,CAGA,IAAM3d,EAAU,EAAKnD,OAAOC,WAAY8hB,EAAY,CAChDz3B,EAAGsU,EAAItU,EAAI6Y,EACX/Y,EAAGwU,EAAIxU,EAAI+Y,GACZ/G,EAAY,EAAKA,UAAUyhB,SAASmE,YAAYD,EAAWhxB,EAASoS,GACvE3Q,EAAS2T,EAAG/J,EALZ,CAMJ,EAqDI6lB,GAAU,EAAOC,GAAa,EAClClV,EAAGpI,iBAAiB,SArDC,SAACuB,GAClB,GAAK2a,GAAW,GAAhB,CAGA,IAAM9V,EAAa7E,EAAGvH,EAAM,CACxBtU,EAAG0gB,EAAWS,SAAWT,EAAWG,QACpC/gB,EAAG4gB,EAAWU,SAAWV,EAAWI,SAExC0W,EAAoB3b,EAAGvH,EAAK,EAL5B,CAMJ,IA6CAoO,EAAGpI,iBAAiB,cA5CM,WACjBkc,GAAW,KAGhBmB,GAAU,EACVC,GAAa,EACjB,IAuCAlV,EAAGpI,iBAAiB,aAtCK,WAChBkc,GAAW,KAGhBoB,GAAa,EACjB,IAkCAlV,EAAGpI,iBAAiB,YAjCI,SAACuB,GACrB,GAAK2a,GAAW,GAAhB,CAGA,GAAImB,IAAYC,EAAY,CACxB,IAAMvW,EAAaxF,EACfyF,EAAYD,EAAWE,QAAQF,EAAWE,QAAQ/hB,OAAS,GAC/D,IAAK8hB,KACDA,EAAYD,EAAWwW,eAAexW,EAAWwW,eAAer4B,OAAS,IAErE,OAGR,IAAMiJ,EAAU,EAAK0P,OAAO1P,QAASyY,EAAazY,EAAUA,EAAQmY,6BAA0B1gB,EAAWoU,EAAM,CAC3GtU,EAAGshB,EAAUT,SAAWK,EAAaA,EAAWna,KAAO,GACvDjH,EAAGwhB,EAAUR,SAAWI,EAAaA,EAAWra,IAAM,IAE1D2wB,EAAoB3b,EAAGvH,EAAKlU,KAAK2B,IAAIuf,EAAUwW,QAASxW,EAAUyW,SACtE,CACAJ,GAAU,EACVC,GAAa,CAjBb,CAkBJ,IAaAlV,EAAGpI,iBAAiB,eAZO,WAClBkc,GAAW,KAGhBmB,GAAU,EACVC,GAAa,EACjB,GA9DA,CAJA,CAyEJ,GAAC,qBACD,SAAQpwB,EAAKqe,GAA6B,IAAlB6G,EAAW,UAAH,8CAC5B,SAAK8J,GAAW/3B,QAAWiuB,GAAYjuB,KAAKw1B,eAAe+D,IAAIxwB,MAG/D/I,KAAKw1B,eAAeh1B,IAAIuI,EAAmB,OAAdqe,QAAoC,IAAdA,EAAuBA,EAAY6Q,KAC/E,EACX,GAAC,qBACD,WAAU,WACN,GAAKF,GAAW/3B,MAAhB,CAGAA,KAAKw5B,OACLx5B,KAAKqT,UAAUkQ,UACfvjB,KAAK0Z,OAAO6J,UAAU,IACe,EADf,UACGvjB,KAAKgX,SAAO,IAArC,IAAK,EAAL,qBAAuC,KAAzBD,GAAyB,kBAAnB,GACZA,EAAOwM,SACPxM,EAAOwM,QAAQvjB,KAEvB,CAAC,mCACoC,EADpC,UACiBA,KAAKgX,QAAQyiB,QAAM,IAArC,IAAK,EAAL,qBAAuC,KAA5B1wB,EAAG,QACV/I,KAAKgX,QAAQnW,OAAOkI,EACxB,CAAC,+BACD/I,KAAK+kB,QAAQ9L,QAAQsK,QAAQvjB,MAC7BA,KAAKsU,WAAY,EACjB,IAAMolB,EAAU15B,KAAK+kB,QAAQ4U,MAAO34B,EAAM04B,EAAQE,WAAU,SAACrwB,GAAC,OAAKA,IAAM,CAAI,IACzEvI,GAAO,GACP04B,EAAQx4B,OAAOF,EAAK,GAExBhB,KAAK+kB,QAAQoR,cAAc,qBAAsB,CAAE9jB,UAAWrS,MAlB9D,CAmBJ,GAAC,kBACD,SAAKmkB,GAAO,WACR,GAAK4T,GAAW/3B,MAAhB,CAGA,IAAI65B,EAAc1V,EAClBnkB,KAAK85B,qBnEvJFnzB,IACD,SAAC8C,GAAQ,OAAKyV,WAAWzV,EAAS,EAClC,SAACA,GAAQ,OAAMswB,uBAAyB7a,YAAYzV,EAAS,GmEqJ3B,yCAAC,WAAO0Z,GAAS,sEAIhD,OAHG0W,IACA,EAAKzW,mBAAgB3hB,EACrBo4B,GAAc,GACjB,SACK,EAAKpB,aAAauB,UAAU7W,GAAU,2CAC/C,mDANmC,GAFpC,CASJ,GAAC,iCACD,WACI,OAAO8W,KAAKC,UAAUl6B,KAAKkT,eAAe,SAACnK,EAAK9F,GAC5C,GAAY,YAAR8F,GAA6B,eAARA,EAGzB,OAAO9F,CACX,GAAG,EACP,GAAC,yBACD,SAAYwG,EAAUtJ,EAAMg6B,GACxB,IAAMnwB,EAAUhK,KAAK0Z,OAAO1P,QACxBA,GACAA,EAAQowB,OAAO3wB,EAAmB,OAATtJ,QAA0B,IAATA,EAAkBA,EAAO,YAAag6B,EAExF,GAAC,uBACD,SAAU1wB,GACNzJ,KAAKq6B,YAAY5wB,EACrB,GAAC,gCACD,WACI,OAAQzJ,KAAKs4B,UAAYt4B,KAAK+f,YAAcgY,GAAW/3B,KAC3D,GAAC,6BACD,SAAgBoJ,GACZ,GAAK2uB,GAAW/3B,MAAhB,CAGAA,KAAKqT,UAAU4L,gBAAgB7V,GAAM,IACA,EADA,UACZpJ,KAAKiZ,SAAO,IAArC,IAAK,EAAL,qBAAuC,KAAzBvB,GAAyB,kBAAnB,GACZA,EAAOuH,iBACPvH,EAAOuH,gBAAgB7V,EAE/B,CAAC,+BAND,CAOJ,GAAC,2DACD,wIACS2uB,GAAW/3B,MAAO,CAAF,gDAGfs6B,EAASt6B,KAAK+kB,QAAQ9L,QAAQshB,qBAAoB,UACrCD,GAAM,IAAzB,IAAK,EAAL,qBAAWn6B,EAAI,SACL4W,EAAS/W,KAAK+kB,QAAQ9L,QAAQ6X,eAAe3wB,KAE/CH,KAAKgX,QAAQxW,IAAIL,EAAM4W,EAE9B,+BACD/W,KAAK04B,SAAWV,GAAqBh4B,KAAK+kB,QAAS/kB,KAAMA,KAAKw4B,sBAAuBx4B,KAAKurB,eAC1FvrB,KAAKkT,cAAgB8kB,GAAqBh4B,KAAK+kB,QAAS/kB,KAAMA,KAAK04B,UAC7D8B,EAAmBx6B,KAAK+kB,QAAQ9L,QAAQwhB,oBAAoBz6B,MAAK,UAC5Cw6B,GAAgB,IAA3C,IAAK,EAAL,qBAA6C,qBAAjCzM,EAAE,KAAErW,EAAM,KAClB1X,KAAKiZ,QAAQzY,IAAIutB,EAAIrW,EACxB,+BACkB,OAAnB1X,KAAKiX,OAAOgD,OAAO,UACbja,KAAK0Z,OAAOO,OAAM,QACxBja,KAAK4a,sBACL5a,KAAK0Z,OAAOvB,iBACZnY,KAAK0Z,OAAO7B,SACZ7X,KAAK8rB,QAAU9rB,KAAKkT,cAAc4Y,QAClC9rB,KAAKsjB,SAAwD,IAA7Crf,EAAcjE,KAAKkT,cAAcoQ,UACjDtjB,KAAKo4B,OAAmD,IAA1Cn0B,EAAcjE,KAAKkT,cAAcoN,OAC/CtgB,KAAKqjB,SAAW,EAChBrjB,KAAKgjB,SAAWhjB,KAAKkT,cAAc8P,SAAW,EAAIhjB,KAAKkT,cAAc8P,SAAW,IAChFhjB,KAAKijB,OAASjjB,KAAKkT,cAAc+P,OAAO,UACfjjB,KAAKgX,SAAO,2DAAjB,GAAiB,uBAAvBD,EAAM,MACLkD,KAAM,CAAF,iCACLlD,EAAOkD,KAAKja,MAAK,2JAGNA,KAAKiZ,SAAO,2DAAjB,GAAiB,uBAAvBvB,EAAM,MACLuC,KAAM,CAAF,iCACLvC,EAAOuC,OAAM,iJAG3Bja,KAAK+kB,QAAQoR,cAAc,gBAAiB,CAAE9jB,UAAWrS,OACzDA,KAAKqT,UAAU4G,OACfja,KAAKqT,UAAUwH,aAAa,UACH7a,KAAKiZ,SAAO,IAArC,IAAK,EAAL,qBAAuC,sBAAzBvB,EAAM,MACLgjB,gBACPhjB,EAAOgjB,gBAEd,+BACD16B,KAAK+kB,QAAQoR,cAAc,iBAAkB,CAAE9jB,UAAWrS,OAAQ,+EACrE,kDAhDA,IAgDA,gEACD,WAAgBgD,GAAI,yEACX+0B,GAAW/3B,MAAO,CAAF,gDAGK,OAA1BA,KAAK26B,cAAgB33B,EAAK,SACpBhD,KAAK+a,UAAS,gDACvB,mDAPA,IAOA,mBACD,WACI,GAAKgd,GAAW/3B,aAGiByB,IAA7BzB,KAAK85B,uBnEpPNnzB,IACD,SAACi0B,GAAM,OAAKxa,aAAawa,EAAO,EAChC,SAACA,GAAM,OAAMC,sBAAwBza,cAAcwa,EAAO,GmEmPtC56B,KAAK85B,4BAChB95B,KAAK85B,sBAEZ95B,KAAKs4B,SAAT,CAEC,IACoC,EADpC,UACwBt4B,KAAKiZ,SAAO,IAArC,IAAK,EAAL,qBAAuC,KAAzBvB,GAAyB,kBAAnB,GACZA,EAAOsI,OACPtI,EAAOsI,OAEf,CAAC,+BACIhgB,KAAK+f,aACN/f,KAAKs4B,SAAU,GAEnBt4B,KAAK+kB,QAAQoR,cAAc,kBAAmB,CAAE9jB,UAAWrS,MAT3D,CAUJ,GAAC,kBACD,SAAKmkB,GACD,GAAK4T,GAAW/3B,MAAhB,CAGA,IAAM86B,EAAc96B,KAAKs4B,SAAWnU,EACpC,IAAInkB,KAAKq4B,aAAgBr4B,KAAKkT,cAAcuY,SAA5C,CAOA,GAHIzrB,KAAKs4B,UACLt4B,KAAKs4B,SAAU,GAEfwC,EAAa,KACwB,EADxB,UACY96B,KAAKiZ,SAAO,IAArC,IAAK,EAAL,qBAAuC,KAAzBvB,GAAyB,kBAAnB,GACZA,EAAOwI,MACPxI,EAAOwI,MAEf,CAAC,+BACL,CACAlgB,KAAK+kB,QAAQoR,cAAc,gBAAiB,CAAE9jB,UAAWrS,OACzDA,KAAK8T,KAAKgnB,IAAe,EAZzB,MAFI96B,KAAKq4B,aAAc,CAHvB,CAkBJ,GAAC,8DACD,sFACSN,GAAW/3B,MAAO,CAAF,gDAGT,OAAZA,KAAKw5B,OAAO,kBACLx5B,KAAK+6B,SAAO,gDACtB,kDAPA,IAOA,4DACD,sFACShD,GAAW/3B,MAAO,CAAF,gDAGoC,OAAzDA,KAAK04B,SAAWV,GAAqBh4B,KAAK+kB,QAAS/kB,MAAM,kBAClDA,KAAK+a,WAAS,gDACxB,kDAPA,IAOA,sBACD,SAASigB,EAAkB/gB,EAAMqb,GACxByC,GAAW/3B,OAGhBA,KAAKi7B,QAAQD,EAAkB/gB,EAAMqb,EACzC,GAAC,qBACD,SAAQ4F,EAAiBjhB,EAAMqb,GAC3B,GAAK4F,GAAoBnD,GAAW/3B,MAApC,CAGA,IAAMsuB,EAAgB/T,OAAOC,OAAO,CAAC,EAAGyd,IACxC,GAA+B,oBAApBiD,EACP5M,EAAc4J,SAAWgD,EACrBjhB,IACAqU,EAAcrU,KAAOA,GAErBqb,IACAhH,EAAcgH,OAASA,OAG1B,CACD,IAAM6F,EAAe7M,EACrBA,EAAc4J,SAAWgD,EAAgBhD,UAAYiD,EAAajD,SAClE5J,EAAcrU,KAAOihB,EAAgBjhB,MAAQkhB,EAAalhB,KAC1DqU,EAAcgH,OAAS4F,EAAgB5F,QAAU6F,EAAa7F,MAClE,CACAt1B,KAAK0vB,QA3VmB,UA2VcpB,GAAe,EAjBrD,CAkBJ,GAAC,4DACD,iGACSyJ,GAAW/3B,QAASA,KAAKya,QAAO,iEAG/Bza,KAAKia,OAAM,OACG,OAApBja,KAAKya,SAAU,EAAK,SACd,IAAIe,SAAQ,SAACC,GACf,EAAK2f,cAAgBlc,YAAU,uBAAC,+FAC5B,EAAKyZ,gBAAgB0C,eACjB,EAAK7c,cAAcxU,mBAAmBsxB,aAAe,EAAKzC,uBAC1D,EAAKA,sBAAsBzgB,QAAQ,EAAKoG,cAAcxU,SACzD,UACwB,EAAKiP,SAAO,yDAAjB,GAAiB,uBAAvBvB,EAAM,MACLqjB,MAAO,CAAF,iCACNrjB,EAAOqjB,QAAO,+IAG5B,EAAKhW,QAAQoR,cAAc,mBAAoB,CAAE9jB,UAAW,IAC5D,EAAK6N,OACLzE,IAAU,gEACX,EAAK2c,OACZ,IAAE,gDACL,kDAvBA,IAuBA,kBACD,WACI,GAAKL,GAAW/3B,OAAUA,KAAKya,QAA/B,CAGIza,KAAKo7B,gBACLhb,aAAapgB,KAAKo7B,sBACXp7B,KAAKo7B,eAEhBp7B,KAAKq4B,aAAc,EACnBr4B,KAAKya,SAAU,EACfza,KAAK24B,gBAAgB4C,kBACrBv7B,KAAKggB,QACLhgB,KAAKqT,UAAU3B,QACf1R,KAAK0Z,OAAOhI,QACR1R,KAAKwe,cAAcxU,mBAAmBsxB,aAAet7B,KAAK64B,uBAC1D74B,KAAK64B,sBAAsBvX,UAAUthB,KAAKwe,cAAcxU,SAC3D,IACoC,EADpC,UACwBhK,KAAKiZ,SAAO,IAArC,IAAK,EAAL,qBAAuC,KAAzBvB,GAAyB,kBAAnB,GACZA,EAAO8hB,MACP9hB,EAAO8hB,MAEf,CAAC,mCACoC,EADpC,UACiBx5B,KAAKiZ,QAAQwgB,QAAM,IAArC,IAAK,EAAL,qBAAuC,KAA5B1wB,EAAG,QACV/I,KAAKiZ,QAAQpY,OAAOkI,EACxB,CAAC,+BACD/I,KAAKu4B,eAAiBv4B,KAAK04B,SAC3B14B,KAAK+kB,QAAQoR,cAAc,mBAAoB,CAAE9jB,UAAWrS,MAvB5D,CAwBJ,GAAC,iCACD,WACIA,KAAKkT,cAAc2Y,WAAa,GAChC,IAAM2P,EAAcx7B,KAAKkT,cAAcuoB,cAAcz7B,KAAK0Z,OAAOjU,KAAKC,MAAO1F,KAAKiX,OAAOC,WAAYlX,KAAK04B,UAE1G,OADA14B,KAAKkT,cAAcwoB,SAAS17B,KAAK26B,eAC7B36B,KAAK27B,qBAAuBH,IAGhCx7B,KAAK27B,mBAAqBH,GACnB,EACX,GAAC,kCACD,SAAqBja,GACjB,GAAKwW,GAAW/3B,OAAUA,KAAKkT,cAAc0Y,uBAA7C,CAEC,IAC0B,EAD1B,UACmBrK,GAAO,IAA3B,IAAK,EAAL,qBAA6B,KAAlBqa,EAAK,QACRA,EAAMpa,SAAWxhB,KAAKwe,cAAcxU,UAGvC4xB,EAAMC,eAAiB77B,KAAKkgB,KAAOlgB,KAAKggB,QAC7C,CAAC,+BAND,CAOJ,KAAC,EAvZiB,GC3BoC,SAC3C8b,GAAe,EAAD,iDAU5B,OAV4B,2BAA7B,WAA8BC,EAASp0B,GAAK,8EACY,GAA9Cq0B,EAAMhwB,EAAyB+vB,EAASp0B,GACpC,CAAF,gEAGes0B,MAAMD,GAAI,OAAnB,KAARE,EAAW,EAAH,MACDC,GAAI,CAAF,wCACJD,EAASE,QAAM,OAE1BnkB,QAAQC,MAAM,uBAAD,OAAwBgkB,EAASxrB,OAAM,kCAAiC,4CACxF,sBACM,IAAM2rB,GAAM,WACf,WAAYvX,IAAQ,eAChB9kB,KAAK+kB,QAAUD,CACnB,CAsHC,OAtHA,4BACD,SAAKwX,EAAOl4B,EAASuD,GACjB,IAAM40B,EAAS,CAAE50B,MAAAA,EAAO60B,QAAQ,GAahC,MAZqB,kBAAVF,EACPC,EAAOD,MAAQA,EAGfC,EAAOn4B,QAAUk4B,EAEE,kBAAZl4B,EACPm4B,EAAO50B,MAAQvD,EAGfm4B,EAAOn4B,QAAsB,OAAZA,QAAgC,IAAZA,EAAqBA,EAAUm4B,EAAOn4B,QAExEpE,KAAKorB,YAAYmR,EAC5B,GAAC,+DACD,WAAeD,EAAOP,EAASp0B,GAAK,8EAQ/B,MANsB,kBAAZo0B,QAAoCt6B,IAAZs6B,EAC/BC,EAAMM,GAGNvO,EAAKuO,EACLN,EAAMD,GACT,kBACM/7B,KAAKy8B,kBAAkB,CAAEH,MAAOvO,EAAIiO,IAAAA,EAAKr0B,MAAAA,EAAO60B,QAAQ,KAAO,gDACzE,uDAXA,IAWA,kEACD,WAAkBD,GAAM,wGAE6H,GAA3ID,EAAgC,QAAvBj8B,EAAKk8B,EAAOD,aAA0B,IAAPj8B,EAAgBA,EAAK,cAAH,OAAiBsB,KAAKiC,MAAoB,IAAdV,MAA0ByE,EAAgC40B,EAAhC50B,MAAYo0B,EAAoBQ,EAAzBP,KAAyBO,EAAXC,OAAmC,iCAASV,GAAeC,EAASp0B,GAAM,gDAAG40B,EAAOn4B,QAAO,QA6ClM,OA7C0HA,EAAU,EAAH,IACjKs4B,EAAyC,QAAzBr3B,EAAKk3B,EAAOvyB,eAA4B,IAAP3E,EAAgBA,EAAKwB,SAAS81B,eAAeL,OAE9FI,EAAe71B,SAAS+U,cAAc,QACzBmS,GAAKuO,EACwB,QAAzCh3B,EAAKuB,SAAS+1B,cAAc,eAA4B,IAAPt3B,GAAyBA,EAAGu3B,OAAOH,IAEnFI,EAAiB9wB,EAAyB5H,EAASuD,GAAQgyB,EAAM35B,KAAK+kB,QAAQ4U,OAAOoD,EAAWpD,EAAIC,WAAU,SAAC33B,GAAC,OAAKA,EAAE8rB,KAAOuO,CAAK,MACzH,IACNU,EAAMh9B,KAAK+kB,QAAQkY,QAAQF,MACrBC,EAAI1oB,YACZ0oB,EAAIzZ,UACJoW,EAAIz4B,OAAO67B,EAAU,IAIc,WAAvCL,EAAaQ,QAAQC,eACrBzc,EAAWgc,GACF/iB,QAA0B,UAAI,SAGjCyjB,EAAmBV,EAAaW,qBAAqB,WACtCt8B,QACjB2f,EAAW0c,EAAiB,IACnBzjB,QAA0B,UAAI,UAGvC+G,EAAW7Z,SAAS+U,cAAc,WACzBjC,QAA0B,UAAI,OACvC+iB,EAAaY,YAAY5c,IAG5BA,EAAShI,MAAMhT,QAChBgb,EAAShI,MAAMhT,MAAQ,QAEtBgb,EAAShI,MAAM/S,SAChB+a,EAAShI,MAAM/S,OAAS,QAEtB43B,EAAU,IAAIpF,GAAUn4B,KAAK+kB,QAASuX,EAAOQ,GAC/CC,GAAY,EACZpD,EAAIz4B,OAAO67B,EAAU,EAAGQ,GAGxB5D,EAAIl5B,KAAK88B,GAEbA,EAAQ7jB,OAAO8jB,WAAW9c,GAAU,UAC9B6c,EAAQxC,QAAO,iCACdwC,GAAO,iDACjB,mDAnDA,IAmDA,wEACD,WAAwBhB,GAAM,+FACnBv8B,KAAKorB,YAAYmR,IAAO,gDAClC,mDAHA,IAGA,0DACD,WAAUxO,EAAI2O,EAAct4B,EAASuD,GAAK,4EAmBrC,OAlBK40B,EAAS,CAAE50B,MAAAA,EAAO60B,QAAQ,GACd,kBAAPzO,EACPwO,EAAOD,MAAQvO,EAGfwO,EAAOvyB,QAAU+jB,EAEjB2O,aAAwBpB,YACxBiB,EAAOvyB,QAAU0yB,EAGjBH,EAAOn4B,QAAUs4B,EAEE,kBAAZt4B,EACPm4B,EAAO50B,MAAQvD,EAGfm4B,EAAOn4B,QAAsB,OAAZA,QAAgC,IAAZA,EAAqBA,EAAUm4B,EAAOn4B,QAC9E,kBACMpE,KAAKorB,YAAYmR,IAAO,gDAClC,yDAtBA,IAsBA,8DACD,WAAcxO,EAAI2O,EAAcX,EAASp0B,GAAK,kFAYzC,OAVGomB,aAAcuN,aACdtxB,EAAU+jB,EACViO,EAAMU,EACNe,EAAW1B,IAGX2B,EAAQ3P,EACR/jB,EAAU0yB,EACVV,EAAMD,EACN0B,EAAW91B,GACd,kBACM3H,KAAKy8B,kBAAkB,CAAEH,MAAOoB,EAAO1B,IAAAA,EAAKr0B,MAAO81B,EAAUzzB,QAAAA,EAASwyB,QAAQ,KAAO,gDAC/F,yDAfA,MAeA,EAzHc,G,WCdnB,SAASmB,GAAwBtrB,EAAWnJ,EAAK00B,GAA6B,IAAfzZ,EAAQ,UAAH,8CAC5D1d,EAAMyC,EAAI3I,IAAI8R,GAKlB,OAJK5L,IAAO0d,IACR1d,GAAM,QAAIm3B,EAAaC,UAAU30B,KAAI,SAACK,GAAC,OAAKA,EAAE8I,EAAU,IACxDnJ,EAAI1I,IAAI6R,EAAW5L,IAEhBA,CACX,CACO,IAAMq3B,GAAO,WAChB,WAAYhZ,IAAQ,eAChB9kB,KAAK+kB,QAAUD,EACf9kB,KAAKiZ,QAAU,GACfjZ,KAAK+9B,cAAgB,CACjB9Y,YAAa,IAAI/kB,IACjB+wB,OAAQ,IAAI/wB,IACZkZ,SAAU,IAAIlZ,KAElBF,KAAKilB,YAAc,IAAI/kB,IACvBF,KAAKixB,OAAS,IAAI/wB,IAClBF,KAAKoZ,SAAW,IAAIlZ,IACpBF,KAAKg+B,QAAU,IAAI99B,IACnBF,KAAKgX,QAAU,IAAI9W,IACnBF,KAAKw1B,eAAiB,IAAIt1B,GAC9B,CAsFC,OAtFA,qCACD,SAAc8C,EAAMi7B,GAChBj+B,KAAK+9B,cAAc9Y,YAAYzkB,IAAIwC,EAAMi7B,EAC7C,GAAC,8BACD,SAAiBj7B,EAAMk7B,GACnBl+B,KAAK+9B,cAAc9M,OAAOzwB,IAAIwC,EAAMk7B,EACxC,GAAC,gCACD,SAAmBl7B,EAAMm7B,GACrBn+B,KAAK+9B,cAAc3kB,SAAS5Y,IAAIwC,EAAMm7B,EAC1C,GAAC,8BACD,SAAiBh+B,EAAMmuB,GACdtuB,KAAKyvB,iBAAiBtvB,IACvBH,KAAKw1B,eAAeh1B,IAAIL,EAAMmuB,EAEtC,GAAC,uBACD,SAAU5W,GACD1X,KAAKo+B,UAAU1mB,EAAOqW,KACvB/tB,KAAKiZ,QAAQxY,KAAKiX,EAE1B,GAAC,uBACD,SAAU2mB,EAAWj6B,GAA2B,IAAlB6pB,EAAW,UAAH,+CAC9BA,GAAajuB,KAAKgtB,UAAUqR,IAC5Br+B,KAAKg+B,QAAQx9B,IAAI69B,EAAWj6B,EAEpC,GAAC,4BACD,SAAek6B,EAAOvnB,GAAQ,WAC1BrN,EAA0B40B,GAAO,SAACn+B,GACzB,EAAK2wB,eAAe3wB,IACrB,EAAK6W,QAAQxW,IAAIL,EAAM4W,EAE/B,GACJ,GAAC,qBACD,SAAQ1E,GACJrS,KAAKoZ,SAASvY,OAAOwR,GACrBrS,KAAKixB,OAAOpwB,OAAOwR,GACnBrS,KAAKilB,YAAYpkB,OAAOwR,EAC5B,GAAC,iCACD,SAAoBA,GAChB,IACiC,EAD3B5L,EAAM,IAAIvG,IAAM,UACDF,KAAKiZ,SAAO,IAAjC,IAAK,EAAL,qBAAmC,KAAxBvB,EAAM,QACRA,EAAO6mB,YAAYlsB,EAAUa,gBAGlCzM,EAAIjG,IAAIkX,EAAOqW,GAAIrW,EAAO0mB,UAAU/rB,GACxC,CAAC,+BACD,OAAO5L,CACX,GAAC,4BACD,SAAe4L,GAA0B,IAAf8R,EAAQ,UAAH,8CAC3B,OAAOwZ,GAAwBtrB,EAAWrS,KAAKilB,YAAajlB,KAAK+9B,cAAc9Y,YAAad,EAChG,GAAC,uBACD,SAAU9R,GAA0B,IAAf8R,EAAQ,UAAH,8CACtB,OAAOwZ,GAAwBtrB,EAAWrS,KAAKixB,OAAQjxB,KAAK+9B,cAAc9M,OAAQ9M,EACtF,GAAC,8BACD,SAAiBhkB,GACb,OAAOH,KAAKw1B,eAAej1B,IAAIJ,EACnC,GAAC,uBACD,SAAUuX,GACN,OAAO1X,KAAKiZ,QAAQhN,MAAK,SAAC1C,GAAC,OAAKA,EAAEwkB,KAAOrW,CAAM,GACnD,GAAC,uBACD,SAAUqU,GACN,OAAO/rB,KAAKg+B,QAAQz9B,IAAIwrB,EAC5B,GAAC,4BACD,SAAe5rB,GACX,OAAOH,KAAKgX,QAAQzW,IAAIJ,EAC5B,GAAC,gCACD,WACI,OAAOH,KAAKgX,QAAQyiB,MACxB,GAAC,yBACD,SAAYpnB,GAA0B,IAAf8R,EAAQ,UAAH,8CACxB,OAAOwZ,GAAwBtrB,EAAWrS,KAAKoZ,SAAUpZ,KAAK+9B,cAAc3kB,SAAU+K,EAC1F,GAAC,yBACD,SAAY/f,EAASmnB,GAAe,IACC,EADD,UACXvrB,KAAKiZ,SAAO,IAAjC,IAAK,EAAL,qBAAmC,CAAlB,QACNmS,YAAYhnB,EAASmnB,EAChC,CAAC,+BACL,GAAC,kCACD,SAAqBlZ,EAAWjO,GAC5B,IAAMgV,EAAWpZ,KAAKoZ,SAAS7Y,IAAI8R,GACnC,GAAK+G,EAAL,CAEC,2BAJuCmS,EAAa,iCAAbA,EAAa,sBAKvB,EALuB,UAK/BnS,GAAQ,IAA9B,IAAK,EAAL,qBAAgC,KAArBC,EAAO,QACVA,EAAQ+R,aACR/R,EAAQ+R,YAAW,MAAnB/R,EAAO,CAAajV,GAAO,OAAKmnB,GAExC,CAAC,+BALD,CAMJ,KAAC,EArGe,GCNPiT,GAAM,WACf,cAAc,eACVx+B,KAAKy+B,UAAY,GACjBz+B,KAAK0+B,iBAAmB,IAAI3+B,EAC5BC,KAAK2+B,cAAe,EACpB3+B,KAAK4+B,QAAU,IAAIvC,GAAOr8B,MAC1BA,KAAKiZ,QAAU,IAAI6kB,GAAQ99B,KAC/B,CA6FC,OA7FA,wCACD,SAAiBG,EAAMC,GACnBJ,KAAK0+B,iBAAiB7iB,iBAAiB1b,EAAMC,EACjD,GAAC,oEACD,WAAoB4C,EAAM67B,GAAqB,sEACa,OAAxD7+B,KAAKiZ,QAAQ6lB,cAAc97B,EAAM67B,GAAuB,SAClD7+B,KAAK+a,UAAS,gDACvB,qDAJA,IAIA,+DACD,WAAe/X,EAAM+7B,GAAgB,sEACqB,OAAtD/+B,KAAKiZ,QAAQ+lB,iBAAiBh8B,EAAM+7B,GAAkB,SAChD/+B,KAAK+a,UAAS,gDACvB,qDAJA,IAIA,yEACD,WAAyB/X,EAAMi8B,GAAkB,sEACa,OAA1Dj/B,KAAKiZ,QAAQimB,mBAAmBl8B,EAAMi8B,GAAoB,SACpDj/B,KAAK+a,UAAS,gDACvB,qDAJA,IAIA,uEACD,WAAuB/X,EAAMokB,GAAS,sEACa,OAA/CpnB,KAAKiZ,QAAQkmB,iBAAiBn8B,EAAMokB,GAAW,SACzCpnB,KAAK+a,UAAS,gDACvB,qDAJA,IAIA,gEACD,WAAgBrD,GAAM,sEACa,OAA/B1X,KAAKiZ,QAAQmmB,UAAU1nB,GAAQ,SACzB1X,KAAK+a,UAAS,gDACvB,mDAJA,IAIA,gEACD,WAAgBgR,EAAQ3nB,GAAO,wFACuB,OADrB6pB,EAAW,EAAH,8BACrCjuB,KAAKiZ,QAAQomB,UAAUtT,EAAQ3nB,EAAS6pB,GAAU,SAC5CjuB,KAAK+a,UAAS,gDACvB,qDAJA,IAIA,+DACD,WAAejE,EAAOC,EAAQkD,EAAM5C,EAAakM,GAAO,4EAaH,OAV7C+b,EADkB,oBAAXvoB,EACQ,CACXM,YAAaA,EACbkM,QAASA,EACTzP,KAAMiD,EACNkD,KAAMA,GAIKlD,EAEnB/W,KAAKiZ,QAAQsmB,eAAezoB,EAAOwoB,GAAc,SAC3Ct/B,KAAK+a,UAAS,gDACvB,2DAhBA,IAgBA,2BACD,SAAc5a,EAAMO,GAChBV,KAAK0+B,iBAAiBvI,cAAch2B,EAAMO,EAC9C,GAAC,iBACD,WACI,OAAOV,KAAKy+B,SAChB,GAAC,qBACD,SAAQ92B,GACJ,IAAMgyB,EAAM35B,KAAK25B,MAAO5tB,EAAO4tB,EAAIhyB,GACnC,GAAIoE,IAASA,EAAKuI,UACd,OAAOvI,EAEX4tB,EAAIz4B,OAAOyG,EAAO,EACtB,GAAC,kBACD,WACS3H,KAAK2+B,eACN3+B,KAAK2+B,cAAe,EAE5B,GAAC,2DACD,WAAWrC,EAAOl4B,GAAO,+FACdpE,KAAK4+B,QAAQp3B,KAAK80B,EAAOl4B,IAAQ,gDAC3C,qDAHA,IAGA,oEACD,WAAoBk4B,EAAOl4B,EAASuD,GAAK,+FAC9B3H,KAAK4+B,QAAQp3B,KAAK80B,EAAOl4B,EAASuD,IAAM,gDAClD,uDAHA,IAGA,+DACD,WAAe20B,EAAOkD,EAAgB73B,GAAK,+FAChC3H,KAAK4+B,QAAQa,SAASnD,EAAOkD,EAAgB73B,IAAM,gDAC7D,uDAHA,IAGA,8DACD,uGAC2B3H,KAAK25B,OAAK,wDAAd,OAAR+F,EAAQ,iBACTA,EAAS3kB,UAAS,qMAE/B,kDALA,IAKA,iCACD,SAAoB5a,EAAMC,GACtBJ,KAAK0+B,iBAAiBp+B,oBAAoBH,EAAMC,EACpD,GAAC,0DACD,WAAU2tB,EAAI/jB,EAAS5F,GAAO,+FACnBpE,KAAK4+B,QAAQp+B,IAAIutB,EAAI/jB,EAAS5F,IAAQ,gDAChD,uDAHA,IAGA,8DACD,WAAc2pB,EAAI/jB,EAASw1B,EAAgB73B,GAAK,+FACrC3H,KAAK4+B,QAAQe,QAAQ5R,EAAI/jB,EAASw1B,EAAgB73B,IAAM,gDAClE,yDAHA,IAGA,+BACD,SAAkB8B,GACd,IAAMkwB,EAAM35B,KAAK25B,MACjB,IAAKA,EAAI54B,OACL,MAAM,IAAIW,MAAM,0FACnB,IACwB,EADxB,UACqBi4B,GAAG,IAAzB,IAAK,EAAL,qBAA2B,CAAT,QACNiG,gBAAgBn2B,EAC5B,CAAC,+BACL,KAAC,EApGc,GCDNo2B,GAAe,WACxB,cAAc,eACV7/B,KAAK+I,IAAM,MACX/I,KAAK2M,aAAe,KACxB,CAgCC,OAhCA,mCACD,SAAYY,GACR,IAAIlN,EAC4BqP,EAAqC,QAAzBrP,EAAzBkN,EAAMtK,MAAmCsL,WAAwB,IAAPlO,EAAgBA,EAAKkN,EAAMtK,MACxG,QAAmBxB,IAAfiO,EAASvB,QAAkC1M,IAAfiO,EAASrB,QAAkC5M,IAAfiO,EAAStB,EACjE,OAAOE,GAASoB,EAExB,GAAC,8BACD,SAAiBnC,GACb,IAAIlN,EAC4BqP,EAAqC,QAAzBrP,EAAzBkN,EAAMtK,MAAmCsL,WAAwB,IAAPlO,EAAgBA,EAAKkN,EAAMtK,MACxG,QAAmBxB,IAAfiO,EAASvB,QAAkC1M,IAAfiO,EAAStB,EACrC,OAAOE,GAAS,CACZH,EAAGlK,EAAcyL,EAASvB,GAC1BC,EAAGnK,EAAcyL,EAAStB,GAC1BC,EAAGpK,EAAcyL,EAASrB,IAGtC,GAAC,yBACD,SAAYtI,GACR,GAAKA,EAAM2G,WAAW,OAAtB,CAGA,IAAoFS,EAAtE,qEAAqFC,KAAKrH,GACxG,OAAOoH,EtEmHR,SAAoB2yB,GACvB,IAAMC,EAAYzxB,GAASwxB,GAC3B,MAAO,CACH5yB,EAAG4yB,EAAK5yB,EACRD,EAAG8yB,EAAU9yB,EACbD,EAAG+yB,EAAU/yB,EACblJ,EAAGi8B,EAAUj8B,EAErB,CsE1Hck8B,CAAW,CACT9yB,EAAGC,EAAOpM,OAAS,EAAI+E,EAAWqH,EAAO,IAAM,EAC/CgB,EAAGd,SAASF,EAAO,GAAI,IACvBiB,EAAGf,SAASF,EAAO,GAAI,IACvBkB,EAAGhB,SAASF,EAAO,GAAI,WAEzB1L,CATN,CAUJ,KAAC,EApCuB,GCDfw+B,GAAe,WACxB,cAAc,eACVjgC,KAAK+I,IAAM,MACX/I,KAAK2M,aAAe,KACxB,CAgCC,OAhCA,mCACD,SAAYY,GACR,IAAIlN,EAC4B6/B,EAAqC,QAAzB7/B,EAAzBkN,EAAMtK,MAAmC6K,WAAwB,IAAPzN,EAAgBA,EAAKkN,EAAMtK,MACxG,QAAmBxB,IAAfy+B,EAASp8B,EACT,OAAOo8B,CAEf,GAAC,8BACD,SAAiB3yB,GACb,IAAIlN,EAC4B6/B,EAAqC,QAAzB7/B,EAAzBkN,EAAMtK,MAAmC6K,WAAwB,IAAPzN,EAAgBA,EAAKkN,EAAMtK,MACxG,QAAmBxB,IAAfy+B,EAASp8B,EACT,MAAO,CACHA,EAAGG,EAAci8B,EAASp8B,GAC1BkJ,EAAG/I,EAAci8B,EAASlzB,GAC1BC,EAAGhJ,EAAci8B,EAASjzB,GAGtC,GAAC,yBACD,SAAYlH,GACR,GAAKA,EAAM2G,WAAW1M,KAAK2M,cAA3B,CAGA,IAAkFQ,EAApE,mEAAmFC,KAAKrH,GACtG,OAAOoH,EACD,CACED,EAAGC,EAAOpM,OAAS,EAAI+E,EAAWqH,EAAO,IAAM,EAC/CF,EAAGI,SAASF,EAAO,GAAI,IACvBH,EAAGK,SAASF,EAAO,GAAI,IACvBrJ,EAAGuJ,SAASF,EAAO,GAAI,UAEzB1L,CATN,CAUJ,KAAC,EApCuB,GCDf0+B,IAAsB,QAC/B,WAAY9tB,IAAW,eACnBrS,KAAKqS,UAAYA,EACjBrS,KAAKG,KAAO,UAChB,ICJSigC,IAAuB,QAChC,WAAY/tB,IAAW,eACnBrS,KAAKqS,UAAYA,EACjBrS,KAAKG,KAAO,WAChB,ICAEkgC,GAAkB,IAAIJ,GAAmBK,GAAkB,IAAIT,GACrExzB,GAAgBg0B,IAChBh0B,GAAgBi0B,IAChB,IAAMC,GAAc,IAAI/B,GACxB+B,GAAYtmB,M,+DCLL,ICFMumB,EAAiB,qB,qECAf,SAASC,EAAeC,EAAQC,GAC7C,MAAQpmB,OAAOqmB,UAAUC,eAAe7lB,KAAK0lB,EAAQC,IAEpC,QADfD,GAAS,EAAAI,EAAA,GAAeJ,MAG1B,OAAOA,CACT,CCNe,SAASK,IActB,OAZEA,EADqB,qBAAZC,SAA2BA,QAAQzgC,IACrCygC,QAAQzgC,IAAI0gC,OAEZ,SAAczf,EAAQmf,EAAUO,GACrC,IAAIC,EAAO,EAAc3f,EAAQmf,GACjC,GAAKQ,EAAL,CACA,IAAIC,EAAO7mB,OAAO8mB,yBAAyBF,EAAMR,GACjD,OAAIS,EAAK7gC,IACA6gC,EAAK7gC,IAAIya,KAAKsmB,UAAUvgC,OAAS,EAAIygB,EAAS0f,GAEhDE,EAAKn+B,KALK,CAMnB,EAEK89B,EAAKQ,MAAMvhC,KAAMshC,UAC1B,C","sources":["../node_modules/tsparticles-engine/esm/Utils/EventDispatcher.js","../node_modules/tsparticles-engine/esm/Core/Utils/Vector3d.js","../node_modules/tsparticles-engine/esm/Core/Utils/Vector.js","../node_modules/tsparticles-engine/esm/Utils/NumberUtils.js","../node_modules/tsparticles-engine/esm/Utils/Utils.js","../node_modules/tsparticles-engine/esm/Utils/ColorUtils.js","../node_modules/tsparticles-engine/esm/Utils/CanvasUtils.js","../node_modules/tsparticles-engine/esm/Core/Utils/Constants.js","../node_modules/tsparticles-engine/esm/Core/Canvas.js","../node_modules/tsparticles-engine/esm/Core/Utils/EventListeners.js","../node_modules/tsparticles-engine/esm/Core/Utils/FrameManager.js","../node_modules/tsparticles-engine/esm/Options/Classes/OptionsColor.js","../node_modules/tsparticles-engine/esm/Options/Classes/Background/Background.js","../node_modules/tsparticles-engine/esm/Options/Classes/BackgroundMask/BackgroundMaskCover.js","../node_modules/tsparticles-engine/esm/Options/Classes/BackgroundMask/BackgroundMask.js","../node_modules/tsparticles-engine/esm/Options/Classes/FullScreen/FullScreen.js","../node_modules/tsparticles-engine/esm/Options/Classes/Interactivity/Events/ClickEvent.js","../node_modules/tsparticles-engine/esm/Options/Classes/Interactivity/Events/DivEvent.js","../node_modules/tsparticles-engine/esm/Options/Classes/Interactivity/Events/Parallax.js","../node_modules/tsparticles-engine/esm/Options/Classes/Interactivity/Events/HoverEvent.js","../node_modules/tsparticles-engine/esm/Options/Classes/Interactivity/Events/ResizeEvent.js","../node_modules/tsparticles-engine/esm/Options/Classes/Interactivity/Events/Events.js","../node_modules/tsparticles-engine/esm/Options/Classes/Interactivity/Modes/Modes.js","../node_modules/tsparticles-engine/esm/Options/Classes/Interactivity/Interactivity.js","../node_modules/tsparticles-engine/esm/Options/Classes/ManualParticle.js","../node_modules/tsparticles-engine/esm/Options/Classes/Responsive.js","../node_modules/tsparticles-engine/esm/Options/Classes/Theme/ThemeDefault.js","../node_modules/tsparticles-engine/esm/Options/Classes/Theme/Theme.js","../node_modules/tsparticles-engine/esm/Options/Classes/ColorAnimation.js","../node_modules/tsparticles-engine/esm/Options/Classes/HslAnimation.js","../node_modules/tsparticles-engine/esm/Options/Classes/AnimatableColor.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Collisions/CollisionsAbsorb.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Collisions/CollisionsOverlap.js","../node_modules/tsparticles-engine/esm/Options/Classes/Random.js","../node_modules/tsparticles-engine/esm/Options/Classes/ValueWithRandom.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Bounce/ParticlesBounceFactor.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Bounce/ParticlesBounce.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Collisions/Collisions.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Move/MoveAngle.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Move/MoveAttract.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Move/MoveCenter.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Move/MoveGravity.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Move/Path/MovePath.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Move/MoveTrailFill.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Move/MoveTrail.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Move/OutModes.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Move/Spin.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Move/Move.js","../node_modules/tsparticles-engine/esm/Options/Classes/AnimationOptions.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Opacity/OpacityAnimation.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Opacity/Opacity.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Number/ParticlesDensity.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Number/ParticlesNumber.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Shadow.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Shape/Shape.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Size/SizeAnimation.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Size/Size.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/Stroke.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/ZIndex/ZIndex.js","../node_modules/tsparticles-engine/esm/Options/Classes/Particles/ParticlesOptions.js","../node_modules/tsparticles-engine/esm/Utils/OptionsUtils.js","../node_modules/tsparticles-engine/esm/Options/Classes/Options.js","../node_modules/tsparticles-engine/esm/Core/Utils/InteractionManager.js","../node_modules/tsparticles-engine/esm/Core/Particle.js","../node_modules/tsparticles-engine/esm/Core/Utils/Point.js","../node_modules/tsparticles-engine/esm/Core/Utils/Range.js","../node_modules/tsparticles-engine/esm/Core/Utils/Circle.js","../node_modules/tsparticles-engine/esm/Core/Utils/Rectangle.js","../node_modules/tsparticles-engine/esm/Core/Utils/QuadTree.js","../node_modules/tsparticles-engine/esm/Core/Particles.js","../node_modules/tsparticles-engine/esm/Core/Retina.js","../node_modules/tsparticles-engine/esm/Core/Container.js","../node_modules/tsparticles-engine/esm/Core/Loader.js","../node_modules/tsparticles-engine/esm/Core/Utils/Plugins.js","../node_modules/tsparticles-engine/esm/engine.js","../node_modules/tsparticles-engine/esm/Utils/HslColorManager.js","../node_modules/tsparticles-engine/esm/Utils/RgbColorManager.js","../node_modules/tsparticles-engine/esm/Core/Utils/ExternalInteractorBase.js","../node_modules/tsparticles-engine/esm/Core/Utils/ParticlesInteractorBase.js","../node_modules/tsparticles-engine/esm/index.js","../node_modules/tsparticles-path-curves/esm/CurvesPathGenerator.js","../node_modules/tsparticles-path-curves/esm/index.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js"],"sourcesContent":["export class EventDispatcher {\n    constructor() {\n        this._listeners = new Map();\n    }\n    addEventListener(type, listener) {\n        var _a;\n        this.removeEventListener(type, listener);\n        if (!this._listeners.get(type)) {\n            this._listeners.set(type, []);\n        }\n        (_a = this._listeners.get(type)) === null || _a === void 0 ? void 0 : _a.push(listener);\n    }\n    dispatchEvent(type, args) {\n        var _a;\n        (_a = this._listeners.get(type)) === null || _a === void 0 ? void 0 : _a.forEach((handler) => handler(args));\n    }\n    hasEventListener(type) {\n        return !!this._listeners.get(type);\n    }\n    removeAllEventListeners(type) {\n        if (!type) {\n            this._listeners = new Map();\n        }\n        else {\n            this._listeners.delete(type);\n        }\n    }\n    removeEventListener(type, listener) {\n        const arr = this._listeners.get(type);\n        if (!arr) {\n            return;\n        }\n        const length = arr.length, idx = arr.indexOf(listener);\n        if (idx < 0) {\n            return;\n        }\n        if (length === 1) {\n            this._listeners.delete(type);\n        }\n        else {\n            arr.splice(idx, 1);\n        }\n    }\n}\n","export class Vector3d {\n    constructor(xOrCoords, y, z) {\n        if (typeof xOrCoords !== \"number\" && xOrCoords) {\n            this.x = xOrCoords.x;\n            this.y = xOrCoords.y;\n            const coords3d = xOrCoords;\n            this.z = coords3d.z ? coords3d.z : 0;\n        }\n        else if (xOrCoords !== undefined && y !== undefined) {\n            this.x = xOrCoords;\n            this.y = y;\n            this.z = z !== null && z !== void 0 ? z : 0;\n        }\n        else {\n            throw new Error(\"tsParticles - Vector3d not initialized correctly\");\n        }\n    }\n    static get origin() {\n        return Vector3d.create(0, 0, 0);\n    }\n    get angle() {\n        return Math.atan2(this.y, this.x);\n    }\n    set angle(angle) {\n        this.updateFromAngle(angle, this.length);\n    }\n    get length() {\n        return Math.sqrt(this.getLengthSq());\n    }\n    set length(length) {\n        this.updateFromAngle(this.angle, length);\n    }\n    static clone(source) {\n        return Vector3d.create(source.x, source.y, source.z);\n    }\n    static create(x, y, z) {\n        return new Vector3d(x, y, z);\n    }\n    add(v) {\n        return Vector3d.create(this.x + v.x, this.y + v.y, this.z + v.z);\n    }\n    addTo(v) {\n        this.x += v.x;\n        this.y += v.y;\n        this.z += v.z;\n    }\n    copy() {\n        return Vector3d.clone(this);\n    }\n    distanceTo(v) {\n        return this.sub(v).length;\n    }\n    distanceToSq(v) {\n        return this.sub(v).getLengthSq();\n    }\n    div(n) {\n        return Vector3d.create(this.x / n, this.y / n, this.z / n);\n    }\n    divTo(n) {\n        this.x /= n;\n        this.y /= n;\n        this.z /= n;\n    }\n    getLengthSq() {\n        return this.x ** 2 + this.y ** 2;\n    }\n    mult(n) {\n        return Vector3d.create(this.x * n, this.y * n, this.z * n);\n    }\n    multTo(n) {\n        this.x *= n;\n        this.y *= n;\n        this.z *= n;\n    }\n    rotate(angle) {\n        return Vector3d.create(this.x * Math.cos(angle) - this.y * Math.sin(angle), this.x * Math.sin(angle) + this.y * Math.cos(angle), 0);\n    }\n    setTo(c) {\n        this.x = c.x;\n        this.y = c.y;\n        const v3d = c;\n        this.z = v3d.z ? v3d.z : 0;\n    }\n    sub(v) {\n        return Vector3d.create(this.x - v.x, this.y - v.y, this.z - v.z);\n    }\n    subFrom(v) {\n        this.x -= v.x;\n        this.y -= v.y;\n        this.z -= v.z;\n    }\n    updateFromAngle(angle, length) {\n        this.x = Math.cos(angle) * length;\n        this.y = Math.sin(angle) * length;\n    }\n}\n","import { Vector3d } from \"./Vector3d\";\nexport class Vector extends Vector3d {\n    constructor(xOrCoords, y) {\n        super(xOrCoords, y, 0);\n    }\n    static get origin() {\n        return Vector.create(0, 0);\n    }\n    static clone(source) {\n        return Vector.create(source.x, source.y);\n    }\n    static create(x, y) {\n        return new Vector(x, y);\n    }\n}\n","import { Vector } from \"../Core/Utils/Vector\";\nlet _random = Math.random;\nconst easings = new Map();\nexport function addEasing(name, easing) {\n    if (!easings.get(name)) {\n        easings.set(name, easing);\n    }\n}\nexport function getEasing(name) {\n    return easings.get(name) || ((value) => value);\n}\nexport function setRandom(rnd = Math.random) {\n    _random = rnd;\n}\nexport function getRandom() {\n    return clamp(_random(), 0, 1 - 1e-16);\n}\nexport function clamp(num, min, max) {\n    return Math.min(Math.max(num, min), max);\n}\nexport function mix(comp1, comp2, weight1, weight2) {\n    return Math.floor((comp1 * weight1 + comp2 * weight2) / (weight1 + weight2));\n}\nexport function randomInRange(r) {\n    const max = getRangeMax(r);\n    let min = getRangeMin(r);\n    if (max === min) {\n        min = 0;\n    }\n    return getRandom() * (max - min) + min;\n}\nexport function getRangeValue(value) {\n    return typeof value === \"number\" ? value : randomInRange(value);\n}\nexport function getRangeMin(value) {\n    return typeof value === \"number\" ? value : value.min;\n}\nexport function getRangeMax(value) {\n    return typeof value === \"number\" ? value : value.max;\n}\nexport function setRangeValue(source, value) {\n    if (source === value || (value === undefined && typeof source === \"number\")) {\n        return source;\n    }\n    const min = getRangeMin(source), max = getRangeMax(source);\n    return value !== undefined\n        ? {\n            min: Math.min(min, value),\n            max: Math.max(max, value),\n        }\n        : setRangeValue(min, max);\n}\nexport function getValue(options) {\n    const random = options.random, { enable, minimumValue } = typeof random === \"boolean\"\n        ? {\n            enable: random,\n            minimumValue: 0,\n        }\n        : random;\n    return enable ? getRangeValue(setRangeValue(options.value, minimumValue)) : getRangeValue(options.value);\n}\nexport function getDistances(pointA, pointB) {\n    const dx = pointA.x - pointB.x, dy = pointA.y - pointB.y;\n    return { dx: dx, dy: dy, distance: Math.sqrt(dx ** 2 + dy ** 2) };\n}\nexport function getDistance(pointA, pointB) {\n    return getDistances(pointA, pointB).distance;\n}\nexport function getParticleDirectionAngle(direction, position, center) {\n    if (typeof direction === \"number\") {\n        return (direction * Math.PI) / 180;\n    }\n    else {\n        switch (direction) {\n            case \"top\":\n                return -Math.PI / 2;\n            case \"top-right\":\n                return -Math.PI / 4;\n            case \"right\":\n                return 0;\n            case \"bottom-right\":\n                return Math.PI / 4;\n            case \"bottom\":\n                return Math.PI / 2;\n            case \"bottom-left\":\n                return (3 * Math.PI) / 4;\n            case \"left\":\n                return Math.PI;\n            case \"top-left\":\n                return (-3 * Math.PI) / 4;\n            case \"inside\":\n                return Math.atan2(center.y - position.y, center.x - position.x);\n            case \"outside\":\n                return Math.atan2(position.y - center.y, position.x - center.x);\n            default:\n                return getRandom() * Math.PI * 2;\n        }\n    }\n}\nexport function getParticleBaseVelocity(direction) {\n    const baseVelocity = Vector.origin;\n    baseVelocity.length = 1;\n    baseVelocity.angle = direction;\n    return baseVelocity;\n}\nexport function collisionVelocity(v1, v2, m1, m2) {\n    return Vector.create((v1.x * (m1 - m2)) / (m1 + m2) + (v2.x * 2 * m2) / (m1 + m2), v1.y);\n}\nexport function calcPositionFromSize(data) {\n    return data.position && data.position.x !== undefined && data.position.y !== undefined\n        ? {\n            x: (data.position.x * data.size.width) / 100,\n            y: (data.position.y * data.size.height) / 100,\n        }\n        : undefined;\n}\nexport function calcPositionOrRandomFromSize(data) {\n    var _a, _b, _c, _d;\n    return {\n        x: (((_b = (_a = data.position) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : getRandom() * 100) * data.size.width) / 100,\n        y: (((_d = (_c = data.position) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : getRandom() * 100) * data.size.height) / 100,\n    };\n}\nexport function calcPositionOrRandomFromSizeRanged(data) {\n    var _a, _b;\n    const position = {\n        x: ((_a = data.position) === null || _a === void 0 ? void 0 : _a.x) !== undefined ? getRangeValue(data.position.x) : undefined,\n        y: ((_b = data.position) === null || _b === void 0 ? void 0 : _b.y) !== undefined ? getRangeValue(data.position.y) : undefined,\n    };\n    return calcPositionOrRandomFromSize({ size: data.size, position });\n}\nexport function calcExactPositionOrRandomFromSize(data) {\n    var _a, _b, _c, _d;\n    return {\n        x: (_b = (_a = data.position) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : getRandom() * data.size.width,\n        y: (_d = (_c = data.position) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : getRandom() * data.size.height,\n    };\n}\nexport function calcExactPositionOrRandomFromSizeRanged(data) {\n    var _a, _b;\n    const position = {\n        x: ((_a = data.position) === null || _a === void 0 ? void 0 : _a.x) !== undefined ? getRangeValue(data.position.x) : undefined,\n        y: ((_b = data.position) === null || _b === void 0 ? void 0 : _b.y) !== undefined ? getRangeValue(data.position.y) : undefined,\n    };\n    return calcExactPositionOrRandomFromSize({ size: data.size, position });\n}\nexport function parseAlpha(input) {\n    return input ? (input.endsWith(\"%\") ? parseFloat(input) / 100 : parseFloat(input)) : 1;\n}\n","import { collisionVelocity, getDistances, getRandom, getValue } from \"./NumberUtils\";\nimport { Vector } from \"../Core/Utils/Vector\";\nfunction rectSideBounce(pSide, pOtherSide, rectSide, rectOtherSide, velocity, factor) {\n    const res = { bounced: false };\n    if (pOtherSide.min < rectOtherSide.min ||\n        pOtherSide.min > rectOtherSide.max ||\n        pOtherSide.max < rectOtherSide.min ||\n        pOtherSide.max > rectOtherSide.max) {\n        return res;\n    }\n    if ((pSide.max >= rectSide.min && pSide.max <= (rectSide.max + rectSide.min) / 2 && velocity > 0) ||\n        (pSide.min <= rectSide.max && pSide.min > (rectSide.max + rectSide.min) / 2 && velocity < 0)) {\n        res.velocity = velocity * -factor;\n        res.bounced = true;\n    }\n    return res;\n}\nfunction checkSelector(element, selectors) {\n    const res = executeOnSingleOrMultiple(selectors, (selector) => {\n        return element.matches(selector);\n    });\n    return res instanceof Array ? res.some((t) => t) : res;\n}\nexport function isSsr() {\n    return typeof window === \"undefined\" || !window || typeof window.document === \"undefined\" || !window.document;\n}\nexport function hasMatchMedia() {\n    return !isSsr() && typeof matchMedia !== \"undefined\";\n}\nexport function safeMatchMedia(query) {\n    if (!hasMatchMedia()) {\n        return;\n    }\n    return matchMedia(query);\n}\nexport function animate() {\n    return isSsr()\n        ? (callback) => setTimeout(callback)\n        : (callback) => (requestAnimationFrame || setTimeout)(callback);\n}\nexport function cancelAnimation() {\n    return isSsr()\n        ? (handle) => clearTimeout(handle)\n        : (handle) => (cancelAnimationFrame || clearTimeout)(handle);\n}\nexport function isInArray(value, array) {\n    return value === array || (array instanceof Array && array.indexOf(value) > -1);\n}\nexport async function loadFont(font, weight) {\n    try {\n        await document.fonts.load(`${weight !== null && weight !== void 0 ? weight : \"400\"} 36px '${font !== null && font !== void 0 ? font : \"Verdana\"}'`);\n    }\n    catch (_a) {\n    }\n}\nexport function arrayRandomIndex(array) {\n    return Math.floor(getRandom() * array.length);\n}\nexport function itemFromArray(array, index, useIndex = true) {\n    return array[index !== undefined && useIndex ? index % array.length : arrayRandomIndex(array)];\n}\nexport function isPointInside(point, size, offset, radius, direction) {\n    return areBoundsInside(calculateBounds(point, radius !== null && radius !== void 0 ? radius : 0), size, offset, direction);\n}\nexport function areBoundsInside(bounds, size, offset, direction) {\n    let inside = true;\n    if (!direction || direction === \"bottom\") {\n        inside = bounds.top < size.height + offset.x;\n    }\n    if (inside && (!direction || direction === \"left\")) {\n        inside = bounds.right > offset.x;\n    }\n    if (inside && (!direction || direction === \"right\")) {\n        inside = bounds.left < size.width + offset.y;\n    }\n    if (inside && (!direction || direction === \"top\")) {\n        inside = bounds.bottom > offset.y;\n    }\n    return inside;\n}\nexport function calculateBounds(point, radius) {\n    return {\n        bottom: point.y + radius,\n        left: point.x - radius,\n        right: point.x + radius,\n        top: point.y - radius,\n    };\n}\nexport function deepExtend(destination, ...sources) {\n    for (const source of sources) {\n        if (source === undefined || source === null) {\n            continue;\n        }\n        if (typeof source !== \"object\") {\n            destination = source;\n            continue;\n        }\n        const sourceIsArray = Array.isArray(source);\n        if (sourceIsArray && (typeof destination !== \"object\" || !destination || !Array.isArray(destination))) {\n            destination = [];\n        }\n        else if (!sourceIsArray && (typeof destination !== \"object\" || !destination || Array.isArray(destination))) {\n            destination = {};\n        }\n        for (const key in source) {\n            if (key === \"__proto__\") {\n                continue;\n            }\n            const sourceDict = source, value = sourceDict[key], isObject = typeof value === \"object\", destDict = destination;\n            destDict[key] =\n                isObject && Array.isArray(value)\n                    ? value.map((v) => deepExtend(destDict[key], v))\n                    : deepExtend(destDict[key], value);\n        }\n    }\n    return destination;\n}\nexport function isDivModeEnabled(mode, divs) {\n    return !!findItemFromSingleOrMultiple(divs, (t) => t.enable && isInArray(mode, t.mode));\n}\nexport function divModeExecute(mode, divs, callback) {\n    executeOnSingleOrMultiple(divs, (div) => {\n        const divMode = div.mode, divEnabled = div.enable;\n        if (divEnabled && isInArray(mode, divMode)) {\n            singleDivModeExecute(div, callback);\n        }\n    });\n}\nexport function singleDivModeExecute(div, callback) {\n    const selectors = div.selectors;\n    executeOnSingleOrMultiple(selectors, (selector) => {\n        callback(selector, div);\n    });\n}\nexport function divMode(divs, element) {\n    if (!element || !divs) {\n        return;\n    }\n    return findItemFromSingleOrMultiple(divs, (div) => {\n        return checkSelector(element, div.selectors);\n    });\n}\nexport function circleBounceDataFromParticle(p) {\n    return {\n        position: p.getPosition(),\n        radius: p.getRadius(),\n        mass: p.getMass(),\n        velocity: p.velocity,\n        factor: Vector.create(getValue(p.options.bounce.horizontal), getValue(p.options.bounce.vertical)),\n    };\n}\nexport function circleBounce(p1, p2) {\n    const { x: xVelocityDiff, y: yVelocityDiff } = p1.velocity.sub(p2.velocity), [pos1, pos2] = [p1.position, p2.position], { dx: xDist, dy: yDist } = getDistances(pos2, pos1);\n    if (xVelocityDiff * xDist + yVelocityDiff * yDist < 0) {\n        return;\n    }\n    const angle = -Math.atan2(yDist, xDist), m1 = p1.mass, m2 = p2.mass, u1 = p1.velocity.rotate(angle), u2 = p2.velocity.rotate(angle), v1 = collisionVelocity(u1, u2, m1, m2), v2 = collisionVelocity(u2, u1, m1, m2), vFinal1 = v1.rotate(-angle), vFinal2 = v2.rotate(-angle);\n    p1.velocity.x = vFinal1.x * p1.factor.x;\n    p1.velocity.y = vFinal1.y * p1.factor.y;\n    p2.velocity.x = vFinal2.x * p2.factor.x;\n    p2.velocity.y = vFinal2.y * p2.factor.y;\n}\nexport function rectBounce(particle, divBounds) {\n    const pPos = particle.getPosition(), size = particle.getRadius(), bounds = calculateBounds(pPos, size), resH = rectSideBounce({\n        min: bounds.left,\n        max: bounds.right,\n    }, {\n        min: bounds.top,\n        max: bounds.bottom,\n    }, {\n        min: divBounds.left,\n        max: divBounds.right,\n    }, {\n        min: divBounds.top,\n        max: divBounds.bottom,\n    }, particle.velocity.x, getValue(particle.options.bounce.horizontal));\n    if (resH.bounced) {\n        if (resH.velocity !== undefined) {\n            particle.velocity.x = resH.velocity;\n        }\n        if (resH.position !== undefined) {\n            particle.position.x = resH.position;\n        }\n    }\n    const resV = rectSideBounce({\n        min: bounds.top,\n        max: bounds.bottom,\n    }, {\n        min: bounds.left,\n        max: bounds.right,\n    }, {\n        min: divBounds.top,\n        max: divBounds.bottom,\n    }, {\n        min: divBounds.left,\n        max: divBounds.right,\n    }, particle.velocity.y, getValue(particle.options.bounce.vertical));\n    if (resV.bounced) {\n        if (resV.velocity !== undefined) {\n            particle.velocity.y = resV.velocity;\n        }\n        if (resV.position !== undefined) {\n            particle.position.y = resV.position;\n        }\n    }\n}\nexport function executeOnSingleOrMultiple(obj, callback) {\n    return obj instanceof Array ? obj.map((item, index) => callback(item, index)) : callback(obj, 0);\n}\nexport function itemFromSingleOrMultiple(obj, index, useIndex) {\n    return obj instanceof Array ? itemFromArray(obj, index, useIndex) : obj;\n}\nexport function findItemFromSingleOrMultiple(obj, callback) {\n    return obj instanceof Array ? obj.find((t, index) => callback(t, index)) : callback(obj, 0) ? obj : undefined;\n}\n","import { getRandom, getRangeValue, mix, randomInRange, setRangeValue } from \"./NumberUtils\";\nimport { itemFromArray } from \"./Utils\";\nconst randomColorValue = \"random\", midColorValue = \"mid\", colorManagers = new Map();\nexport function addColorManager(manager) {\n    colorManagers.set(manager.key, manager);\n}\nfunction hue2rgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * 6 * t;\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\nfunction stringToRgba(input) {\n    for (const [, manager] of colorManagers) {\n        if (input.startsWith(manager.stringPrefix)) {\n            return manager.parseString(input);\n        }\n    }\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])([a-f\\d])?$/i, hexFixed = input.replace(shorthandRegex, (_, r, g, b, a) => {\n        return r + r + g + g + b + b + (a !== undefined ? a + a : \"\");\n    }), regex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i, result = regex.exec(hexFixed);\n    return result\n        ? {\n            a: result[4] !== undefined ? parseInt(result[4], 16) / 0xff : 1,\n            b: parseInt(result[3], 16),\n            g: parseInt(result[2], 16),\n            r: parseInt(result[1], 16),\n        }\n        : undefined;\n}\nexport function rangeColorToRgb(input, index, useIndex = true) {\n    if (!input) {\n        return;\n    }\n    const color = typeof input === \"string\" ? { value: input } : input;\n    if (typeof color.value === \"string\") {\n        return colorToRgb(color.value, index, useIndex);\n    }\n    if (color.value instanceof Array) {\n        return rangeColorToRgb({\n            value: itemFromArray(color.value, index, useIndex),\n        });\n    }\n    for (const [, manager] of colorManagers) {\n        const res = manager.handleRangeColor(color);\n        if (res) {\n            return res;\n        }\n    }\n}\nexport function colorToRgb(input, index, useIndex = true) {\n    if (!input) {\n        return;\n    }\n    const color = typeof input === \"string\" ? { value: input } : input;\n    if (typeof color.value === \"string\") {\n        return color.value === randomColorValue ? getRandomRgbColor() : stringToRgb(color.value);\n    }\n    if (color.value instanceof Array) {\n        return colorToRgb({\n            value: itemFromArray(color.value, index, useIndex),\n        });\n    }\n    for (const [, manager] of colorManagers) {\n        const res = manager.handleColor(color);\n        if (res) {\n            return res;\n        }\n    }\n}\nexport function colorToHsl(color, index, useIndex = true) {\n    const rgb = colorToRgb(color, index, useIndex);\n    return rgb ? rgbToHsl(rgb) : undefined;\n}\nexport function rangeColorToHsl(color, index, useIndex = true) {\n    const rgb = rangeColorToRgb(color, index, useIndex);\n    return rgb ? rgbToHsl(rgb) : undefined;\n}\nexport function rgbToHsl(color) {\n    const r1 = color.r / 255, g1 = color.g / 255, b1 = color.b / 255, max = Math.max(r1, g1, b1), min = Math.min(r1, g1, b1), res = {\n        h: 0,\n        l: (max + min) / 2,\n        s: 0,\n    };\n    if (max !== min) {\n        res.s = res.l < 0.5 ? (max - min) / (max + min) : (max - min) / (2.0 - max - min);\n        res.h =\n            r1 === max\n                ? (g1 - b1) / (max - min)\n                : (res.h = g1 === max ? 2.0 + (b1 - r1) / (max - min) : 4.0 + (r1 - g1) / (max - min));\n    }\n    res.l *= 100;\n    res.s *= 100;\n    res.h *= 60;\n    if (res.h < 0) {\n        res.h += 360;\n    }\n    if (res.h >= 360) {\n        res.h -= 360;\n    }\n    return res;\n}\nexport function stringToAlpha(input) {\n    var _a;\n    return (_a = stringToRgba(input)) === null || _a === void 0 ? void 0 : _a.a;\n}\nexport function stringToRgb(input) {\n    return stringToRgba(input);\n}\nexport function hslToRgb(hsl) {\n    const result = { b: 0, g: 0, r: 0 }, hslPercent = {\n        h: hsl.h / 360,\n        l: hsl.l / 100,\n        s: hsl.s / 100,\n    };\n    if (!hslPercent.s) {\n        result.b = hslPercent.l;\n        result.g = hslPercent.l;\n        result.r = hslPercent.l;\n    }\n    else {\n        const q = hslPercent.l < 0.5\n            ? hslPercent.l * (1 + hslPercent.s)\n            : hslPercent.l + hslPercent.s - hslPercent.l * hslPercent.s, p = 2 * hslPercent.l - q;\n        result.r = hue2rgb(p, q, hslPercent.h + 1 / 3);\n        result.g = hue2rgb(p, q, hslPercent.h);\n        result.b = hue2rgb(p, q, hslPercent.h - 1 / 3);\n    }\n    result.r = Math.floor(result.r * 255);\n    result.g = Math.floor(result.g * 255);\n    result.b = Math.floor(result.b * 255);\n    return result;\n}\nexport function hslaToRgba(hsla) {\n    const rgbResult = hslToRgb(hsla);\n    return {\n        a: hsla.a,\n        b: rgbResult.b,\n        g: rgbResult.g,\n        r: rgbResult.r,\n    };\n}\nexport function getRandomRgbColor(min) {\n    const fixedMin = min !== null && min !== void 0 ? min : 0;\n    return {\n        b: Math.floor(randomInRange(setRangeValue(fixedMin, 256))),\n        g: Math.floor(randomInRange(setRangeValue(fixedMin, 256))),\n        r: Math.floor(randomInRange(setRangeValue(fixedMin, 256))),\n    };\n}\nexport function getStyleFromRgb(color, opacity) {\n    return `rgba(${color.r}, ${color.g}, ${color.b}, ${opacity !== null && opacity !== void 0 ? opacity : 1})`;\n}\nexport function getStyleFromHsl(color, opacity) {\n    return `hsla(${color.h}, ${color.s}%, ${color.l}%, ${opacity !== null && opacity !== void 0 ? opacity : 1})`;\n}\nexport function colorMix(color1, color2, size1, size2) {\n    let rgb1 = color1, rgb2 = color2;\n    if (rgb1.r === undefined) {\n        rgb1 = hslToRgb(color1);\n    }\n    if (rgb2.r === undefined) {\n        rgb2 = hslToRgb(color2);\n    }\n    return {\n        b: mix(rgb1.b, rgb2.b, size1, size2),\n        g: mix(rgb1.g, rgb2.g, size1, size2),\n        r: mix(rgb1.r, rgb2.r, size1, size2),\n    };\n}\nexport function getLinkColor(p1, p2, linkColor) {\n    var _a, _b;\n    if (linkColor === randomColorValue) {\n        return getRandomRgbColor();\n    }\n    else if (linkColor === midColorValue) {\n        const sourceColor = (_a = p1.getFillColor()) !== null && _a !== void 0 ? _a : p1.getStrokeColor(), destColor = (_b = p2 === null || p2 === void 0 ? void 0 : p2.getFillColor()) !== null && _b !== void 0 ? _b : p2 === null || p2 === void 0 ? void 0 : p2.getStrokeColor();\n        if (sourceColor && destColor && p2) {\n            return colorMix(sourceColor, destColor, p1.getRadius(), p2.getRadius());\n        }\n        else {\n            const hslColor = sourceColor !== null && sourceColor !== void 0 ? sourceColor : destColor;\n            if (hslColor) {\n                return hslToRgb(hslColor);\n            }\n        }\n    }\n    else {\n        return linkColor;\n    }\n}\nexport function getLinkRandomColor(optColor, blink, consent) {\n    const color = typeof optColor === \"string\" ? optColor : optColor.value;\n    if (color === randomColorValue) {\n        if (consent) {\n            return rangeColorToRgb({\n                value: color,\n            });\n        }\n        if (blink) {\n            return randomColorValue;\n        }\n        return midColorValue;\n    }\n    else if (color === midColorValue) {\n        return midColorValue;\n    }\n    else {\n        return rangeColorToRgb({\n            value: color,\n        });\n    }\n}\nexport function getHslFromAnimation(animation) {\n    return animation !== undefined\n        ? {\n            h: animation.h.value,\n            s: animation.s.value,\n            l: animation.l.value,\n        }\n        : undefined;\n}\nexport function getHslAnimationFromHsl(hsl, animationOptions, reduceFactor) {\n    const resColor = {\n        h: {\n            enable: false,\n            value: hsl.h,\n        },\n        s: {\n            enable: false,\n            value: hsl.s,\n        },\n        l: {\n            enable: false,\n            value: hsl.l,\n        },\n    };\n    if (animationOptions) {\n        setColorAnimation(resColor.h, animationOptions.h, reduceFactor);\n        setColorAnimation(resColor.s, animationOptions.s, reduceFactor);\n        setColorAnimation(resColor.l, animationOptions.l, reduceFactor);\n    }\n    return resColor;\n}\nfunction setColorAnimation(colorValue, colorAnimation, reduceFactor) {\n    colorValue.enable = colorAnimation.enable;\n    if (colorValue.enable) {\n        colorValue.velocity = (getRangeValue(colorAnimation.speed) / 100) * reduceFactor;\n        colorValue.decay = 1 - getRangeValue(colorAnimation.decay);\n        colorValue.status = \"increasing\";\n        colorValue.loops = 0;\n        colorValue.maxLoops = getRangeValue(colorAnimation.count);\n        if (!colorAnimation.sync) {\n            colorValue.velocity *= getRandom();\n            colorValue.value *= getRandom();\n        }\n        colorValue.initialValue = colorValue.value;\n    }\n    else {\n        colorValue.velocity = 0;\n    }\n}\n","import { getStyleFromRgb } from \"./ColorUtils\";\nexport function drawLine(context, begin, end) {\n    context.beginPath();\n    context.moveTo(begin.x, begin.y);\n    context.lineTo(end.x, end.y);\n    context.closePath();\n}\nexport function drawTriangle(context, p1, p2, p3) {\n    context.beginPath();\n    context.moveTo(p1.x, p1.y);\n    context.lineTo(p2.x, p2.y);\n    context.lineTo(p3.x, p3.y);\n    context.closePath();\n}\nexport function paintBase(context, dimension, baseColor) {\n    context.fillStyle = baseColor !== null && baseColor !== void 0 ? baseColor : \"rgba(0,0,0,0)\";\n    context.fillRect(0, 0, dimension.width, dimension.height);\n}\nexport function paintImage(context, dimension, image, opacity) {\n    if (!image) {\n        return;\n    }\n    context.globalAlpha = opacity;\n    context.drawImage(image, 0, 0, dimension.width, dimension.height);\n    context.globalAlpha = 1;\n}\nexport function clear(context, dimension) {\n    context.clearRect(0, 0, dimension.width, dimension.height);\n}\nexport function drawParticle(data) {\n    var _a, _b, _c, _d, _e;\n    const { container, context, particle, delta, colorStyles, backgroundMask, composite, radius, opacity, shadow, transform, } = data;\n    const pos = particle.getPosition(), angle = particle.rotation + (particle.pathRotation ? particle.velocity.angle : 0), rotateData = {\n        sin: Math.sin(angle),\n        cos: Math.cos(angle),\n    }, transformData = {\n        a: rotateData.cos * ((_a = transform.a) !== null && _a !== void 0 ? _a : 1),\n        b: rotateData.sin * ((_b = transform.b) !== null && _b !== void 0 ? _b : 1),\n        c: -rotateData.sin * ((_c = transform.c) !== null && _c !== void 0 ? _c : 1),\n        d: rotateData.cos * ((_d = transform.d) !== null && _d !== void 0 ? _d : 1),\n    };\n    context.setTransform(transformData.a, transformData.b, transformData.c, transformData.d, pos.x, pos.y);\n    context.beginPath();\n    if (backgroundMask) {\n        context.globalCompositeOperation = composite;\n    }\n    const shadowColor = particle.shadowColor;\n    if (shadow.enable && shadowColor) {\n        context.shadowBlur = shadow.blur;\n        context.shadowColor = getStyleFromRgb(shadowColor);\n        context.shadowOffsetX = shadow.offset.x;\n        context.shadowOffsetY = shadow.offset.y;\n    }\n    if (colorStyles.fill) {\n        context.fillStyle = colorStyles.fill;\n    }\n    const strokeWidth = (_e = particle.strokeWidth) !== null && _e !== void 0 ? _e : 0;\n    context.lineWidth = strokeWidth;\n    if (colorStyles.stroke) {\n        context.strokeStyle = colorStyles.stroke;\n    }\n    drawShape(container, context, particle, radius, opacity, delta);\n    if (strokeWidth > 0) {\n        context.stroke();\n    }\n    if (particle.close) {\n        context.closePath();\n    }\n    if (particle.fill) {\n        context.fill();\n    }\n    drawShapeAfterEffect(container, context, particle, radius, opacity, delta);\n    context.globalCompositeOperation = \"source-over\";\n    context.setTransform(1, 0, 0, 1, 0, 0);\n}\nexport function drawShape(container, context, particle, radius, opacity, delta) {\n    if (!particle.shape) {\n        return;\n    }\n    const drawer = container.drawers.get(particle.shape);\n    if (!drawer) {\n        return;\n    }\n    drawer.draw(context, particle, radius, opacity, delta, container.retina.pixelRatio);\n}\nexport function drawShapeAfterEffect(container, context, particle, radius, opacity, delta) {\n    if (!particle.shape) {\n        return;\n    }\n    const drawer = container.drawers.get(particle.shape);\n    if (!(drawer === null || drawer === void 0 ? void 0 : drawer.afterEffect)) {\n        return;\n    }\n    drawer.afterEffect(context, particle, radius, opacity, delta, container.retina.pixelRatio);\n}\nexport function drawPlugin(context, plugin, delta) {\n    if (!plugin.draw) {\n        return;\n    }\n    plugin.draw(context, delta);\n}\nexport function drawParticlePlugin(context, plugin, particle, delta) {\n    if (!plugin.drawParticle) {\n        return;\n    }\n    plugin.drawParticle(context, particle, delta);\n}\nexport function alterHsl(color, type, value) {\n    return {\n        h: color.h,\n        s: color.s,\n        l: color.l + (type === \"darken\" ? -1 : 1) * value,\n    };\n}\n","export const generatedAttribute = \"generated\";\nexport const touchEndEvent = \"touchend\";\nexport const mouseDownEvent = \"pointerdown\";\nexport const mouseUpEvent = \"pointerup\";\nexport const mouseMoveEvent = \"pointermove\";\nexport const touchStartEvent = \"touchstart\";\nexport const touchMoveEvent = \"touchmove\";\nexport const mouseLeaveEvent = \"pointerleave\";\nexport const mouseOutEvent = \"pointerout\";\nexport const touchCancelEvent = \"touchcancel\";\nexport const resizeEvent = \"resize\";\nexport const visibilityChangeEvent = \"visibilitychange\";\n","import { clear, drawParticle, drawParticlePlugin, drawPlugin, paintBase, paintImage } from \"../Utils/CanvasUtils\";\nimport { deepExtend, isSsr } from \"../Utils/Utils\";\nimport { getStyleFromHsl, getStyleFromRgb, rangeColorToHsl, rangeColorToRgb } from \"../Utils/ColorUtils\";\nimport { generatedAttribute } from \"./Utils/Constants\";\nfunction setTransformValue(factor, newFactor, key) {\n    var _a;\n    const newValue = newFactor[key];\n    if (newValue !== undefined) {\n        factor[key] = ((_a = factor[key]) !== null && _a !== void 0 ? _a : 1) * newValue;\n    }\n}\nexport class Canvas {\n    constructor(container) {\n        this.container = container;\n        this.size = {\n            height: 0,\n            width: 0,\n        };\n        this._context = null;\n        this._generated = false;\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n        this._mutationObserver =\n            !isSsr() && typeof MutationObserver !== \"undefined\"\n                ? new MutationObserver((records) => {\n                    for (const record of records) {\n                        if (record.type === \"attributes\" && record.attributeName === \"style\") {\n                            this._repairStyle();\n                        }\n                    }\n                })\n                : undefined;\n    }\n    get _fullScreen() {\n        return this.container.actualOptions.fullScreen.enable;\n    }\n    clear() {\n        const options = this.container.actualOptions, trail = options.particles.move.trail, trailFill = this._trailFill;\n        if (options.backgroundMask.enable) {\n            this.paint();\n        }\n        else if (trail.enable && trail.length > 0 && trailFill) {\n            if (trailFill.color) {\n                this._paintBase(getStyleFromRgb(trailFill.color, trailFill.opacity));\n            }\n            else if (trailFill.image) {\n                this._paintImage(trailFill.image, trailFill.opacity);\n            }\n        }\n        else {\n            this.draw((ctx) => {\n                clear(ctx, this.size);\n            });\n        }\n    }\n    destroy() {\n        var _a, _b;\n        (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        if (this._generated) {\n            (_b = this.element) === null || _b === void 0 ? void 0 : _b.remove();\n        }\n        else {\n            this._resetOriginalStyle();\n        }\n        this.draw((ctx) => {\n            clear(ctx, this.size);\n        });\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        this._resizePlugins = [];\n        this._colorPlugins = [];\n    }\n    draw(cb) {\n        if (!this._context) {\n            return;\n        }\n        return cb(this._context);\n    }\n    drawParticle(particle, delta) {\n        var _a;\n        if (particle.spawning || particle.destroyed) {\n            return;\n        }\n        const radius = particle.getRadius();\n        if (radius <= 0) {\n            return;\n        }\n        const pfColor = particle.getFillColor(), psColor = (_a = particle.getStrokeColor()) !== null && _a !== void 0 ? _a : pfColor;\n        let [fColor, sColor] = this._getPluginParticleColors(particle);\n        if (!fColor) {\n            fColor = pfColor;\n        }\n        if (!sColor) {\n            sColor = psColor;\n        }\n        if (!fColor && !sColor) {\n            return;\n        }\n        this.draw((ctx) => {\n            var _a, _b, _c, _d;\n            const options = this.container.actualOptions, zIndexOptions = particle.options.zIndex, zOpacityFactor = (1 - particle.zIndexFactor) ** zIndexOptions.opacityRate, opacity = (_c = (_a = particle.bubble.opacity) !== null && _a !== void 0 ? _a : (_b = particle.opacity) === null || _b === void 0 ? void 0 : _b.value) !== null && _c !== void 0 ? _c : 1, strokeOpacity = (_d = particle.strokeOpacity) !== null && _d !== void 0 ? _d : opacity, zOpacity = opacity * zOpacityFactor, zStrokeOpacity = strokeOpacity * zOpacityFactor, transform = {}, colorStyles = {\n                fill: fColor ? getStyleFromHsl(fColor, zOpacity) : undefined,\n            };\n            colorStyles.stroke = sColor ? getStyleFromHsl(sColor, zStrokeOpacity) : colorStyles.fill;\n            this._applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform);\n            drawParticle({\n                container: this.container,\n                context: ctx,\n                particle,\n                delta,\n                colorStyles,\n                backgroundMask: options.backgroundMask.enable,\n                composite: options.backgroundMask.composite,\n                radius: radius * (1 - particle.zIndexFactor) ** zIndexOptions.sizeRate,\n                opacity: zOpacity,\n                shadow: particle.options.shadow,\n                transform,\n            });\n            this._applyPostDrawUpdaters(particle);\n        });\n    }\n    drawParticlePlugin(plugin, particle, delta) {\n        this.draw((ctx) => {\n            drawParticlePlugin(ctx, plugin, particle, delta);\n        });\n    }\n    drawPlugin(plugin, delta) {\n        this.draw((ctx) => {\n            drawPlugin(ctx, plugin, delta);\n        });\n    }\n    async init() {\n        var _a;\n        this.resize();\n        this._initStyle();\n        this._initCover();\n        try {\n            await this._initTrail();\n        }\n        catch (e) {\n            console.error(e);\n        }\n        this.initBackground();\n        if (this.element) {\n            (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.observe(this.element, { attributes: true });\n        }\n        this.initUpdaters();\n        this.initPlugins();\n        this.paint();\n    }\n    initBackground() {\n        const options = this.container.actualOptions, background = options.background, element = this.element, elementStyle = element === null || element === void 0 ? void 0 : element.style;\n        if (!elementStyle) {\n            return;\n        }\n        if (background.color) {\n            const color = rangeColorToRgb(background.color);\n            elementStyle.backgroundColor = color ? getStyleFromRgb(color, background.opacity) : \"\";\n        }\n        else {\n            elementStyle.backgroundColor = \"\";\n        }\n        elementStyle.backgroundImage = background.image || \"\";\n        elementStyle.backgroundPosition = background.position || \"\";\n        elementStyle.backgroundRepeat = background.repeat || \"\";\n        elementStyle.backgroundSize = background.size || \"\";\n    }\n    initPlugins() {\n        this._resizePlugins = [];\n        for (const [, plugin] of this.container.plugins) {\n            if (plugin.resize) {\n                this._resizePlugins.push(plugin);\n            }\n            if (plugin.particleFillColor || plugin.particleStrokeColor) {\n                this._colorPlugins.push(plugin);\n            }\n        }\n    }\n    initUpdaters() {\n        this._preDrawUpdaters = [];\n        this._postDrawUpdaters = [];\n        for (const updater of this.container.particles.updaters) {\n            if (updater.afterDraw) {\n                this._postDrawUpdaters.push(updater);\n            }\n            if (updater.getColorStyles || updater.getTransformValues || updater.beforeDraw) {\n                this._preDrawUpdaters.push(updater);\n            }\n        }\n    }\n    loadCanvas(canvas) {\n        var _a, _b;\n        if (this._generated) {\n            (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\n        }\n        this._generated =\n            canvas.dataset && generatedAttribute in canvas.dataset\n                ? canvas.dataset[generatedAttribute] === \"true\"\n                : this._generated;\n        this.element = canvas;\n        this.element.ariaHidden = \"true\";\n        this._originalStyle = deepExtend({}, this.element.style);\n        this.size.height = canvas.offsetHeight;\n        this.size.width = canvas.offsetWidth;\n        this._context = this.element.getContext(\"2d\");\n        (_b = this._mutationObserver) === null || _b === void 0 ? void 0 : _b.observe(this.element, { attributes: true });\n        this.container.retina.init();\n        this.initBackground();\n    }\n    paint() {\n        const options = this.container.actualOptions;\n        this.draw((ctx) => {\n            if (options.backgroundMask.enable && options.backgroundMask.cover) {\n                clear(ctx, this.size);\n                this._paintBase(this._coverColorStyle);\n            }\n            else {\n                this._paintBase();\n            }\n        });\n    }\n    resize() {\n        if (!this.element) {\n            return;\n        }\n        const container = this.container, pxRatio = container.retina.pixelRatio, size = container.canvas.size, newSize = {\n            width: this.element.offsetWidth * pxRatio,\n            height: this.element.offsetHeight * pxRatio,\n        };\n        if (newSize.height === size.height &&\n            newSize.width === size.width &&\n            newSize.height === this.element.height &&\n            newSize.width === this.element.width) {\n            return;\n        }\n        const oldSize = Object.assign({}, size);\n        this.element.width = size.width = this.element.offsetWidth * pxRatio;\n        this.element.height = size.height = this.element.offsetHeight * pxRatio;\n        if (this.container.started) {\n            this.resizeFactor = {\n                width: size.width / oldSize.width,\n                height: size.height / oldSize.height,\n            };\n        }\n    }\n    async windowResize() {\n        if (!this.element) {\n            return;\n        }\n        this.resize();\n        const container = this.container, needsRefresh = container.updateActualOptions();\n        container.particles.setDensity();\n        this._applyResizePlugins();\n        if (needsRefresh) {\n            await container.refresh();\n        }\n    }\n    _applyPostDrawUpdaters(particle) {\n        var _a;\n        for (const updater of this._postDrawUpdaters) {\n            (_a = updater.afterDraw) === null || _a === void 0 ? void 0 : _a.call(updater, particle);\n        }\n    }\n    _applyPreDrawUpdaters(ctx, particle, radius, zOpacity, colorStyles, transform) {\n        var _a;\n        for (const updater of this._preDrawUpdaters) {\n            if (updater.getColorStyles) {\n                const { fill, stroke } = updater.getColorStyles(particle, ctx, radius, zOpacity);\n                if (fill) {\n                    colorStyles.fill = fill;\n                }\n                if (stroke) {\n                    colorStyles.stroke = stroke;\n                }\n            }\n            if (updater.getTransformValues) {\n                const updaterTransform = updater.getTransformValues(particle);\n                for (const key in updaterTransform) {\n                    setTransformValue(transform, updaterTransform, key);\n                }\n            }\n            (_a = updater.beforeDraw) === null || _a === void 0 ? void 0 : _a.call(updater, particle);\n        }\n    }\n    _applyResizePlugins() {\n        for (const plugin of this._resizePlugins) {\n            if (plugin.resize) {\n                plugin.resize();\n            }\n        }\n    }\n    _getPluginParticleColors(particle) {\n        let fColor, sColor;\n        for (const plugin of this._colorPlugins) {\n            if (!fColor && plugin.particleFillColor) {\n                fColor = rangeColorToHsl(plugin.particleFillColor(particle));\n            }\n            if (!sColor && plugin.particleStrokeColor) {\n                sColor = rangeColorToHsl(plugin.particleStrokeColor(particle));\n            }\n            if (fColor && sColor) {\n                break;\n            }\n        }\n        return [fColor, sColor];\n    }\n    _initCover() {\n        const options = this.container.actualOptions, cover = options.backgroundMask.cover, color = cover.color, coverRgb = rangeColorToRgb(color);\n        if (coverRgb) {\n            const coverColor = {\n                r: coverRgb.r,\n                g: coverRgb.g,\n                b: coverRgb.b,\n                a: cover.opacity,\n            };\n            this._coverColorStyle = getStyleFromRgb(coverColor, coverColor.a);\n        }\n    }\n    _initStyle() {\n        const element = this.element, options = this.container.actualOptions;\n        if (!element) {\n            return;\n        }\n        if (this._fullScreen) {\n            this._originalStyle = deepExtend({}, element.style);\n            this._setFullScreenStyle();\n        }\n        else {\n            this._resetOriginalStyle();\n        }\n        for (const key in options.style) {\n            if (!key || !options.style) {\n                continue;\n            }\n            const value = options.style[key];\n            if (!value) {\n                continue;\n            }\n            element.style.setProperty(key, value, \"important\");\n        }\n    }\n    async _initTrail() {\n        const options = this.container.actualOptions, trail = options.particles.move.trail, trailFill = trail.fill;\n        if (!trail.enable) {\n            return;\n        }\n        if (trailFill.color) {\n            const fillColor = rangeColorToRgb(trailFill.color);\n            if (!fillColor) {\n                return;\n            }\n            const trail = options.particles.move.trail;\n            this._trailFill = {\n                color: Object.assign({}, fillColor),\n                opacity: 1 / trail.length,\n            };\n        }\n        else {\n            await new Promise((resolve, reject) => {\n                if (!trailFill.image) {\n                    return;\n                }\n                const img = document.createElement(\"img\");\n                img.addEventListener(\"load\", () => {\n                    this._trailFill = {\n                        image: img,\n                        opacity: 1 / trail.length,\n                    };\n                    resolve();\n                });\n                img.addEventListener(\"error\", (evt) => {\n                    reject(evt.error);\n                });\n                img.src = trailFill.image;\n            });\n        }\n    }\n    _paintBase(baseColor) {\n        this.draw((ctx) => {\n            paintBase(ctx, this.size, baseColor);\n        });\n    }\n    _paintImage(image, opacity) {\n        this.draw((ctx) => {\n            paintImage(ctx, this.size, image, opacity);\n        });\n    }\n    _repairStyle() {\n        var _a, _b;\n        const element = this.element;\n        if (!element) {\n            return;\n        }\n        (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        this._initStyle();\n        this.initBackground();\n        (_b = this._mutationObserver) === null || _b === void 0 ? void 0 : _b.observe(element, { attributes: true });\n    }\n    _resetOriginalStyle() {\n        const element = this.element, originalStyle = this._originalStyle;\n        if (!(element && originalStyle)) {\n            return;\n        }\n        element.style.position = originalStyle.position;\n        element.style.zIndex = originalStyle.zIndex;\n        element.style.top = originalStyle.top;\n        element.style.left = originalStyle.left;\n        element.style.width = originalStyle.width;\n        element.style.height = originalStyle.height;\n    }\n    _setFullScreenStyle() {\n        const element = this.element;\n        if (!element) {\n            return;\n        }\n        const priority = \"important\";\n        element.style.setProperty(\"position\", \"fixed\", priority);\n        element.style.setProperty(\"z-index\", this.container.actualOptions.fullScreen.zIndex.toString(10), priority);\n        element.style.setProperty(\"top\", \"0\", priority);\n        element.style.setProperty(\"left\", \"0\", priority);\n        element.style.setProperty(\"width\", \"100%\", priority);\n        element.style.setProperty(\"height\", \"100%\", priority);\n    }\n}\n","import { executeOnSingleOrMultiple, safeMatchMedia } from \"../../Utils/Utils\";\nimport { mouseDownEvent, mouseLeaveEvent, mouseMoveEvent, mouseOutEvent, mouseUpEvent, resizeEvent, touchCancelEvent, touchEndEvent, touchMoveEvent, touchStartEvent, visibilityChangeEvent, } from \"./Constants\";\nfunction manageListener(element, event, handler, add, options) {\n    if (add) {\n        let addOptions = { passive: true };\n        if (typeof options === \"boolean\") {\n            addOptions.capture = options;\n        }\n        else if (options !== undefined) {\n            addOptions = options;\n        }\n        element.addEventListener(event, handler, addOptions);\n    }\n    else {\n        const removeOptions = options;\n        element.removeEventListener(event, handler, removeOptions);\n    }\n}\nexport class EventListeners {\n    constructor(container) {\n        this.container = container;\n        this.canPush = true;\n        this.handlers = {\n            mouseMove: (e) => this.mouseTouchMove(e),\n            touchStart: (e) => this.mouseTouchMove(e),\n            touchMove: (e) => this.mouseTouchMove(e),\n            touchEnd: () => this.mouseTouchFinish(),\n            mouseLeave: () => this.mouseTouchFinish(),\n            touchCancel: () => this.mouseTouchFinish(),\n            touchEndClick: (e) => this.mouseTouchClick(e),\n            mouseUp: (e) => this.mouseTouchClick(e),\n            mouseDown: () => this.mouseDown(),\n            visibilityChange: () => this.handleVisibilityChange(),\n            themeChange: (e) => this.handleThemeChange(e),\n            oldThemeChange: (e) => this.handleThemeChange(e),\n            resize: () => this.handleWindowResize(),\n        };\n    }\n    addListeners() {\n        this.manageListeners(true);\n    }\n    removeListeners() {\n        this.manageListeners(false);\n    }\n    doMouseTouchClick(e) {\n        const container = this.container, options = container.actualOptions;\n        if (this.canPush) {\n            const mouseInteractivity = container.interactivity.mouse, mousePos = mouseInteractivity.position;\n            if (!mousePos) {\n                return;\n            }\n            mouseInteractivity.clickPosition = Object.assign({}, mousePos);\n            mouseInteractivity.clickTime = new Date().getTime();\n            const onClick = options.interactivity.events.onClick;\n            executeOnSingleOrMultiple(onClick.mode, (mode) => this.handleClickMode(mode));\n        }\n        if (e.type === \"touchend\") {\n            setTimeout(() => this.mouseTouchFinish(), 500);\n        }\n    }\n    handleClickMode(mode) {\n        this.container.handleClickMode(mode);\n    }\n    handleThemeChange(e) {\n        const mediaEvent = e, container = this.container, options = container.options, defaultThemes = options.defaultThemes, themeName = mediaEvent.matches ? defaultThemes.dark : defaultThemes.light, theme = options.themes.find((theme) => theme.name === themeName);\n        if (theme && theme.default.auto) {\n            container.loadTheme(themeName);\n        }\n    }\n    handleVisibilityChange() {\n        const container = this.container, options = container.actualOptions;\n        this.mouseTouchFinish();\n        if (!options.pauseOnBlur) {\n            return;\n        }\n        if (document === null || document === void 0 ? void 0 : document.hidden) {\n            container.pageHidden = true;\n            container.pause();\n        }\n        else {\n            container.pageHidden = false;\n            if (container.getAnimationStatus()) {\n                container.play(true);\n            }\n            else {\n                container.draw(true);\n            }\n        }\n    }\n    handleWindowResize() {\n        if (this.resizeTimeout) {\n            clearTimeout(this.resizeTimeout);\n            delete this.resizeTimeout;\n        }\n        this.resizeTimeout = setTimeout(async () => { var _a; return (_a = this.container.canvas) === null || _a === void 0 ? void 0 : _a.windowResize(); }, this.container.actualOptions.interactivity.events.resize.delay * 1000);\n    }\n    manageListeners(add) {\n        var _a;\n        const handlers = this.handlers, container = this.container, options = container.actualOptions, detectType = options.interactivity.detectsOn;\n        let mouseLeaveTmpEvent = mouseLeaveEvent;\n        if (detectType === \"window\") {\n            container.interactivity.element = window;\n            mouseLeaveTmpEvent = mouseOutEvent;\n        }\n        else if (detectType === \"parent\" && container.canvas.element) {\n            const canvasEl = container.canvas.element;\n            container.interactivity.element = (_a = canvasEl.parentElement) !== null && _a !== void 0 ? _a : canvasEl.parentNode;\n        }\n        else {\n            container.interactivity.element = container.canvas.element;\n        }\n        const mediaMatch = safeMatchMedia(\"(prefers-color-scheme: dark)\");\n        if (mediaMatch) {\n            if (mediaMatch.addEventListener !== undefined) {\n                manageListener(mediaMatch, \"change\", handlers.themeChange, add);\n            }\n            else if (mediaMatch.addListener !== undefined) {\n                if (add) {\n                    mediaMatch.addListener(handlers.oldThemeChange);\n                }\n                else {\n                    mediaMatch.removeListener(handlers.oldThemeChange);\n                }\n            }\n        }\n        const interactivityEl = container.interactivity.element;\n        if (!interactivityEl) {\n            return;\n        }\n        const html = interactivityEl;\n        if (options.interactivity.events.onHover.enable || options.interactivity.events.onClick.enable) {\n            manageListener(interactivityEl, mouseMoveEvent, handlers.mouseMove, add);\n            manageListener(interactivityEl, touchStartEvent, handlers.touchStart, add);\n            manageListener(interactivityEl, touchMoveEvent, handlers.touchMove, add);\n            if (!options.interactivity.events.onClick.enable) {\n                manageListener(interactivityEl, touchEndEvent, handlers.touchEnd, add);\n            }\n            else {\n                manageListener(interactivityEl, touchEndEvent, handlers.touchEndClick, add);\n                manageListener(interactivityEl, mouseUpEvent, handlers.mouseUp, add);\n                manageListener(interactivityEl, mouseDownEvent, handlers.mouseDown, add);\n            }\n            manageListener(interactivityEl, mouseLeaveTmpEvent, handlers.mouseLeave, add);\n            manageListener(interactivityEl, touchCancelEvent, handlers.touchCancel, add);\n        }\n        if (container.canvas.element) {\n            container.canvas.element.style.pointerEvents = html === container.canvas.element ? \"initial\" : \"none\";\n        }\n        if (options.interactivity.events.resize) {\n            if (typeof ResizeObserver !== \"undefined\") {\n                if (this.resizeObserver && !add) {\n                    if (container.canvas.element) {\n                        this.resizeObserver.unobserve(container.canvas.element);\n                    }\n                    this.resizeObserver.disconnect();\n                    delete this.resizeObserver;\n                }\n                else if (!this.resizeObserver && add && container.canvas.element) {\n                    this.resizeObserver = new ResizeObserver((entries) => {\n                        const entry = entries.find((e) => e.target === container.canvas.element);\n                        if (!entry) {\n                            return;\n                        }\n                        this.handleWindowResize();\n                    });\n                    this.resizeObserver.observe(container.canvas.element);\n                }\n            }\n            else {\n                manageListener(window, resizeEvent, handlers.resize, add);\n            }\n        }\n        if (document) {\n            manageListener(document, visibilityChangeEvent, handlers.visibilityChange, add, false);\n        }\n    }\n    mouseDown() {\n        const interactivity = this.container.interactivity;\n        if (interactivity) {\n            const mouse = interactivity.mouse;\n            mouse.clicking = true;\n            mouse.downPosition = mouse.position;\n        }\n    }\n    mouseTouchClick(e) {\n        const container = this.container, options = container.actualOptions, mouse = container.interactivity.mouse;\n        mouse.inside = true;\n        let handled = false;\n        const mousePosition = mouse.position;\n        if (!mousePosition || !options.interactivity.events.onClick.enable) {\n            return;\n        }\n        for (const [, plugin] of container.plugins) {\n            if (!plugin.clickPositionValid) {\n                continue;\n            }\n            handled = plugin.clickPositionValid(mousePosition);\n            if (handled) {\n                break;\n            }\n        }\n        if (!handled) {\n            this.doMouseTouchClick(e);\n        }\n        mouse.clicking = false;\n    }\n    mouseTouchFinish() {\n        const interactivity = this.container.interactivity;\n        if (!interactivity) {\n            return;\n        }\n        const mouse = interactivity.mouse;\n        delete mouse.position;\n        delete mouse.clickPosition;\n        delete mouse.downPosition;\n        interactivity.status = mouseLeaveEvent;\n        mouse.inside = false;\n        mouse.clicking = false;\n    }\n    mouseTouchMove(e) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const container = this.container, options = container.actualOptions;\n        if (!((_a = container.interactivity) === null || _a === void 0 ? void 0 : _a.element)) {\n            return;\n        }\n        container.interactivity.mouse.inside = true;\n        let pos;\n        const canvas = container.canvas.element;\n        if (e.type.startsWith(\"pointer\")) {\n            this.canPush = true;\n            const mouseEvent = e;\n            if (container.interactivity.element === window) {\n                if (canvas) {\n                    const clientRect = canvas.getBoundingClientRect();\n                    pos = {\n                        x: mouseEvent.clientX - clientRect.left,\n                        y: mouseEvent.clientY - clientRect.top,\n                    };\n                }\n            }\n            else if (options.interactivity.detectsOn === \"parent\") {\n                const source = mouseEvent.target, target = mouseEvent.currentTarget, canvasEl = container.canvas.element;\n                if (source && target && canvasEl) {\n                    const sourceRect = source.getBoundingClientRect(), targetRect = target.getBoundingClientRect(), canvasRect = canvasEl.getBoundingClientRect();\n                    pos = {\n                        x: mouseEvent.offsetX + 2 * sourceRect.left - (targetRect.left + canvasRect.left),\n                        y: mouseEvent.offsetY + 2 * sourceRect.top - (targetRect.top + canvasRect.top),\n                    };\n                }\n                else {\n                    pos = {\n                        x: (_b = mouseEvent.offsetX) !== null && _b !== void 0 ? _b : mouseEvent.clientX,\n                        y: (_c = mouseEvent.offsetY) !== null && _c !== void 0 ? _c : mouseEvent.clientY,\n                    };\n                }\n            }\n            else if (mouseEvent.target === container.canvas.element) {\n                pos = {\n                    x: (_d = mouseEvent.offsetX) !== null && _d !== void 0 ? _d : mouseEvent.clientX,\n                    y: (_e = mouseEvent.offsetY) !== null && _e !== void 0 ? _e : mouseEvent.clientY,\n                };\n            }\n        }\n        else {\n            this.canPush = e.type !== \"touchmove\";\n            const touchEvent = e, lastTouch = touchEvent.touches[touchEvent.touches.length - 1], canvasRect = canvas === null || canvas === void 0 ? void 0 : canvas.getBoundingClientRect();\n            pos = {\n                x: lastTouch.clientX - ((_f = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.left) !== null && _f !== void 0 ? _f : 0),\n                y: lastTouch.clientY - ((_g = canvasRect === null || canvasRect === void 0 ? void 0 : canvasRect.top) !== null && _g !== void 0 ? _g : 0),\n            };\n        }\n        const pxRatio = container.retina.pixelRatio;\n        if (pos) {\n            pos.x *= pxRatio;\n            pos.y *= pxRatio;\n        }\n        container.interactivity.mouse.position = pos;\n        container.interactivity.status = mouseMoveEvent;\n    }\n}\n","function initDelta(value, fpsLimit = 60, smooth = false) {\n    return {\n        value,\n        factor: smooth ? 60 / fpsLimit : (60 * value) / 1000,\n    };\n}\nexport class FrameManager {\n    constructor(container) {\n        this.container = container;\n    }\n    async nextFrame(timestamp) {\n        var _a;\n        try {\n            const container = this.container;\n            if (!container.smooth &&\n                container.lastFrameTime !== undefined &&\n                timestamp < container.lastFrameTime + 1000 / container.fpsLimit) {\n                container.draw(false);\n                return;\n            }\n            (_a = container.lastFrameTime) !== null && _a !== void 0 ? _a : (container.lastFrameTime = timestamp);\n            const delta = initDelta(timestamp - container.lastFrameTime, container.fpsLimit, container.smooth);\n            container.lifeTime += delta.value;\n            container.lastFrameTime = timestamp;\n            if (delta.value > 1000) {\n                container.draw(false);\n                return;\n            }\n            await container.particles.draw(delta);\n            if (container.duration > 0 && container.lifeTime > container.duration) {\n                container.destroy();\n                return;\n            }\n            if (container.getAnimationStatus()) {\n                container.draw(false);\n            }\n        }\n        catch (e) {\n            console.error(\"tsParticles error in animation loop\", e);\n        }\n    }\n}\n","export class OptionsColor {\n    constructor() {\n        this.value = \"\";\n    }\n    static create(source, data) {\n        const color = new OptionsColor();\n        color.load(source);\n        if (data !== undefined) {\n            if (typeof data === \"string\" || data instanceof Array) {\n                color.load({ value: data });\n            }\n            else {\n                color.load(data);\n            }\n        }\n        return color;\n    }\n    load(data) {\n        if ((data === null || data === void 0 ? void 0 : data.value) === undefined) {\n            return;\n        }\n        this.value = data.value;\n    }\n}\n","import { OptionsColor } from \"../OptionsColor\";\nexport class Background {\n    constructor() {\n        this.color = new OptionsColor();\n        this.color.value = \"\";\n        this.image = \"\";\n        this.position = \"\";\n        this.repeat = \"\";\n        this.size = \"\";\n        this.opacity = 1;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.color !== undefined) {\n            this.color = OptionsColor.create(this.color, data.color);\n        }\n        if (data.image !== undefined) {\n            this.image = data.image;\n        }\n        if (data.position !== undefined) {\n            this.position = data.position;\n        }\n        if (data.repeat !== undefined) {\n            this.repeat = data.repeat;\n        }\n        if (data.size !== undefined) {\n            this.size = data.size;\n        }\n        if (data.opacity !== undefined) {\n            this.opacity = data.opacity;\n        }\n    }\n}\n","import { OptionsColor } from \"../OptionsColor\";\nexport class BackgroundMaskCover {\n    constructor() {\n        this.color = new OptionsColor();\n        this.color.value = \"#fff\";\n        this.opacity = 1;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.color !== undefined) {\n            this.color = OptionsColor.create(this.color, data.color);\n        }\n        if (data.opacity !== undefined) {\n            this.opacity = data.opacity;\n        }\n    }\n}\n","import { BackgroundMaskCover } from \"./BackgroundMaskCover\";\nexport class BackgroundMask {\n    constructor() {\n        this.composite = \"destination-out\";\n        this.cover = new BackgroundMaskCover();\n        this.enable = false;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.composite !== undefined) {\n            this.composite = data.composite;\n        }\n        if (data.cover !== undefined) {\n            const cover = data.cover;\n            const color = (typeof data.cover === \"string\" ? { color: data.cover } : data.cover);\n            this.cover.load(cover.color !== undefined ? cover : { color: color });\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n    }\n}\n","export class FullScreen {\n    constructor() {\n        this.enable = true;\n        this.zIndex = 0;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.zIndex !== undefined) {\n            this.zIndex = data.zIndex;\n        }\n    }\n}\n","export class ClickEvent {\n    constructor() {\n        this.enable = false;\n        this.mode = [];\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.mode !== undefined) {\n            this.mode = data.mode;\n        }\n    }\n}\n","import { executeOnSingleOrMultiple } from \"../../../../Utils/Utils\";\nexport class DivEvent {\n    constructor() {\n        this.selectors = [];\n        this.enable = false;\n        this.mode = [];\n        this.type = \"circle\";\n    }\n    get el() {\n        return this.elementId;\n    }\n    set el(value) {\n        this.elementId = value;\n    }\n    get elementId() {\n        return this.ids;\n    }\n    set elementId(value) {\n        this.ids = value;\n    }\n    get ids() {\n        return executeOnSingleOrMultiple(this.selectors, (t) => t.replace(\"#\", \"\"));\n    }\n    set ids(value) {\n        this.selectors = executeOnSingleOrMultiple(value, (t) => `#${t}`);\n    }\n    load(data) {\n        var _a, _b;\n        if (!data) {\n            return;\n        }\n        const ids = (_b = (_a = data.ids) !== null && _a !== void 0 ? _a : data.elementId) !== null && _b !== void 0 ? _b : data.el;\n        if (ids !== undefined) {\n            this.ids = ids;\n        }\n        if (data.selectors !== undefined) {\n            this.selectors = data.selectors;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.mode !== undefined) {\n            this.mode = data.mode;\n        }\n        if (data.type !== undefined) {\n            this.type = data.type;\n        }\n    }\n}\n","export class Parallax {\n    constructor() {\n        this.enable = false;\n        this.force = 2;\n        this.smooth = 10;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.force !== undefined) {\n            this.force = data.force;\n        }\n        if (data.smooth !== undefined) {\n            this.smooth = data.smooth;\n        }\n    }\n}\n","import { Parallax } from \"./Parallax\";\nexport class HoverEvent {\n    constructor() {\n        this.enable = false;\n        this.mode = [];\n        this.parallax = new Parallax();\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.mode !== undefined) {\n            this.mode = data.mode;\n        }\n        this.parallax.load(data.parallax);\n    }\n}\n","export class ResizeEvent {\n    constructor() {\n        this.delay = 0.5;\n        this.enable = true;\n    }\n    load(data) {\n        if (data === undefined) {\n            return;\n        }\n        if (data.delay !== undefined) {\n            this.delay = data.delay;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n    }\n}\n","import { ClickEvent } from \"./ClickEvent\";\nimport { DivEvent } from \"./DivEvent\";\nimport { HoverEvent } from \"./HoverEvent\";\nimport { ResizeEvent } from \"./ResizeEvent\";\nimport { executeOnSingleOrMultiple } from \"../../../../Utils/Utils\";\nexport class Events {\n    constructor() {\n        this.onClick = new ClickEvent();\n        this.onDiv = new DivEvent();\n        this.onHover = new HoverEvent();\n        this.resize = new ResizeEvent();\n    }\n    get onclick() {\n        return this.onClick;\n    }\n    set onclick(value) {\n        this.onClick = value;\n    }\n    get ondiv() {\n        return this.onDiv;\n    }\n    set ondiv(value) {\n        this.onDiv = value;\n    }\n    get onhover() {\n        return this.onHover;\n    }\n    set onhover(value) {\n        this.onHover = value;\n    }\n    load(data) {\n        var _a, _b, _c;\n        if (!data) {\n            return;\n        }\n        this.onClick.load((_a = data.onClick) !== null && _a !== void 0 ? _a : data.onclick);\n        const onDiv = (_b = data.onDiv) !== null && _b !== void 0 ? _b : data.ondiv;\n        if (onDiv !== undefined) {\n            this.onDiv = executeOnSingleOrMultiple(onDiv, (t) => {\n                const tmp = new DivEvent();\n                tmp.load(t);\n                return tmp;\n            });\n        }\n        this.onHover.load((_c = data.onHover) !== null && _c !== void 0 ? _c : data.onhover);\n        if (typeof data.resize === \"boolean\") {\n            this.resize.enable = data.resize;\n        }\n        else {\n            this.resize.load(data.resize);\n        }\n    }\n}\n","export class Modes {\n    constructor(engine, container) {\n        this._engine = engine;\n        this._container = container;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (this._container) {\n            const interactors = this._engine.plugins.interactors.get(this._container);\n            if (interactors) {\n                for (const interactor of interactors) {\n                    if (interactor.loadModeOptions) {\n                        interactor.loadModeOptions(this, data);\n                    }\n                }\n            }\n        }\n    }\n}\n","import { Events } from \"./Events/Events\";\nimport { Modes } from \"./Modes/Modes\";\nexport class Interactivity {\n    constructor(engine, container) {\n        this.detectsOn = \"window\";\n        this.events = new Events();\n        this.modes = new Modes(engine, container);\n    }\n    get detect_on() {\n        return this.detectsOn;\n    }\n    set detect_on(value) {\n        this.detectsOn = value;\n    }\n    load(data) {\n        var _a;\n        if (!data) {\n            return;\n        }\n        const detectsOn = (_a = data.detectsOn) !== null && _a !== void 0 ? _a : data.detect_on;\n        if (detectsOn !== undefined) {\n            this.detectsOn = detectsOn;\n        }\n        this.events.load(data.events);\n        this.modes.load(data.modes);\n    }\n}\n","import { deepExtend } from \"../../Utils/Utils\";\nexport class ManualParticle {\n    load(data) {\n        var _a, _b;\n        if (!data) {\n            return;\n        }\n        if (data.position !== undefined) {\n            this.position = {\n                x: (_a = data.position.x) !== null && _a !== void 0 ? _a : 50,\n                y: (_b = data.position.y) !== null && _b !== void 0 ? _b : 50,\n            };\n        }\n        if (data.options !== undefined) {\n            this.options = deepExtend({}, data.options);\n        }\n    }\n}\n","import { deepExtend } from \"../../Utils/Utils\";\nexport class Responsive {\n    constructor() {\n        this.maxWidth = Infinity;\n        this.options = {};\n        this.mode = \"canvas\";\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.maxWidth !== undefined) {\n            this.maxWidth = data.maxWidth;\n        }\n        if (data.mode !== undefined) {\n            if (data.mode === \"screen\") {\n                this.mode = \"screen\";\n            }\n            else {\n                this.mode = \"canvas\";\n            }\n        }\n        if (data.options !== undefined) {\n            this.options = deepExtend({}, data.options);\n        }\n    }\n}\n","export class ThemeDefault {\n    constructor() {\n        this.auto = false;\n        this.mode = \"any\";\n        this.value = false;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.auto !== undefined) {\n            this.auto = data.auto;\n        }\n        if (data.mode !== undefined) {\n            this.mode = data.mode;\n        }\n        if (data.value !== undefined) {\n            this.value = data.value;\n        }\n    }\n}\n","import { ThemeDefault } from \"./ThemeDefault\";\nimport { deepExtend } from \"../../../Utils/Utils\";\nexport class Theme {\n    constructor() {\n        this.name = \"\";\n        this.default = new ThemeDefault();\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.name !== undefined) {\n            this.name = data.name;\n        }\n        this.default.load(data.default);\n        if (data.options !== undefined) {\n            this.options = deepExtend({}, data.options);\n        }\n    }\n}\n","import { setRangeValue } from \"../../Utils/NumberUtils\";\nexport class ColorAnimation {\n    constructor() {\n        this.count = 0;\n        this.enable = false;\n        this.offset = 0;\n        this.speed = 1;\n        this.decay = 0;\n        this.sync = true;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.count !== undefined) {\n            this.count = setRangeValue(data.count);\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.offset !== undefined) {\n            this.offset = setRangeValue(data.offset);\n        }\n        if (data.speed !== undefined) {\n            this.speed = setRangeValue(data.speed);\n        }\n        if (data.decay !== undefined) {\n            this.decay = setRangeValue(data.decay);\n        }\n        if (data.sync !== undefined) {\n            this.sync = data.sync;\n        }\n    }\n}\n","import { ColorAnimation } from \"./ColorAnimation\";\nexport class HslAnimation {\n    constructor() {\n        this.h = new ColorAnimation();\n        this.s = new ColorAnimation();\n        this.l = new ColorAnimation();\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        this.h.load(data.h);\n        this.s.load(data.s);\n        this.l.load(data.l);\n    }\n}\n","import { HslAnimation } from \"./HslAnimation\";\nimport { OptionsColor } from \"./OptionsColor\";\nexport class AnimatableColor extends OptionsColor {\n    constructor() {\n        super();\n        this.animation = new HslAnimation();\n    }\n    static create(source, data) {\n        const color = new AnimatableColor();\n        color.load(source);\n        if (data !== undefined) {\n            if (typeof data === \"string\" || data instanceof Array) {\n                color.load({ value: data });\n            }\n            else {\n                color.load(data);\n            }\n        }\n        return color;\n    }\n    load(data) {\n        super.load(data);\n        if (!data) {\n            return;\n        }\n        const colorAnimation = data.animation;\n        if (colorAnimation !== undefined) {\n            if (colorAnimation.enable !== undefined) {\n                this.animation.h.load(colorAnimation);\n            }\n            else {\n                this.animation.load(data.animation);\n            }\n        }\n    }\n}\n","export class CollisionsAbsorb {\n    constructor() {\n        this.speed = 2;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.speed !== undefined) {\n            this.speed = data.speed;\n        }\n    }\n}\n","export class CollisionsOverlap {\n    constructor() {\n        this.enable = true;\n        this.retries = 0;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.retries !== undefined) {\n            this.retries = data.retries;\n        }\n    }\n}\n","export class Random {\n    constructor() {\n        this.enable = false;\n        this.minimumValue = 0;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.minimumValue !== undefined) {\n            this.minimumValue = data.minimumValue;\n        }\n    }\n}\n","import { Random } from \"./Random\";\nimport { setRangeValue } from \"../../Utils/NumberUtils\";\nexport class ValueWithRandom {\n    constructor() {\n        this.random = new Random();\n        this.value = 0;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (typeof data.random === \"boolean\") {\n            this.random.enable = data.random;\n        }\n        else {\n            this.random.load(data.random);\n        }\n        if (data.value !== undefined) {\n            this.value = setRangeValue(data.value, this.random.enable ? this.random.minimumValue : undefined);\n        }\n    }\n}\n","import { ValueWithRandom } from \"../../ValueWithRandom\";\nexport class ParticlesBounceFactor extends ValueWithRandom {\n    constructor() {\n        super();\n        this.random.minimumValue = 0.1;\n        this.value = 1;\n    }\n}\n","import { ParticlesBounceFactor } from \"./ParticlesBounceFactor\";\nexport class ParticlesBounce {\n    constructor() {\n        this.horizontal = new ParticlesBounceFactor();\n        this.vertical = new ParticlesBounceFactor();\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        this.horizontal.load(data.horizontal);\n        this.vertical.load(data.vertical);\n    }\n}\n","import { CollisionsAbsorb } from \"./CollisionsAbsorb\";\nimport { CollisionsOverlap } from \"./CollisionsOverlap\";\nimport { ParticlesBounce } from \"../Bounce/ParticlesBounce\";\nexport class Collisions {\n    constructor() {\n        this.absorb = new CollisionsAbsorb();\n        this.bounce = new ParticlesBounce();\n        this.enable = false;\n        this.mode = \"bounce\";\n        this.overlap = new CollisionsOverlap();\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        this.absorb.load(data.absorb);\n        this.bounce.load(data.bounce);\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.mode !== undefined) {\n            this.mode = data.mode;\n        }\n        this.overlap.load(data.overlap);\n    }\n}\n","import { setRangeValue } from \"../../../../Utils/NumberUtils\";\nexport class MoveAngle {\n    constructor() {\n        this.offset = 0;\n        this.value = 90;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.offset !== undefined) {\n            this.offset = setRangeValue(data.offset);\n        }\n        if (data.value !== undefined) {\n            this.value = setRangeValue(data.value);\n        }\n    }\n}\n","import { setRangeValue } from \"../../../../Utils/NumberUtils\";\nexport class MoveAttract {\n    constructor() {\n        this.distance = 200;\n        this.enable = false;\n        this.rotate = {\n            x: 3000,\n            y: 3000,\n        };\n    }\n    get rotateX() {\n        return this.rotate.x;\n    }\n    set rotateX(value) {\n        this.rotate.x = value;\n    }\n    get rotateY() {\n        return this.rotate.y;\n    }\n    set rotateY(value) {\n        this.rotate.y = value;\n    }\n    load(data) {\n        var _a, _b, _c, _d;\n        if (!data) {\n            return;\n        }\n        if (data.distance !== undefined) {\n            this.distance = setRangeValue(data.distance);\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        const rotateX = (_b = (_a = data.rotate) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : data.rotateX;\n        if (rotateX !== undefined) {\n            this.rotate.x = rotateX;\n        }\n        const rotateY = (_d = (_c = data.rotate) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : data.rotateY;\n        if (rotateY !== undefined) {\n            this.rotate.y = rotateY;\n        }\n    }\n}\n","export class MoveCenter {\n    constructor() {\n        this.x = 50;\n        this.y = 50;\n        this.mode = \"percent\";\n        this.radius = 0;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.x !== undefined) {\n            this.x = data.x;\n        }\n        if (data.y !== undefined) {\n            this.y = data.y;\n        }\n        if (data.mode !== undefined) {\n            this.mode = data.mode;\n        }\n        if (data.radius !== undefined) {\n            this.radius = data.radius;\n        }\n    }\n}\n","import { setRangeValue } from \"../../../../Utils/NumberUtils\";\nexport class MoveGravity {\n    constructor() {\n        this.acceleration = 9.81;\n        this.enable = false;\n        this.inverse = false;\n        this.maxSpeed = 50;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.acceleration !== undefined) {\n            this.acceleration = setRangeValue(data.acceleration);\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.inverse !== undefined) {\n            this.inverse = data.inverse;\n        }\n        if (data.maxSpeed !== undefined) {\n            this.maxSpeed = setRangeValue(data.maxSpeed);\n        }\n    }\n}\n","import { ValueWithRandom } from \"../../../ValueWithRandom\";\nimport { deepExtend } from \"../../../../../Utils/Utils\";\nexport class MovePath {\n    constructor() {\n        this.clamp = true;\n        this.delay = new ValueWithRandom();\n        this.enable = false;\n        this.options = {};\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.clamp !== undefined) {\n            this.clamp = data.clamp;\n        }\n        this.delay.load(data.delay);\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        this.generator = data.generator;\n        if (data.options) {\n            this.options = deepExtend(this.options, data.options);\n        }\n    }\n}\n","import { OptionsColor } from \"../../OptionsColor\";\nexport class MoveTrailFill {\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.color !== undefined) {\n            this.color = OptionsColor.create(this.color, data.color);\n        }\n        if (data.image !== undefined) {\n            this.image = data.image;\n        }\n    }\n}\n","import { MoveTrailFill } from \"./MoveTrailFill\";\nexport class MoveTrail {\n    constructor() {\n        this.enable = false;\n        this.length = 10;\n        this.fill = new MoveTrailFill();\n    }\n    get fillColor() {\n        return this.fill.color;\n    }\n    set fillColor(value) {\n        this.fill.load({ color: value });\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.fill !== undefined || data.fillColor !== undefined) {\n            this.fill.load(data.fill || { color: data.fillColor });\n        }\n        if (data.length !== undefined) {\n            this.length = data.length;\n        }\n    }\n}\n","export class OutModes {\n    constructor() {\n        this.default = \"out\";\n    }\n    load(data) {\n        var _a, _b, _c, _d;\n        if (!data) {\n            return;\n        }\n        if (data.default !== undefined) {\n            this.default = data.default;\n        }\n        this.bottom = (_a = data.bottom) !== null && _a !== void 0 ? _a : data.default;\n        this.left = (_b = data.left) !== null && _b !== void 0 ? _b : data.default;\n        this.right = (_c = data.right) !== null && _c !== void 0 ? _c : data.default;\n        this.top = (_d = data.top) !== null && _d !== void 0 ? _d : data.default;\n    }\n}\n","import { deepExtend } from \"../../../../Utils/Utils\";\nimport { setRangeValue } from \"../../../../Utils/NumberUtils\";\nexport class Spin {\n    constructor() {\n        this.acceleration = 0;\n        this.enable = false;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.acceleration !== undefined) {\n            this.acceleration = setRangeValue(data.acceleration);\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        this.position = data.position ? deepExtend({}, data.position) : undefined;\n    }\n}\n","import { MoveAngle } from \"./MoveAngle\";\nimport { MoveAttract } from \"./MoveAttract\";\nimport { MoveCenter } from \"./MoveCenter\";\nimport { MoveGravity } from \"./MoveGravity\";\nimport { MovePath } from \"./Path/MovePath\";\nimport { MoveTrail } from \"./MoveTrail\";\nimport { OutModes } from \"./OutModes\";\nimport { Spin } from \"./Spin\";\nimport { setRangeValue } from \"../../../../Utils/NumberUtils\";\nexport class Move {\n    constructor() {\n        this.angle = new MoveAngle();\n        this.attract = new MoveAttract();\n        this.center = new MoveCenter();\n        this.decay = 0;\n        this.distance = {};\n        this.direction = \"none\";\n        this.drift = 0;\n        this.enable = false;\n        this.gravity = new MoveGravity();\n        this.path = new MovePath();\n        this.outModes = new OutModes();\n        this.random = false;\n        this.size = false;\n        this.speed = 2;\n        this.spin = new Spin();\n        this.straight = false;\n        this.trail = new MoveTrail();\n        this.vibrate = false;\n        this.warp = false;\n    }\n    get bounce() {\n        return this.collisions;\n    }\n    set bounce(value) {\n        this.collisions = value;\n    }\n    get collisions() {\n        return false;\n    }\n    set collisions(_) {\n    }\n    get noise() {\n        return this.path;\n    }\n    set noise(value) {\n        this.path = value;\n    }\n    get outMode() {\n        return this.outModes.default;\n    }\n    set outMode(value) {\n        this.outModes.default = value;\n    }\n    get out_mode() {\n        return this.outMode;\n    }\n    set out_mode(value) {\n        this.outMode = value;\n    }\n    load(data) {\n        var _a, _b, _c;\n        if (!data) {\n            return;\n        }\n        this.angle.load(typeof data.angle === \"number\" ? { value: data.angle } : data.angle);\n        this.attract.load(data.attract);\n        this.center.load(data.center);\n        if (data.decay !== undefined) {\n            this.decay = setRangeValue(data.decay);\n        }\n        if (data.direction !== undefined) {\n            this.direction = data.direction;\n        }\n        if (data.distance !== undefined) {\n            this.distance =\n                typeof data.distance === \"number\"\n                    ? {\n                        horizontal: data.distance,\n                        vertical: data.distance,\n                    }\n                    : Object.assign({}, data.distance);\n        }\n        if (data.drift !== undefined) {\n            this.drift = setRangeValue(data.drift);\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        this.gravity.load(data.gravity);\n        const outModes = (_b = (_a = data.outModes) !== null && _a !== void 0 ? _a : data.outMode) !== null && _b !== void 0 ? _b : data.out_mode;\n        if (outModes !== undefined) {\n            if (typeof outModes === \"object\") {\n                this.outModes.load(outModes);\n            }\n            else {\n                this.outModes.load({\n                    default: outModes,\n                });\n            }\n        }\n        this.path.load((_c = data.path) !== null && _c !== void 0 ? _c : data.noise);\n        if (data.random !== undefined) {\n            this.random = data.random;\n        }\n        if (data.size !== undefined) {\n            this.size = data.size;\n        }\n        if (data.speed !== undefined) {\n            this.speed = setRangeValue(data.speed);\n        }\n        this.spin.load(data.spin);\n        if (data.straight !== undefined) {\n            this.straight = data.straight;\n        }\n        this.trail.load(data.trail);\n        if (data.vibrate !== undefined) {\n            this.vibrate = data.vibrate;\n        }\n        if (data.warp !== undefined) {\n            this.warp = data.warp;\n        }\n    }\n}\n","import { setRangeValue } from \"../../Utils/NumberUtils\";\nexport class AnimationOptions {\n    constructor() {\n        this.count = 0;\n        this.enable = false;\n        this.speed = 1;\n        this.decay = 0;\n        this.sync = false;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.count !== undefined) {\n            this.count = setRangeValue(data.count);\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.speed !== undefined) {\n            this.speed = setRangeValue(data.speed);\n        }\n        if (data.decay !== undefined) {\n            this.decay = setRangeValue(data.decay);\n        }\n        if (data.sync !== undefined) {\n            this.sync = data.sync;\n        }\n    }\n}\n","import { AnimationOptions } from \"../../AnimationOptions\";\nexport class OpacityAnimation extends AnimationOptions {\n    constructor() {\n        super();\n        this.destroy = \"none\";\n        this.enable = false;\n        this.speed = 2;\n        this.startValue = \"random\";\n        this.sync = false;\n    }\n    get opacity_min() {\n        return this.minimumValue;\n    }\n    set opacity_min(value) {\n        this.minimumValue = value;\n    }\n    load(data) {\n        var _a;\n        if (!data) {\n            return;\n        }\n        super.load(data);\n        if (data.destroy !== undefined) {\n            this.destroy = data.destroy;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        this.minimumValue = (_a = data.minimumValue) !== null && _a !== void 0 ? _a : data.opacity_min;\n        if (data.speed !== undefined) {\n            this.speed = data.speed;\n        }\n        if (data.startValue !== undefined) {\n            this.startValue = data.startValue;\n        }\n        if (data.sync !== undefined) {\n            this.sync = data.sync;\n        }\n    }\n}\n","import { OpacityAnimation } from \"./OpacityAnimation\";\nimport { ValueWithRandom } from \"../../ValueWithRandom\";\nimport { setRangeValue } from \"../../../../Utils/NumberUtils\";\nexport class Opacity extends ValueWithRandom {\n    constructor() {\n        super();\n        this.animation = new OpacityAnimation();\n        this.random.minimumValue = 0.1;\n        this.value = 1;\n    }\n    get anim() {\n        return this.animation;\n    }\n    set anim(value) {\n        this.animation = value;\n    }\n    load(data) {\n        var _a;\n        if (!data) {\n            return;\n        }\n        super.load(data);\n        const animation = (_a = data.animation) !== null && _a !== void 0 ? _a : data.anim;\n        if (animation !== undefined) {\n            this.animation.load(animation);\n            this.value = setRangeValue(this.value, this.animation.enable ? this.animation.minimumValue : undefined);\n        }\n    }\n}\n","export class ParticlesDensity {\n    constructor() {\n        this.enable = false;\n        this.width = 1920;\n        this.height = 1080;\n    }\n    get area() {\n        return this.width;\n    }\n    set area(value) {\n        this.width = value;\n    }\n    get factor() {\n        return this.height;\n    }\n    set factor(value) {\n        this.height = value;\n    }\n    get value_area() {\n        return this.area;\n    }\n    set value_area(value) {\n        this.area = value;\n    }\n    load(data) {\n        var _a, _b, _c;\n        if (!data) {\n            return;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        const width = (_b = (_a = data.width) !== null && _a !== void 0 ? _a : data.area) !== null && _b !== void 0 ? _b : data.value_area;\n        if (width !== undefined) {\n            this.width = width;\n        }\n        const height = (_c = data.height) !== null && _c !== void 0 ? _c : data.factor;\n        if (height !== undefined) {\n            this.height = height;\n        }\n    }\n}\n","import { ParticlesDensity } from \"./ParticlesDensity\";\nexport class ParticlesNumber {\n    constructor() {\n        this.density = new ParticlesDensity();\n        this.limit = 0;\n        this.value = 100;\n    }\n    get max() {\n        return this.limit;\n    }\n    set max(value) {\n        this.limit = value;\n    }\n    load(data) {\n        var _a;\n        if (!data) {\n            return;\n        }\n        this.density.load(data.density);\n        const limit = (_a = data.limit) !== null && _a !== void 0 ? _a : data.max;\n        if (limit !== undefined) {\n            this.limit = limit;\n        }\n        if (data.value !== undefined) {\n            this.value = data.value;\n        }\n    }\n}\n","import { OptionsColor } from \"../OptionsColor\";\nexport class Shadow {\n    constructor() {\n        this.blur = 0;\n        this.color = new OptionsColor();\n        this.enable = false;\n        this.offset = {\n            x: 0,\n            y: 0,\n        };\n        this.color.value = \"#000\";\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.blur !== undefined) {\n            this.blur = data.blur;\n        }\n        this.color = OptionsColor.create(this.color, data.color);\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        if (data.offset === undefined) {\n            return;\n        }\n        if (data.offset.x !== undefined) {\n            this.offset.x = data.offset.x;\n        }\n        if (data.offset.y !== undefined) {\n            this.offset.y = data.offset.y;\n        }\n    }\n}\n","import { deepExtend } from \"../../../../Utils/Utils\";\nconst charKey = \"character\", charAltKey = \"char\", imageKey = \"image\", imageAltKey = \"images\", polygonKey = \"polygon\", polygonAltKey = \"star\";\nexport class Shape {\n    constructor() {\n        this.options = {};\n        this.type = \"circle\";\n    }\n    get character() {\n        var _a;\n        return ((_a = this.options[charKey]) !== null && _a !== void 0 ? _a : this.options[charAltKey]);\n    }\n    set character(value) {\n        this.options[charAltKey] = this.options[charKey] = value;\n    }\n    get custom() {\n        return this.options;\n    }\n    set custom(value) {\n        this.options = value;\n    }\n    get image() {\n        var _a;\n        return ((_a = this.options[imageKey]) !== null && _a !== void 0 ? _a : this.options[imageAltKey]);\n    }\n    set image(value) {\n        this.options[imageAltKey] = this.options[imageKey] = value;\n    }\n    get images() {\n        return this.image;\n    }\n    set images(value) {\n        this.image = value;\n    }\n    get polygon() {\n        var _a;\n        return ((_a = this.options[polygonKey]) !== null && _a !== void 0 ? _a : this.options[polygonAltKey]);\n    }\n    set polygon(value) {\n        this.options[polygonAltKey] = this.options[polygonKey] = value;\n    }\n    get stroke() {\n        return [];\n    }\n    set stroke(_value) {\n    }\n    load(data) {\n        var _a, _b, _c;\n        if (!data) {\n            return;\n        }\n        const options = (_a = data.options) !== null && _a !== void 0 ? _a : data.custom;\n        if (options !== undefined) {\n            for (const shape in options) {\n                const item = options[shape];\n                if (item) {\n                    this.options[shape] = deepExtend((_b = this.options[shape]) !== null && _b !== void 0 ? _b : {}, item);\n                }\n            }\n        }\n        this.loadShape(data.character, charKey, charAltKey, true);\n        this.loadShape(data.polygon, polygonKey, polygonAltKey, false);\n        this.loadShape((_c = data.image) !== null && _c !== void 0 ? _c : data.images, imageKey, imageAltKey, true);\n        if (data.type !== undefined) {\n            this.type = data.type;\n        }\n    }\n    loadShape(item, mainKey, altKey, altOverride) {\n        var _a, _b;\n        if (!item) {\n            return;\n        }\n        const isArray = item instanceof Array;\n        const emptyValue = isArray ? [] : {}, mainDifferentValues = isArray !== this.options[mainKey] instanceof Array, altDifferentValues = isArray !== this.options[altKey] instanceof Array;\n        if (mainDifferentValues) {\n            this.options[mainKey] = emptyValue;\n        }\n        if (altDifferentValues && altOverride) {\n            this.options[altKey] = emptyValue;\n        }\n        this.options[mainKey] = deepExtend((_a = this.options[mainKey]) !== null && _a !== void 0 ? _a : emptyValue, item);\n        if (!this.options[altKey] || altOverride) {\n            this.options[altKey] = deepExtend((_b = this.options[altKey]) !== null && _b !== void 0 ? _b : emptyValue, item);\n        }\n    }\n}\n","import { AnimationOptions } from \"../../AnimationOptions\";\nexport class SizeAnimation extends AnimationOptions {\n    constructor() {\n        super();\n        this.destroy = \"none\";\n        this.enable = false;\n        this.speed = 5;\n        this.startValue = \"random\";\n        this.sync = false;\n    }\n    get size_min() {\n        return this.minimumValue;\n    }\n    set size_min(value) {\n        this.minimumValue = value;\n    }\n    load(data) {\n        var _a;\n        super.load(data);\n        if (!data) {\n            return;\n        }\n        if (data.destroy !== undefined) {\n            this.destroy = data.destroy;\n        }\n        if (data.enable !== undefined) {\n            this.enable = data.enable;\n        }\n        this.minimumValue = (_a = data.minimumValue) !== null && _a !== void 0 ? _a : data.size_min;\n        if (data.speed !== undefined) {\n            this.speed = data.speed;\n        }\n        if (data.startValue !== undefined) {\n            this.startValue = data.startValue;\n        }\n        if (data.sync !== undefined) {\n            this.sync = data.sync;\n        }\n    }\n}\n","import { SizeAnimation } from \"./SizeAnimation\";\nimport { ValueWithRandom } from \"../../ValueWithRandom\";\nimport { setRangeValue } from \"../../../../Utils/NumberUtils\";\nexport class Size extends ValueWithRandom {\n    constructor() {\n        super();\n        this.animation = new SizeAnimation();\n        this.random.minimumValue = 1;\n        this.value = 3;\n    }\n    get anim() {\n        return this.animation;\n    }\n    set anim(value) {\n        this.animation = value;\n    }\n    load(data) {\n        var _a;\n        super.load(data);\n        if (!data) {\n            return;\n        }\n        const animation = (_a = data.animation) !== null && _a !== void 0 ? _a : data.anim;\n        if (animation !== undefined) {\n            this.animation.load(animation);\n            this.value = setRangeValue(this.value, this.animation.enable ? this.animation.minimumValue : undefined);\n        }\n    }\n}\n","import { AnimatableColor } from \"../AnimatableColor\";\nimport { setRangeValue } from \"../../../Utils/NumberUtils\";\nexport class Stroke {\n    constructor() {\n        this.width = 0;\n    }\n    load(data) {\n        if (!data) {\n            return;\n        }\n        if (data.color !== undefined) {\n            this.color = AnimatableColor.create(this.color, data.color);\n        }\n        if (data.width !== undefined) {\n            this.width = setRangeValue(data.width);\n        }\n        if (data.opacity !== undefined) {\n            this.opacity = setRangeValue(data.opacity);\n        }\n    }\n}\n","import { ValueWithRandom } from \"../../ValueWithRandom\";\nexport class ZIndex extends ValueWithRandom {\n    constructor() {\n        super();\n        this.opacityRate = 1;\n        this.sizeRate = 1;\n        this.velocityRate = 1;\n    }\n    load(data) {\n        super.load(data);\n        if (!data) {\n            return;\n        }\n        if (data.opacityRate !== undefined) {\n            this.opacityRate = data.opacityRate;\n        }\n        if (data.sizeRate !== undefined) {\n            this.sizeRate = data.sizeRate;\n        }\n        if (data.velocityRate !== undefined) {\n            this.velocityRate = data.velocityRate;\n        }\n    }\n}\n","import { deepExtend, executeOnSingleOrMultiple } from \"../../../Utils/Utils\";\nimport { AnimatableColor } from \"../AnimatableColor\";\nimport { Collisions } from \"./Collisions/Collisions\";\nimport { Move } from \"./Move/Move\";\nimport { Opacity } from \"./Opacity/Opacity\";\nimport { ParticlesBounce } from \"./Bounce/ParticlesBounce\";\nimport { ParticlesNumber } from \"./Number/ParticlesNumber\";\nimport { Shadow } from \"./Shadow\";\nimport { Shape } from \"./Shape/Shape\";\nimport { Size } from \"./Size/Size\";\nimport { Stroke } from \"./Stroke\";\nimport { ZIndex } from \"./ZIndex/ZIndex\";\nexport class ParticlesOptions {\n    constructor(engine, container) {\n        this._engine = engine;\n        this._container = container;\n        this.bounce = new ParticlesBounce();\n        this.collisions = new Collisions();\n        this.color = new AnimatableColor();\n        this.color.value = \"#fff\";\n        this.groups = {};\n        this.move = new Move();\n        this.number = new ParticlesNumber();\n        this.opacity = new Opacity();\n        this.reduceDuplicates = false;\n        this.shadow = new Shadow();\n        this.shape = new Shape();\n        this.size = new Size();\n        this.stroke = new Stroke();\n        this.zIndex = new ZIndex();\n    }\n    load(data) {\n        var _a, _b, _c, _d, _e, _f;\n        if (!data) {\n            return;\n        }\n        this.bounce.load(data.bounce);\n        this.color.load(AnimatableColor.create(this.color, data.color));\n        if (data.groups !== undefined) {\n            for (const group in data.groups) {\n                const item = data.groups[group];\n                if (item !== undefined) {\n                    this.groups[group] = deepExtend((_a = this.groups[group]) !== null && _a !== void 0 ? _a : {}, item);\n                }\n            }\n        }\n        this.move.load(data.move);\n        this.number.load(data.number);\n        this.opacity.load(data.opacity);\n        if (data.reduceDuplicates !== undefined) {\n            this.reduceDuplicates = data.reduceDuplicates;\n        }\n        this.shape.load(data.shape);\n        this.size.load(data.size);\n        this.shadow.load(data.shadow);\n        this.zIndex.load(data.zIndex);\n        const collisions = (_c = (_b = data.move) === null || _b === void 0 ? void 0 : _b.collisions) !== null && _c !== void 0 ? _c : (_d = data.move) === null || _d === void 0 ? void 0 : _d.bounce;\n        if (collisions !== undefined) {\n            this.collisions.enable = collisions;\n        }\n        this.collisions.load(data.collisions);\n        if (data.interactivity !== undefined) {\n            this.interactivity = deepExtend({}, data.interactivity);\n        }\n        const strokeToLoad = (_e = data.stroke) !== null && _e !== void 0 ? _e : (_f = data.shape) === null || _f === void 0 ? void 0 : _f.stroke;\n        if (strokeToLoad) {\n            this.stroke = executeOnSingleOrMultiple(strokeToLoad, (t) => {\n                const tmp = new Stroke();\n                tmp.load(t);\n                return tmp;\n            });\n        }\n        if (this._container) {\n            const updaters = this._engine.plugins.updaters.get(this._container);\n            if (updaters) {\n                for (const updater of updaters) {\n                    if (updater.loadOptions) {\n                        updater.loadOptions(this, data);\n                    }\n                }\n            }\n            const interactors = this._engine.plugins.interactors.get(this._container);\n            if (interactors) {\n                for (const interactor of interactors) {\n                    if (interactor.loadParticlesOptions) {\n                        interactor.loadParticlesOptions(this, data);\n                    }\n                }\n            }\n        }\n    }\n}\n","import { ParticlesOptions } from \"../Options/Classes/Particles/ParticlesOptions\";\nexport function loadOptions(options, ...sourceOptionsArr) {\n    for (const sourceOptions of sourceOptionsArr) {\n        options.load(sourceOptions);\n    }\n}\nexport function loadParticlesOptions(engine, container, ...sourceOptionsArr) {\n    const options = new ParticlesOptions(engine, container);\n    loadOptions(options, ...sourceOptionsArr);\n    return options;\n}\n","import { deepExtend, executeOnSingleOrMultiple, safeMatchMedia } from \"../../Utils/Utils\";\nimport { Background } from \"./Background/Background\";\nimport { BackgroundMask } from \"./BackgroundMask/BackgroundMask\";\nimport { FullScreen } from \"./FullScreen/FullScreen\";\nimport { Interactivity } from \"./Interactivity/Interactivity\";\nimport { ManualParticle } from \"./ManualParticle\";\nimport { Responsive } from \"./Responsive\";\nimport { Theme } from \"./Theme/Theme\";\nimport { loadParticlesOptions } from \"../../Utils/OptionsUtils\";\nimport { setRangeValue } from \"../../Utils/NumberUtils\";\nexport class Options {\n    constructor(engine, container) {\n        this._engine = engine;\n        this._container = container;\n        this.autoPlay = true;\n        this.background = new Background();\n        this.backgroundMask = new BackgroundMask();\n        this.defaultThemes = {};\n        this.delay = 0;\n        this.fullScreen = new FullScreen();\n        this.detectRetina = true;\n        this.duration = 0;\n        this.fpsLimit = 120;\n        this.interactivity = new Interactivity(engine, container);\n        this.manualParticles = [];\n        this.particles = loadParticlesOptions(this._engine, this._container);\n        this.pauseOnBlur = true;\n        this.pauseOnOutsideViewport = true;\n        this.responsive = [];\n        this.smooth = false;\n        this.style = {};\n        this.themes = [];\n        this.zLayers = 100;\n    }\n    get backgroundMode() {\n        return this.fullScreen;\n    }\n    set backgroundMode(value) {\n        this.fullScreen.load(value);\n    }\n    get fps_limit() {\n        return this.fpsLimit;\n    }\n    set fps_limit(value) {\n        this.fpsLimit = value;\n    }\n    get retina_detect() {\n        return this.detectRetina;\n    }\n    set retina_detect(value) {\n        this.detectRetina = value;\n    }\n    load(data) {\n        var _a, _b, _c, _d, _e;\n        if (!data) {\n            return;\n        }\n        if (data.preset !== undefined) {\n            executeOnSingleOrMultiple(data.preset, (preset) => this._importPreset(preset));\n        }\n        if (data.autoPlay !== undefined) {\n            this.autoPlay = data.autoPlay;\n        }\n        if (data.delay !== undefined) {\n            this.delay = setRangeValue(data.delay);\n        }\n        const detectRetina = (_a = data.detectRetina) !== null && _a !== void 0 ? _a : data.retina_detect;\n        if (detectRetina !== undefined) {\n            this.detectRetina = detectRetina;\n        }\n        if (data.duration !== undefined) {\n            this.duration = setRangeValue(data.duration);\n        }\n        const fpsLimit = (_b = data.fpsLimit) !== null && _b !== void 0 ? _b : data.fps_limit;\n        if (fpsLimit !== undefined) {\n            this.fpsLimit = fpsLimit;\n        }\n        if (data.pauseOnBlur !== undefined) {\n            this.pauseOnBlur = data.pauseOnBlur;\n        }\n        if (data.pauseOnOutsideViewport !== undefined) {\n            this.pauseOnOutsideViewport = data.pauseOnOutsideViewport;\n        }\n        if (data.zLayers !== undefined) {\n            this.zLayers = data.zLayers;\n        }\n        this.background.load(data.background);\n        const fullScreen = (_c = data.fullScreen) !== null && _c !== void 0 ? _c : data.backgroundMode;\n        if (typeof fullScreen === \"boolean\") {\n            this.fullScreen.enable = fullScreen;\n        }\n        else {\n            this.fullScreen.load(fullScreen);\n        }\n        this.backgroundMask.load(data.backgroundMask);\n        this.interactivity.load(data.interactivity);\n        if (data.manualParticles !== undefined) {\n            this.manualParticles = data.manualParticles.map((t) => {\n                const tmp = new ManualParticle();\n                tmp.load(t);\n                return tmp;\n            });\n        }\n        this.particles.load(data.particles);\n        this.style = deepExtend(this.style, data.style);\n        this._engine.plugins.loadOptions(this, data);\n        if (data.smooth !== undefined) {\n            this.smooth = data.smooth;\n        }\n        const interactors = this._engine.plugins.interactors.get(this._container);\n        if (interactors) {\n            for (const interactor of interactors) {\n                if (interactor.loadOptions) {\n                    interactor.loadOptions(this, data);\n                }\n            }\n        }\n        if (data.responsive !== undefined) {\n            for (const responsive of data.responsive) {\n                const optResponsive = new Responsive();\n                optResponsive.load(responsive);\n                this.responsive.push(optResponsive);\n            }\n        }\n        this.responsive.sort((a, b) => a.maxWidth - b.maxWidth);\n        if (data.themes !== undefined) {\n            for (const theme of data.themes) {\n                const existingTheme = this.themes.find((t) => t.name === theme.name);\n                if (!existingTheme) {\n                    const optTheme = new Theme();\n                    optTheme.load(theme);\n                    this.themes.push(optTheme);\n                }\n                else {\n                    existingTheme.load(theme);\n                }\n            }\n        }\n        this.defaultThemes.dark = (_d = this._findDefaultTheme(\"dark\")) === null || _d === void 0 ? void 0 : _d.name;\n        this.defaultThemes.light = (_e = this._findDefaultTheme(\"light\")) === null || _e === void 0 ? void 0 : _e.name;\n    }\n    setResponsive(width, pxRatio, defaultOptions) {\n        this.load(defaultOptions);\n        const responsiveOptions = this.responsive.find((t) => t.mode === \"screen\" && screen ? t.maxWidth > screen.availWidth : t.maxWidth * pxRatio > width);\n        this.load(responsiveOptions === null || responsiveOptions === void 0 ? void 0 : responsiveOptions.options);\n        return responsiveOptions === null || responsiveOptions === void 0 ? void 0 : responsiveOptions.maxWidth;\n    }\n    setTheme(name) {\n        if (name) {\n            const chosenTheme = this.themes.find((theme) => theme.name === name);\n            if (chosenTheme) {\n                this.load(chosenTheme.options);\n            }\n        }\n        else {\n            const mediaMatch = safeMatchMedia(\"(prefers-color-scheme: dark)\"), clientDarkMode = mediaMatch && mediaMatch.matches, defaultTheme = this._findDefaultTheme(clientDarkMode ? \"dark\" : \"light\");\n            if (defaultTheme) {\n                this.load(defaultTheme.options);\n            }\n        }\n    }\n    _findDefaultTheme(mode) {\n        var _a;\n        return ((_a = this.themes.find((theme) => theme.default.value && theme.default.mode === mode)) !== null && _a !== void 0 ? _a : this.themes.find((theme) => theme.default.value && theme.default.mode === \"any\"));\n    }\n    _importPreset(preset) {\n        this.load(this._engine.plugins.getPreset(preset));\n    }\n}\n","export class InteractionManager {\n    constructor(engine, container) {\n        this.container = container;\n        this._engine = engine;\n        this._interactors = this._engine.plugins.getInteractors(this.container, true);\n        this._externalInteractors = [];\n        this._particleInteractors = [];\n    }\n    async externalInteract(delta) {\n        for (const interactor of this._externalInteractors) {\n            if (interactor.isEnabled()) {\n                await interactor.interact(delta);\n            }\n        }\n    }\n    handleClickMode(mode) {\n        for (const interactor of this._externalInteractors) {\n            if (interactor.handleClickMode) {\n                interactor.handleClickMode(mode);\n            }\n        }\n    }\n    init() {\n        this._externalInteractors = [];\n        this._particleInteractors = [];\n        for (const interactor of this._interactors) {\n            switch (interactor.type) {\n                case \"external\":\n                    this._externalInteractors.push(interactor);\n                    break;\n                case \"particles\":\n                    this._particleInteractors.push(interactor);\n                    break;\n            }\n            interactor.init();\n        }\n    }\n    async particlesInteract(particle, delta) {\n        for (const interactor of this._externalInteractors) {\n            interactor.clear(particle, delta);\n        }\n        for (const interactor of this._particleInteractors) {\n            if (interactor.isEnabled(particle)) {\n                await interactor.interact(particle, delta);\n            }\n        }\n    }\n    async reset(particle) {\n        for (const interactor of this._externalInteractors) {\n            if (interactor.isEnabled()) {\n                await interactor.reset(particle);\n            }\n        }\n        for (const interactor of this._particleInteractors) {\n            if (interactor.isEnabled(particle)) {\n                await interactor.reset(particle);\n            }\n        }\n    }\n}\n","import { calcExactPositionOrRandomFromSize, clamp, getDistance, getParticleBaseVelocity, getParticleDirectionAngle, getRandom, getRangeMax, getRangeMin, getRangeValue, getValue, randomInRange, setRangeValue, } from \"../Utils/NumberUtils\";\nimport { deepExtend, isInArray, itemFromSingleOrMultiple } from \"../Utils/Utils\";\nimport { getHslFromAnimation, rangeColorToRgb } from \"../Utils/ColorUtils\";\nimport { Interactivity } from \"../Options/Classes/Interactivity/Interactivity\";\nimport { Vector } from \"./Utils/Vector\";\nimport { Vector3d } from \"./Utils/Vector3d\";\nimport { alterHsl } from \"../Utils/CanvasUtils\";\nimport { loadParticlesOptions } from \"../Utils/OptionsUtils\";\nconst fixOutMode = (data) => {\n    if (!isInArray(data.outMode, data.checkModes)) {\n        return;\n    }\n    if (data.coord > data.maxCoord - data.radius * 2) {\n        data.setCb(-data.radius);\n    }\n    else if (data.coord < data.radius * 2) {\n        data.setCb(data.radius);\n    }\n};\nexport class Particle {\n    constructor(engine, id, container, position, overrideOptions, group) {\n        this.container = container;\n        this._engine = engine;\n        this.init(id, position, overrideOptions, group);\n    }\n    destroy(override) {\n        var _a;\n        if (this.unbreakable || this.destroyed) {\n            return;\n        }\n        this.destroyed = true;\n        this.bubble.inRange = false;\n        this.slow.inRange = false;\n        for (const [, plugin] of this.container.plugins) {\n            if (plugin.particleDestroyed) {\n                plugin.particleDestroyed(this, override);\n            }\n        }\n        for (const updater of this.container.particles.updaters) {\n            if (updater.particleDestroyed) {\n                updater.particleDestroyed(this, override);\n            }\n        }\n        (_a = this.pathGenerator) === null || _a === void 0 ? void 0 : _a.reset(this);\n    }\n    draw(delta) {\n        const container = this.container;\n        for (const [, plugin] of container.plugins) {\n            container.canvas.drawParticlePlugin(plugin, this, delta);\n        }\n        container.canvas.drawParticle(this, delta);\n    }\n    getFillColor() {\n        var _a;\n        return this._getRollColor((_a = this.bubble.color) !== null && _a !== void 0 ? _a : getHslFromAnimation(this.color));\n    }\n    getMass() {\n        return (this.getRadius() ** 2 * Math.PI) / 2;\n    }\n    getPosition() {\n        return {\n            x: this.position.x + this.offset.x,\n            y: this.position.y + this.offset.y,\n            z: this.position.z,\n        };\n    }\n    getRadius() {\n        var _a;\n        return (_a = this.bubble.radius) !== null && _a !== void 0 ? _a : this.size.value;\n    }\n    getStrokeColor() {\n        var _a;\n        return this._getRollColor((_a = this.bubble.color) !== null && _a !== void 0 ? _a : getHslFromAnimation(this.strokeColor));\n    }\n    init(id, position, overrideOptions, group) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        const container = this.container, engine = this._engine;\n        this.id = id;\n        this.group = group;\n        this.fill = true;\n        this.pathRotation = false;\n        this.close = true;\n        this.lastPathTime = 0;\n        this.destroyed = false;\n        this.unbreakable = false;\n        this.rotation = 0;\n        this.misplaced = false;\n        this.retina = {\n            maxDistance: {},\n        };\n        this.outType = \"normal\";\n        this.ignoresResizeRatio = true;\n        const pxRatio = container.retina.pixelRatio, mainOptions = container.actualOptions, particlesOptions = loadParticlesOptions(this._engine, container, mainOptions.particles), shapeType = particlesOptions.shape.type, { reduceDuplicates } = particlesOptions;\n        this.shape = itemFromSingleOrMultiple(shapeType, this.id, reduceDuplicates);\n        const shapeOptions = particlesOptions.shape;\n        if (overrideOptions && overrideOptions.shape && overrideOptions.shape.type) {\n            const overrideShapeType = overrideOptions.shape.type, shape = itemFromSingleOrMultiple(overrideShapeType, this.id, reduceDuplicates);\n            if (shape) {\n                this.shape = shape;\n                shapeOptions.load(overrideOptions.shape);\n            }\n        }\n        this.shapeData = this._loadShapeData(shapeOptions, reduceDuplicates);\n        particlesOptions.load(overrideOptions);\n        particlesOptions.load((_a = this.shapeData) === null || _a === void 0 ? void 0 : _a.particles);\n        this.interactivity = new Interactivity(engine, container);\n        this.interactivity.load(container.actualOptions.interactivity);\n        this.interactivity.load(particlesOptions.interactivity);\n        this.fill = (_c = (_b = this.shapeData) === null || _b === void 0 ? void 0 : _b.fill) !== null && _c !== void 0 ? _c : this.fill;\n        this.close = (_e = (_d = this.shapeData) === null || _d === void 0 ? void 0 : _d.close) !== null && _e !== void 0 ? _e : this.close;\n        this.options = particlesOptions;\n        const pathOptions = this.options.move.path;\n        this.pathDelay = getValue(pathOptions.delay) * 1000;\n        if (pathOptions.generator) {\n            this.pathGenerator = this._engine.plugins.getPathGenerator(pathOptions.generator);\n            if (this.pathGenerator && container.addPath(pathOptions.generator, this.pathGenerator)) {\n                this.pathGenerator.init(container);\n            }\n        }\n        const zIndexValue = getRangeValue(this.options.zIndex.value);\n        container.retina.initParticle(this);\n        const sizeOptions = this.options.size, sizeRange = sizeOptions.value, sizeAnimation = sizeOptions.animation;\n        this.size = {\n            enable: sizeOptions.animation.enable,\n            value: getRangeValue(sizeOptions.value) * container.retina.pixelRatio,\n            max: getRangeMax(sizeRange) * pxRatio,\n            min: getRangeMin(sizeRange) * pxRatio,\n            loops: 0,\n            maxLoops: getRangeValue(sizeOptions.animation.count),\n        };\n        if (sizeAnimation.enable) {\n            this.size.status = \"increasing\";\n            this.size.decay = 1 - getRangeValue(sizeAnimation.decay);\n            switch (sizeAnimation.startValue) {\n                case \"min\":\n                    this.size.value = this.size.min;\n                    this.size.status = \"increasing\";\n                    break;\n                case \"random\":\n                    this.size.value = randomInRange(this.size);\n                    this.size.status = getRandom() >= 0.5 ? \"increasing\" : \"decreasing\";\n                    break;\n                case \"max\":\n                default:\n                    this.size.value = this.size.max;\n                    this.size.status = \"decreasing\";\n                    break;\n            }\n        }\n        this.size.initialValue = this.size.value;\n        this.bubble = {\n            inRange: false,\n        };\n        this.slow = {\n            inRange: false,\n            factor: 1,\n        };\n        this.position = this._calcPosition(container, position, clamp(zIndexValue, 0, container.zLayers));\n        this.initialPosition = this.position.copy();\n        const canvasSize = container.canvas.size, moveCenter = Object.assign({}, this.options.move.center), isCenterPercent = moveCenter.mode === \"percent\";\n        this.moveCenter = {\n            x: moveCenter.x * (isCenterPercent ? canvasSize.width / 100 : 1),\n            y: moveCenter.y * (isCenterPercent ? canvasSize.height / 100 : 1),\n            radius: (_f = this.options.move.center.radius) !== null && _f !== void 0 ? _f : 0,\n            mode: (_g = this.options.move.center.mode) !== null && _g !== void 0 ? _g : \"percent\",\n        };\n        this.direction = getParticleDirectionAngle(this.options.move.direction, this.position, this.moveCenter);\n        switch (this.options.move.direction) {\n            case \"inside\":\n                this.outType = \"inside\";\n                break;\n            case \"outside\":\n                this.outType = \"outside\";\n                break;\n        }\n        this.initialVelocity = this._calculateVelocity();\n        this.velocity = this.initialVelocity.copy();\n        this.moveDecay = 1 - getRangeValue(this.options.move.decay);\n        this.offset = Vector.origin;\n        const particles = container.particles;\n        particles.needsSort = particles.needsSort || particles.lastZIndex < this.position.z;\n        particles.lastZIndex = this.position.z;\n        this.zIndexFactor = this.position.z / container.zLayers;\n        this.sides = 24;\n        let drawer = container.drawers.get(this.shape);\n        if (!drawer) {\n            drawer = this._engine.plugins.getShapeDrawer(this.shape);\n            if (drawer) {\n                container.drawers.set(this.shape, drawer);\n            }\n        }\n        if (drawer === null || drawer === void 0 ? void 0 : drawer.loadShape) {\n            drawer === null || drawer === void 0 ? void 0 : drawer.loadShape(this);\n        }\n        const sideCountFunc = drawer === null || drawer === void 0 ? void 0 : drawer.getSidesCount;\n        if (sideCountFunc) {\n            this.sides = sideCountFunc(this);\n        }\n        this.spawning = false;\n        this.shadowColor = rangeColorToRgb(this.options.shadow.color);\n        for (const updater of container.particles.updaters) {\n            updater.init(this);\n        }\n        for (const mover of container.particles.movers) {\n            (_h = mover.init) === null || _h === void 0 ? void 0 : _h.call(mover, this);\n        }\n        if (drawer === null || drawer === void 0 ? void 0 : drawer.particleInit) {\n            drawer.particleInit(container, this);\n        }\n        for (const [, plugin] of container.plugins) {\n            (_j = plugin.particleCreated) === null || _j === void 0 ? void 0 : _j.call(plugin, this);\n        }\n    }\n    isInsideCanvas() {\n        const radius = this.getRadius(), canvasSize = this.container.canvas.size;\n        return (this.position.x >= -radius &&\n            this.position.y >= -radius &&\n            this.position.y <= canvasSize.height + radius &&\n            this.position.x <= canvasSize.width + radius);\n    }\n    isVisible() {\n        return !this.destroyed && !this.spawning && this.isInsideCanvas();\n    }\n    reset() {\n        var _a;\n        for (const updater of this.container.particles.updaters) {\n            (_a = updater.reset) === null || _a === void 0 ? void 0 : _a.call(updater, this);\n        }\n    }\n    _calcPosition(container, position, zIndex, tryCount = 0) {\n        var _a, _b, _c, _d;\n        for (const [, plugin] of container.plugins) {\n            const pluginPos = plugin.particlePosition !== undefined ? plugin.particlePosition(position, this) : undefined;\n            if (pluginPos !== undefined) {\n                return Vector3d.create(pluginPos.x, pluginPos.y, zIndex);\n            }\n        }\n        const canvasSize = container.canvas.size, exactPosition = calcExactPositionOrRandomFromSize({\n            size: canvasSize,\n            position: position,\n        }), pos = Vector3d.create(exactPosition.x, exactPosition.y, zIndex), radius = this.getRadius(), outModes = this.options.move.outModes, fixHorizontal = (outMode) => {\n            fixOutMode({\n                outMode,\n                checkModes: [\"bounce\", \"bounce-horizontal\"],\n                coord: pos.x,\n                maxCoord: container.canvas.size.width,\n                setCb: (value) => (pos.x += value),\n                radius,\n            });\n        }, fixVertical = (outMode) => {\n            fixOutMode({\n                outMode,\n                checkModes: [\"bounce\", \"bounce-vertical\"],\n                coord: pos.y,\n                maxCoord: container.canvas.size.height,\n                setCb: (value) => (pos.y += value),\n                radius,\n            });\n        };\n        fixHorizontal((_a = outModes.left) !== null && _a !== void 0 ? _a : outModes.default);\n        fixHorizontal((_b = outModes.right) !== null && _b !== void 0 ? _b : outModes.default);\n        fixVertical((_c = outModes.top) !== null && _c !== void 0 ? _c : outModes.default);\n        fixVertical((_d = outModes.bottom) !== null && _d !== void 0 ? _d : outModes.default);\n        if (this._checkOverlap(pos, tryCount)) {\n            return this._calcPosition(container, undefined, zIndex, tryCount + 1);\n        }\n        return pos;\n    }\n    _calculateVelocity() {\n        const baseVelocity = getParticleBaseVelocity(this.direction), res = baseVelocity.copy(), moveOptions = this.options.move;\n        if (moveOptions.direction === \"inside\" || moveOptions.direction === \"outside\") {\n            return res;\n        }\n        const rad = (Math.PI / 180) * getRangeValue(moveOptions.angle.value), radOffset = (Math.PI / 180) * getRangeValue(moveOptions.angle.offset), range = {\n            left: radOffset - rad / 2,\n            right: radOffset + rad / 2,\n        };\n        if (!moveOptions.straight) {\n            res.angle += randomInRange(setRangeValue(range.left, range.right));\n        }\n        if (moveOptions.random && typeof moveOptions.speed === \"number\") {\n            res.length *= getRandom();\n        }\n        return res;\n    }\n    _checkOverlap(pos, tryCount = 0) {\n        const collisionsOptions = this.options.collisions, radius = this.getRadius();\n        if (!collisionsOptions.enable) {\n            return false;\n        }\n        const overlapOptions = collisionsOptions.overlap;\n        if (overlapOptions.enable) {\n            return false;\n        }\n        const retries = overlapOptions.retries;\n        if (retries >= 0 && tryCount > retries) {\n            throw new Error(\"Particle is overlapping and can't be placed\");\n        }\n        let overlaps = false;\n        for (const particle of this.container.particles.array) {\n            if (getDistance(pos, particle.position) < radius + particle.getRadius()) {\n                overlaps = true;\n                break;\n            }\n        }\n        return overlaps;\n    }\n    _getRollColor(color) {\n        var _a;\n        if (!color || !this.roll || (!this.backColor && !this.roll.alter)) {\n            return color;\n        }\n        const backFactor = this.roll.horizontal && this.roll.vertical ? 2 : 1, backSum = this.roll.horizontal ? Math.PI / 2 : 0, rolled = Math.floor((((_a = this.roll.angle) !== null && _a !== void 0 ? _a : 0) + backSum) / (Math.PI / backFactor)) % 2;\n        if (!rolled) {\n            return color;\n        }\n        if (this.backColor) {\n            return this.backColor;\n        }\n        if (this.roll.alter) {\n            return alterHsl(color, this.roll.alter.type, this.roll.alter.value);\n        }\n        return color;\n    }\n    _loadShapeData(shapeOptions, reduceDuplicates) {\n        const shapeData = shapeOptions.options[this.shape];\n        if (shapeData) {\n            return deepExtend({}, itemFromSingleOrMultiple(shapeData, this.id, reduceDuplicates));\n        }\n    }\n}\n","export class Point {\n    constructor(position, particle) {\n        this.position = position;\n        this.particle = particle;\n    }\n}\n","export class Range {\n    constructor(x, y) {\n        this.position = {\n            x: x,\n            y: y,\n        };\n    }\n}\n","import { Range } from \"./Range\";\nimport { getDistance } from \"../../Utils/NumberUtils\";\nexport class Circle extends Range {\n    constructor(x, y, radius) {\n        super(x, y);\n        this.radius = radius;\n    }\n    contains(point) {\n        return getDistance(point, this.position) <= this.radius;\n    }\n    intersects(range) {\n        const rect = range, circle = range, pos1 = this.position, pos2 = range.position, distPos = { x: Math.abs(pos2.x - pos1.x), y: Math.abs(pos2.y - pos1.y) }, r = this.radius;\n        if (circle.radius !== undefined) {\n            const rSum = r + circle.radius, dist = Math.sqrt(distPos.x ** 2 + distPos.y ** 2);\n            return rSum > dist;\n        }\n        else if (rect.size !== undefined) {\n            const w = rect.size.width, h = rect.size.height, edges = Math.pow(distPos.x - w, 2) + Math.pow(distPos.y - h, 2);\n            return edges <= r ** 2 || (distPos.x <= r + w && distPos.y <= r + h) || distPos.x <= w || distPos.y <= h;\n        }\n        return false;\n    }\n}\n","import { Circle } from \"./Circle\";\nimport { Range } from \"./Range\";\nexport class Rectangle extends Range {\n    constructor(x, y, width, height) {\n        super(x, y);\n        this.size = {\n            height: height,\n            width: width,\n        };\n    }\n    contains(point) {\n        const w = this.size.width, h = this.size.height, pos = this.position;\n        return point.x >= pos.x && point.x <= pos.x + w && point.y >= pos.y && point.y <= pos.y + h;\n    }\n    intersects(range) {\n        if (range instanceof Circle) {\n            range.intersects(this);\n        }\n        const w = this.size.width, h = this.size.height, pos1 = this.position, pos2 = range.position, size2 = range instanceof Rectangle ? range.size : { width: 0, height: 0 }, w2 = size2.width, h2 = size2.height;\n        return pos2.x < pos1.x + w && pos2.x + w2 > pos1.x && pos2.y < pos1.y + h && pos2.y + h2 > pos1.y;\n    }\n}\n","import { Circle } from \"./Circle\";\nimport { Rectangle } from \"./Rectangle\";\nimport { getDistance } from \"../../Utils/NumberUtils\";\nexport class QuadTree {\n    constructor(rectangle, capacity) {\n        this.rectangle = rectangle;\n        this.capacity = capacity;\n        this._points = [];\n        this._divided = false;\n    }\n    insert(point) {\n        var _a, _b, _c, _d, _e;\n        if (!this.rectangle.contains(point.position)) {\n            return false;\n        }\n        if (this._points.length < this.capacity) {\n            this._points.push(point);\n            return true;\n        }\n        if (!this._divided) {\n            this.subdivide();\n        }\n        return ((_e = (((_a = this._NE) === null || _a === void 0 ? void 0 : _a.insert(point)) ||\n            ((_b = this._NW) === null || _b === void 0 ? void 0 : _b.insert(point)) ||\n            ((_c = this._SE) === null || _c === void 0 ? void 0 : _c.insert(point)) ||\n            ((_d = this._SW) === null || _d === void 0 ? void 0 : _d.insert(point)))) !== null && _e !== void 0 ? _e : false);\n    }\n    query(range, check, found) {\n        var _a, _b, _c, _d;\n        const res = found !== null && found !== void 0 ? found : [];\n        if (!range.intersects(this.rectangle)) {\n            return [];\n        }\n        for (const p of this._points) {\n            if (!range.contains(p.position) &&\n                getDistance(range.position, p.position) > p.particle.getRadius() &&\n                (!check || check(p.particle))) {\n                continue;\n            }\n            res.push(p.particle);\n        }\n        if (this._divided) {\n            (_a = this._NE) === null || _a === void 0 ? void 0 : _a.query(range, check, res);\n            (_b = this._NW) === null || _b === void 0 ? void 0 : _b.query(range, check, res);\n            (_c = this._SE) === null || _c === void 0 ? void 0 : _c.query(range, check, res);\n            (_d = this._SW) === null || _d === void 0 ? void 0 : _d.query(range, check, res);\n        }\n        return res;\n    }\n    queryCircle(position, radius, check) {\n        return this.query(new Circle(position.x, position.y, radius), check);\n    }\n    queryRectangle(position, size, check) {\n        return this.query(new Rectangle(position.x, position.y, size.width, size.height), check);\n    }\n    subdivide() {\n        const x = this.rectangle.position.x, y = this.rectangle.position.y, w = this.rectangle.size.width, h = this.rectangle.size.height, capacity = this.capacity;\n        this._NE = new QuadTree(new Rectangle(x, y, w / 2, h / 2), capacity);\n        this._NW = new QuadTree(new Rectangle(x + w / 2, y, w / 2, h / 2), capacity);\n        this._SE = new QuadTree(new Rectangle(x, y + h / 2, w / 2, h / 2), capacity);\n        this._SW = new QuadTree(new Rectangle(x + w / 2, y + h / 2, w / 2, h / 2), capacity);\n        this._divided = true;\n    }\n}\n","import { InteractionManager } from \"./Utils/InteractionManager\";\nimport { Particle } from \"./Particle\";\nimport { Point } from \"./Utils/Point\";\nimport { QuadTree } from \"./Utils/QuadTree\";\nimport { Rectangle } from \"./Utils/Rectangle\";\nimport { calcPositionFromSize } from \"../Utils/NumberUtils\";\nexport class Particles {\n    constructor(engine, container) {\n        this.container = container;\n        this._engine = engine;\n        this.nextId = 0;\n        this.array = [];\n        this.zArray = [];\n        this.pool = [];\n        this.limit = 0;\n        this.needsSort = false;\n        this.lastZIndex = 0;\n        this.interactionManager = new InteractionManager(this._engine, container);\n        const canvasSize = this.container.canvas.size;\n        this.quadTree = new QuadTree(new Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, (canvasSize.width * 3) / 2, (canvasSize.height * 3) / 2), 4);\n        this.movers = this._engine.plugins.getMovers(container, true);\n        this.updaters = this._engine.plugins.getUpdaters(container, true);\n    }\n    get count() {\n        return this.array.length;\n    }\n    addManualParticles() {\n        const container = this.container, options = container.actualOptions;\n        for (const particle of options.manualParticles) {\n            this.addParticle(calcPositionFromSize({\n                size: container.canvas.size,\n                position: particle.position,\n            }), particle.options);\n        }\n    }\n    addParticle(position, overrideOptions, group, initializer) {\n        const container = this.container, options = container.actualOptions, limit = options.particles.number.limit;\n        if (limit > 0) {\n            const countToRemove = this.count + 1 - limit;\n            if (countToRemove > 0) {\n                this.removeQuantity(countToRemove);\n            }\n        }\n        return this._pushParticle(position, overrideOptions, group, initializer);\n    }\n    clear() {\n        this.array = [];\n        this.zArray = [];\n    }\n    destroy() {\n        this.array = [];\n        this.zArray = [];\n        this.movers = [];\n        this.updaters = [];\n    }\n    async draw(delta) {\n        const container = this.container, canvasSize = this.container.canvas.size;\n        this.quadTree = new QuadTree(new Rectangle(-canvasSize.width / 4, -canvasSize.height / 4, (canvasSize.width * 3) / 2, (canvasSize.height * 3) / 2), 4);\n        container.canvas.clear();\n        await this.update(delta);\n        if (this.needsSort) {\n            this.zArray.sort((a, b) => b.position.z - a.position.z || a.id - b.id);\n            this.lastZIndex = this.zArray[this.zArray.length - 1].position.z;\n            this.needsSort = false;\n        }\n        for (const [, plugin] of container.plugins) {\n            container.canvas.drawPlugin(plugin, delta);\n        }\n        for (const p of this.zArray) {\n            p.draw(delta);\n        }\n    }\n    handleClickMode(mode) {\n        this.interactionManager.handleClickMode(mode);\n    }\n    init() {\n        var _a;\n        const container = this.container, options = container.actualOptions;\n        this.lastZIndex = 0;\n        this.needsSort = false;\n        let handled = false;\n        this.updaters = this._engine.plugins.getUpdaters(container, true);\n        this.interactionManager.init();\n        for (const [, plugin] of container.plugins) {\n            if (plugin.particlesInitialization !== undefined) {\n                handled = plugin.particlesInitialization();\n            }\n            if (handled) {\n                break;\n            }\n        }\n        this.interactionManager.init();\n        for (const [, pathGenerator] of container.pathGenerators) {\n            pathGenerator.init(container);\n        }\n        this.addManualParticles();\n        if (!handled) {\n            for (const group in options.particles.groups) {\n                const groupOptions = options.particles.groups[group];\n                for (let i = this.count, j = 0; j < ((_a = groupOptions.number) === null || _a === void 0 ? void 0 : _a.value) && i < options.particles.number.value; i++, j++) {\n                    this.addParticle(undefined, groupOptions, group);\n                }\n            }\n            for (let i = this.count; i < options.particles.number.value; i++) {\n                this.addParticle();\n            }\n        }\n    }\n    push(nb, mouse, overrideOptions, group) {\n        this.pushing = true;\n        for (let i = 0; i < nb; i++) {\n            this.addParticle(mouse === null || mouse === void 0 ? void 0 : mouse.position, overrideOptions, group);\n        }\n        this.pushing = false;\n    }\n    async redraw() {\n        this.clear();\n        this.init();\n        await this.draw({ value: 0, factor: 0 });\n    }\n    remove(particle, group, override) {\n        this.removeAt(this.array.indexOf(particle), undefined, group, override);\n    }\n    removeAt(index, quantity = 1, group, override) {\n        if (index < 0 || index > this.count) {\n            return;\n        }\n        let deleted = 0;\n        for (let i = index; deleted < quantity && i < this.count; i++) {\n            const particle = this.array[i];\n            if (!particle || particle.group !== group) {\n                continue;\n            }\n            particle.destroy(override);\n            this.array.splice(i--, 1);\n            const zIdx = this.zArray.indexOf(particle);\n            this.zArray.splice(zIdx, 1);\n            this.pool.push(particle);\n            deleted++;\n            this._engine.dispatchEvent(\"particleRemoved\", {\n                container: this.container,\n                data: {\n                    particle,\n                },\n            });\n        }\n    }\n    removeQuantity(quantity, group) {\n        this.removeAt(0, quantity, group);\n    }\n    setDensity() {\n        const options = this.container.actualOptions;\n        for (const group in options.particles.groups) {\n            this._applyDensity(options.particles.groups[group], 0, group);\n        }\n        this._applyDensity(options.particles, options.manualParticles.length);\n    }\n    async update(delta) {\n        var _a, _b;\n        const container = this.container, particlesToDelete = [];\n        for (const [, pathGenerator] of container.pathGenerators) {\n            pathGenerator.update();\n        }\n        for (const [, plugin] of container.plugins) {\n            (_a = plugin.update) === null || _a === void 0 ? void 0 : _a.call(plugin, delta);\n        }\n        for (const particle of this.array) {\n            const resizeFactor = container.canvas.resizeFactor;\n            if (resizeFactor && !particle.ignoresResizeRatio) {\n                particle.position.x *= resizeFactor.width;\n                particle.position.y *= resizeFactor.height;\n                particle.initialPosition.x *= resizeFactor.width;\n                particle.initialPosition.y *= resizeFactor.height;\n            }\n            particle.ignoresResizeRatio = false;\n            await this.interactionManager.reset(particle);\n            for (const [, plugin] of this.container.plugins) {\n                if (particle.destroyed) {\n                    break;\n                }\n                (_b = plugin.particleUpdate) === null || _b === void 0 ? void 0 : _b.call(plugin, particle, delta);\n            }\n            for (const mover of this.movers) {\n                if (mover.isEnabled(particle)) {\n                    mover.move(particle, delta);\n                }\n            }\n            if (particle.destroyed) {\n                particlesToDelete.push(particle);\n                continue;\n            }\n            this.quadTree.insert(new Point(particle.getPosition(), particle));\n        }\n        for (const particle of particlesToDelete) {\n            this.remove(particle);\n        }\n        await this.interactionManager.externalInteract(delta);\n        for (const particle of this.array) {\n            for (const updater of this.updaters) {\n                updater.update(particle, delta);\n            }\n            if (!particle.destroyed && !particle.spawning) {\n                await this.interactionManager.particlesInteract(particle, delta);\n            }\n        }\n        delete container.canvas.resizeFactor;\n    }\n    _applyDensity(options, manualCount, group) {\n        var _a;\n        if (!((_a = options.number.density) === null || _a === void 0 ? void 0 : _a.enable)) {\n            return;\n        }\n        const numberOptions = options.number, densityFactor = this._initDensityFactor(numberOptions.density), optParticlesNumber = numberOptions.value, optParticlesLimit = numberOptions.limit > 0 ? numberOptions.limit : optParticlesNumber, particlesNumber = Math.min(optParticlesNumber, optParticlesLimit) * densityFactor + manualCount, particlesCount = Math.min(this.count, this.array.filter((t) => t.group === group).length);\n        this.limit = numberOptions.limit * densityFactor;\n        if (particlesCount < particlesNumber) {\n            this.push(Math.abs(particlesNumber - particlesCount), undefined, options, group);\n        }\n        else if (particlesCount > particlesNumber) {\n            this.removeQuantity(particlesCount - particlesNumber, group);\n        }\n    }\n    _initDensityFactor(densityOptions) {\n        const container = this.container;\n        if (!container.canvas.element || !densityOptions.enable) {\n            return 1;\n        }\n        const canvas = container.canvas.element, pxRatio = container.retina.pixelRatio;\n        return (canvas.width * canvas.height) / (densityOptions.factor * pxRatio ** 2 * densityOptions.area);\n    }\n    _pushParticle(position, overrideOptions, group, initializer) {\n        try {\n            let particle = this.pool.pop();\n            if (particle) {\n                particle.init(this.nextId, position, overrideOptions, group);\n            }\n            else {\n                particle = new Particle(this._engine, this.nextId, this.container, position, overrideOptions, group);\n            }\n            let canAdd = true;\n            if (initializer) {\n                canAdd = initializer(particle);\n            }\n            if (!canAdd) {\n                return;\n            }\n            this.array.push(particle);\n            this.zArray.push(particle);\n            this.nextId++;\n            this._engine.dispatchEvent(\"particleAdded\", {\n                container: this.container,\n                data: {\n                    particle,\n                },\n            });\n            return particle;\n        }\n        catch (e) {\n            console.warn(`error adding particle: ${e}`);\n            return;\n        }\n    }\n}\n","import { getRangeValue } from \"../Utils/NumberUtils\";\nimport { isSsr } from \"../Utils/Utils\";\nexport class Retina {\n    constructor(container) {\n        this.container = container;\n    }\n    init() {\n        const container = this.container, options = container.actualOptions;\n        this.pixelRatio = !options.detectRetina || isSsr() ? 1 : window.devicePixelRatio;\n        this.reduceFactor = 1;\n        const ratio = this.pixelRatio;\n        if (container.canvas.element) {\n            const element = container.canvas.element;\n            container.canvas.size.width = element.offsetWidth * ratio;\n            container.canvas.size.height = element.offsetHeight * ratio;\n        }\n        const particles = options.particles;\n        this.attractDistance = getRangeValue(particles.move.attract.distance) * ratio;\n        this.sizeAnimationSpeed = getRangeValue(particles.size.animation.speed) * ratio;\n        this.maxSpeed = getRangeValue(particles.move.gravity.maxSpeed) * ratio;\n    }\n    initParticle(particle) {\n        const options = particle.options, ratio = this.pixelRatio, moveDistance = options.move.distance, props = particle.retina;\n        props.attractDistance = getRangeValue(options.move.attract.distance) * ratio;\n        props.moveDrift = getRangeValue(options.move.drift) * ratio;\n        props.moveSpeed = getRangeValue(options.move.speed) * ratio;\n        props.sizeAnimationSpeed = getRangeValue(options.size.animation.speed) * ratio;\n        const maxDistance = props.maxDistance;\n        maxDistance.horizontal = moveDistance.horizontal !== undefined ? moveDistance.horizontal * ratio : undefined;\n        maxDistance.vertical = moveDistance.vertical !== undefined ? moveDistance.vertical * ratio : undefined;\n        props.maxSpeed = getRangeValue(options.move.gravity.maxSpeed) * ratio;\n    }\n}\n","import { animate, cancelAnimation } from \"../Utils/Utils\";\nimport { Canvas } from \"./Canvas\";\nimport { EventListeners } from \"./Utils/EventListeners\";\nimport { FrameManager } from \"./Utils/FrameManager\";\nimport { Options } from \"../Options/Classes/Options\";\nimport { Particles } from \"./Particles\";\nimport { Retina } from \"./Retina\";\nimport { getRangeValue } from \"../Utils/NumberUtils\";\nimport { loadOptions } from \"../Utils/OptionsUtils\";\nfunction guardCheck(container) {\n    return container && !container.destroyed;\n}\nfunction loadContainerOptions(engine, container, ...sourceOptionsArr) {\n    const options = new Options(engine, container);\n    loadOptions(options, ...sourceOptionsArr);\n    return options;\n}\nconst defaultPathGeneratorKey = \"default\", defaultPathGenerator = {\n    generate: (p) => {\n        const v = p.velocity.copy();\n        v.angle += (v.length * Math.PI) / 180;\n        return v;\n    },\n    init: () => {\n    },\n    update: () => {\n    },\n    reset: () => {\n    },\n};\nexport class Container {\n    constructor(engine, id, sourceOptions) {\n        this.id = id;\n        this._engine = engine;\n        this.fpsLimit = 120;\n        this.smooth = false;\n        this._delay = 0;\n        this.duration = 0;\n        this.lifeTime = 0;\n        this._firstStart = true;\n        this.started = false;\n        this.destroyed = false;\n        this._paused = true;\n        this.lastFrameTime = 0;\n        this.zLayers = 100;\n        this.pageHidden = false;\n        this._sourceOptions = sourceOptions;\n        this._initialSourceOptions = sourceOptions;\n        this.retina = new Retina(this);\n        this.canvas = new Canvas(this);\n        this.particles = new Particles(this._engine, this);\n        this.frameManager = new FrameManager(this);\n        this.pathGenerators = new Map();\n        this.interactivity = {\n            mouse: {\n                clicking: false,\n                inside: false,\n            },\n        };\n        this.plugins = new Map();\n        this.drawers = new Map();\n        this._options = loadContainerOptions(this._engine, this);\n        this.actualOptions = loadContainerOptions(this._engine, this);\n        this._eventListeners = new EventListeners(this);\n        if (typeof IntersectionObserver !== \"undefined\" && IntersectionObserver) {\n            this._intersectionObserver = new IntersectionObserver((entries) => this._intersectionManager(entries));\n        }\n        this._engine.dispatchEvent(\"containerBuilt\", { container: this });\n    }\n    get options() {\n        return this._options;\n    }\n    get sourceOptions() {\n        return this._sourceOptions;\n    }\n    addClickHandler(callback) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const el = this.interactivity.element;\n        if (!el) {\n            return;\n        }\n        const clickOrTouchHandler = (e, pos, radius) => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            const pxRatio = this.retina.pixelRatio, posRetina = {\n                x: pos.x * pxRatio,\n                y: pos.y * pxRatio,\n            }, particles = this.particles.quadTree.queryCircle(posRetina, radius * pxRatio);\n            callback(e, particles);\n        };\n        const clickHandler = (e) => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            const mouseEvent = e, pos = {\n                x: mouseEvent.offsetX || mouseEvent.clientX,\n                y: mouseEvent.offsetY || mouseEvent.clientY,\n            };\n            clickOrTouchHandler(e, pos, 1);\n        };\n        const touchStartHandler = () => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            touched = true;\n            touchMoved = false;\n        };\n        const touchMoveHandler = () => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            touchMoved = true;\n        };\n        const touchEndHandler = (e) => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            if (touched && !touchMoved) {\n                const touchEvent = e;\n                let lastTouch = touchEvent.touches[touchEvent.touches.length - 1];\n                if (!lastTouch) {\n                    lastTouch = touchEvent.changedTouches[touchEvent.changedTouches.length - 1];\n                    if (!lastTouch) {\n                        return;\n                    }\n                }\n                const element = this.canvas.element, canvasRect = element ? element.getBoundingClientRect() : undefined, pos = {\n                    x: lastTouch.clientX - (canvasRect ? canvasRect.left : 0),\n                    y: lastTouch.clientY - (canvasRect ? canvasRect.top : 0),\n                };\n                clickOrTouchHandler(e, pos, Math.max(lastTouch.radiusX, lastTouch.radiusY));\n            }\n            touched = false;\n            touchMoved = false;\n        };\n        const touchCancelHandler = () => {\n            if (!guardCheck(this)) {\n                return;\n            }\n            touched = false;\n            touchMoved = false;\n        };\n        let touched = false, touchMoved = false;\n        el.addEventListener(\"click\", clickHandler);\n        el.addEventListener(\"touchstart\", touchStartHandler);\n        el.addEventListener(\"touchmove\", touchMoveHandler);\n        el.addEventListener(\"touchend\", touchEndHandler);\n        el.addEventListener(\"touchcancel\", touchCancelHandler);\n    }\n    addPath(key, generator, override = false) {\n        if (!guardCheck(this) || (!override && this.pathGenerators.has(key))) {\n            return false;\n        }\n        this.pathGenerators.set(key, generator !== null && generator !== void 0 ? generator : defaultPathGenerator);\n        return true;\n    }\n    destroy() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.stop();\n        this.particles.destroy();\n        this.canvas.destroy();\n        for (const [, drawer] of this.drawers) {\n            if (drawer.destroy) {\n                drawer.destroy(this);\n            }\n        }\n        for (const key of this.drawers.keys()) {\n            this.drawers.delete(key);\n        }\n        this._engine.plugins.destroy(this);\n        this.destroyed = true;\n        const mainArr = this._engine.dom(), idx = mainArr.findIndex((t) => t === this);\n        if (idx >= 0) {\n            mainArr.splice(idx, 1);\n        }\n        this._engine.dispatchEvent(\"containerDestroyed\", { container: this });\n    }\n    draw(force) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        let refreshTime = force;\n        this._drawAnimationFrame = animate()(async (timestamp) => {\n            if (refreshTime) {\n                this.lastFrameTime = undefined;\n                refreshTime = false;\n            }\n            await this.frameManager.nextFrame(timestamp);\n        });\n    }\n    exportConfiguration() {\n        return JSON.stringify(this.actualOptions, (key, value) => {\n            if (key === \"_engine\" || key === \"_container\") {\n                return;\n            }\n            return value;\n        }, 2);\n    }\n    exportImage(callback, type, quality) {\n        const element = this.canvas.element;\n        if (element) {\n            element.toBlob(callback, type !== null && type !== void 0 ? type : \"image/png\", quality);\n        }\n    }\n    exportImg(callback) {\n        this.exportImage(callback);\n    }\n    getAnimationStatus() {\n        return !this._paused && !this.pageHidden && guardCheck(this);\n    }\n    handleClickMode(mode) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.particles.handleClickMode(mode);\n        for (const [, plugin] of this.plugins) {\n            if (plugin.handleClickMode) {\n                plugin.handleClickMode(mode);\n            }\n        }\n    }\n    async init() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const shapes = this._engine.plugins.getSupportedShapes();\n        for (const type of shapes) {\n            const drawer = this._engine.plugins.getShapeDrawer(type);\n            if (drawer) {\n                this.drawers.set(type, drawer);\n            }\n        }\n        this._options = loadContainerOptions(this._engine, this, this._initialSourceOptions, this.sourceOptions);\n        this.actualOptions = loadContainerOptions(this._engine, this, this._options);\n        const availablePlugins = this._engine.plugins.getAvailablePlugins(this);\n        for (const [id, plugin] of availablePlugins) {\n            this.plugins.set(id, plugin);\n        }\n        this.retina.init();\n        await this.canvas.init();\n        this.updateActualOptions();\n        this.canvas.initBackground();\n        this.canvas.resize();\n        this.zLayers = this.actualOptions.zLayers;\n        this.duration = getRangeValue(this.actualOptions.duration) * 1000;\n        this._delay = getRangeValue(this.actualOptions.delay) * 1000;\n        this.lifeTime = 0;\n        this.fpsLimit = this.actualOptions.fpsLimit > 0 ? this.actualOptions.fpsLimit : 120;\n        this.smooth = this.actualOptions.smooth;\n        for (const [, drawer] of this.drawers) {\n            if (drawer.init) {\n                await drawer.init(this);\n            }\n        }\n        for (const [, plugin] of this.plugins) {\n            if (plugin.init) {\n                await plugin.init();\n            }\n        }\n        this._engine.dispatchEvent(\"containerInit\", { container: this });\n        this.particles.init();\n        this.particles.setDensity();\n        for (const [, plugin] of this.plugins) {\n            if (plugin.particlesSetup) {\n                plugin.particlesSetup();\n            }\n        }\n        this._engine.dispatchEvent(\"particlesSetup\", { container: this });\n    }\n    async loadTheme(name) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this._currentTheme = name;\n        await this.refresh();\n    }\n    pause() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        if (this._drawAnimationFrame !== undefined) {\n            cancelAnimation()(this._drawAnimationFrame);\n            delete this._drawAnimationFrame;\n        }\n        if (this._paused) {\n            return;\n        }\n        for (const [, plugin] of this.plugins) {\n            if (plugin.pause) {\n                plugin.pause();\n            }\n        }\n        if (!this.pageHidden) {\n            this._paused = true;\n        }\n        this._engine.dispatchEvent(\"containerPaused\", { container: this });\n    }\n    play(force) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        const needsUpdate = this._paused || force;\n        if (this._firstStart && !this.actualOptions.autoPlay) {\n            this._firstStart = false;\n            return;\n        }\n        if (this._paused) {\n            this._paused = false;\n        }\n        if (needsUpdate) {\n            for (const [, plugin] of this.plugins) {\n                if (plugin.play) {\n                    plugin.play();\n                }\n            }\n        }\n        this._engine.dispatchEvent(\"containerPlay\", { container: this });\n        this.draw(needsUpdate || false);\n    }\n    async refresh() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.stop();\n        return this.start();\n    }\n    async reset() {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this._options = loadContainerOptions(this._engine, this);\n        return this.refresh();\n    }\n    setNoise(noiseOrGenerator, init, update) {\n        if (!guardCheck(this)) {\n            return;\n        }\n        this.setPath(noiseOrGenerator, init, update);\n    }\n    setPath(pathOrGenerator, init, update) {\n        if (!pathOrGenerator || !guardCheck(this)) {\n            return;\n        }\n        const pathGenerator = Object.assign({}, defaultPathGenerator);\n        if (typeof pathOrGenerator === \"function\") {\n            pathGenerator.generate = pathOrGenerator;\n            if (init) {\n                pathGenerator.init = init;\n            }\n            if (update) {\n                pathGenerator.update = update;\n            }\n        }\n        else {\n            const oldGenerator = pathGenerator;\n            pathGenerator.generate = pathOrGenerator.generate || oldGenerator.generate;\n            pathGenerator.init = pathOrGenerator.init || oldGenerator.init;\n            pathGenerator.update = pathOrGenerator.update || oldGenerator.update;\n        }\n        this.addPath(defaultPathGeneratorKey, pathGenerator, true);\n    }\n    async start() {\n        if (!guardCheck(this) || this.started) {\n            return;\n        }\n        await this.init();\n        this.started = true;\n        await new Promise((resolve) => {\n            this._delayTimeout = setTimeout(async () => {\n                this._eventListeners.addListeners();\n                if (this.interactivity.element instanceof HTMLElement && this._intersectionObserver) {\n                    this._intersectionObserver.observe(this.interactivity.element);\n                }\n                for (const [, plugin] of this.plugins) {\n                    if (plugin.start) {\n                        await plugin.start();\n                    }\n                }\n                this._engine.dispatchEvent(\"containerStarted\", { container: this });\n                this.play();\n                resolve();\n            }, this._delay);\n        });\n    }\n    stop() {\n        if (!guardCheck(this) || !this.started) {\n            return;\n        }\n        if (this._delayTimeout) {\n            clearTimeout(this._delayTimeout);\n            delete this._delayTimeout;\n        }\n        this._firstStart = true;\n        this.started = false;\n        this._eventListeners.removeListeners();\n        this.pause();\n        this.particles.clear();\n        this.canvas.clear();\n        if (this.interactivity.element instanceof HTMLElement && this._intersectionObserver) {\n            this._intersectionObserver.unobserve(this.interactivity.element);\n        }\n        for (const [, plugin] of this.plugins) {\n            if (plugin.stop) {\n                plugin.stop();\n            }\n        }\n        for (const key of this.plugins.keys()) {\n            this.plugins.delete(key);\n        }\n        this._sourceOptions = this._options;\n        this._engine.dispatchEvent(\"containerStopped\", { container: this });\n    }\n    updateActualOptions() {\n        this.actualOptions.responsive = [];\n        const newMaxWidth = this.actualOptions.setResponsive(this.canvas.size.width, this.retina.pixelRatio, this._options);\n        this.actualOptions.setTheme(this._currentTheme);\n        if (this.responsiveMaxWidth === newMaxWidth) {\n            return false;\n        }\n        this.responsiveMaxWidth = newMaxWidth;\n        return true;\n    }\n    _intersectionManager(entries) {\n        if (!guardCheck(this) || !this.actualOptions.pauseOnOutsideViewport) {\n            return;\n        }\n        for (const entry of entries) {\n            if (entry.target !== this.interactivity.element) {\n                continue;\n            }\n            (entry.isIntersecting ? this.play : this.pause)();\n        }\n    }\n}\n","import { Container } from \"./Container\";\nimport { generatedAttribute } from \"./Utils/Constants\";\nimport { getRandom } from \"../Utils/NumberUtils\";\nimport { itemFromSingleOrMultiple } from \"../Utils/Utils\";\nasync function getDataFromUrl(jsonUrl, index) {\n    const url = itemFromSingleOrMultiple(jsonUrl, index);\n    if (!url) {\n        return;\n    }\n    const response = await fetch(url);\n    if (response.ok) {\n        return response.json();\n    }\n    console.error(`tsParticles - Error ${response.status} while retrieving config file`);\n}\nexport class Loader {\n    constructor(engine) {\n        this._engine = engine;\n    }\n    load(tagId, options, index) {\n        const params = { index, remote: false };\n        if (typeof tagId === \"string\") {\n            params.tagId = tagId;\n        }\n        else {\n            params.options = tagId;\n        }\n        if (typeof options === \"number\") {\n            params.index = options;\n        }\n        else {\n            params.options = options !== null && options !== void 0 ? options : params.options;\n        }\n        return this.loadOptions(params);\n    }\n    async loadJSON(tagId, jsonUrl, index) {\n        let url, id;\n        if (typeof jsonUrl === \"number\" || jsonUrl === undefined) {\n            url = tagId;\n        }\n        else {\n            id = tagId;\n            url = jsonUrl;\n        }\n        return this.loadRemoteOptions({ tagId: id, url, index, remote: true });\n    }\n    async loadOptions(params) {\n        var _a, _b, _c;\n        const tagId = (_a = params.tagId) !== null && _a !== void 0 ? _a : `tsparticles${Math.floor(getRandom() * 10000)}`, { index, url: jsonUrl, remote } = params, options = remote ? await getDataFromUrl(jsonUrl, index) : params.options;\n        let domContainer = (_b = params.element) !== null && _b !== void 0 ? _b : document.getElementById(tagId);\n        if (!domContainer) {\n            domContainer = document.createElement(\"div\");\n            domContainer.id = tagId;\n            (_c = document.querySelector(\"body\")) === null || _c === void 0 ? void 0 : _c.append(domContainer);\n        }\n        const currentOptions = itemFromSingleOrMultiple(options, index), dom = this._engine.dom(), oldIndex = dom.findIndex((v) => v.id === tagId);\n        if (oldIndex >= 0) {\n            const old = this._engine.domItem(oldIndex);\n            if (old && !old.destroyed) {\n                old.destroy();\n                dom.splice(oldIndex, 1);\n            }\n        }\n        let canvasEl;\n        if (domContainer.tagName.toLowerCase() === \"canvas\") {\n            canvasEl = domContainer;\n            canvasEl.dataset[generatedAttribute] = \"false\";\n        }\n        else {\n            const existingCanvases = domContainer.getElementsByTagName(\"canvas\");\n            if (existingCanvases.length) {\n                canvasEl = existingCanvases[0];\n                canvasEl.dataset[generatedAttribute] = \"false\";\n            }\n            else {\n                canvasEl = document.createElement(\"canvas\");\n                canvasEl.dataset[generatedAttribute] = \"true\";\n                domContainer.appendChild(canvasEl);\n            }\n        }\n        if (!canvasEl.style.width) {\n            canvasEl.style.width = \"100%\";\n        }\n        if (!canvasEl.style.height) {\n            canvasEl.style.height = \"100%\";\n        }\n        const newItem = new Container(this._engine, tagId, currentOptions);\n        if (oldIndex >= 0) {\n            dom.splice(oldIndex, 0, newItem);\n        }\n        else {\n            dom.push(newItem);\n        }\n        newItem.canvas.loadCanvas(canvasEl);\n        await newItem.start();\n        return newItem;\n    }\n    async loadRemoteOptions(params) {\n        return this.loadOptions(params);\n    }\n    async set(id, domContainer, options, index) {\n        const params = { index, remote: false };\n        if (typeof id === \"string\") {\n            params.tagId = id;\n        }\n        else {\n            params.element = id;\n        }\n        if (domContainer instanceof HTMLElement) {\n            params.element = domContainer;\n        }\n        else {\n            params.options = domContainer;\n        }\n        if (typeof options === \"number\") {\n            params.index = options;\n        }\n        else {\n            params.options = options !== null && options !== void 0 ? options : params.options;\n        }\n        return this.loadOptions(params);\n    }\n    async setJSON(id, domContainer, jsonUrl, index) {\n        let url, newId, newIndex, element;\n        if (id instanceof HTMLElement) {\n            element = id;\n            url = domContainer;\n            newIndex = jsonUrl;\n        }\n        else {\n            newId = id;\n            element = domContainer;\n            url = jsonUrl;\n            newIndex = index;\n        }\n        return this.loadRemoteOptions({ tagId: newId, url, index: newIndex, element, remote: true });\n    }\n}\n","import { executeOnSingleOrMultiple } from \"../../Utils/Utils\";\nfunction getItemsFromInitializer(container, map, initializers, force = false) {\n    let res = map.get(container);\n    if (!res || force) {\n        res = [...initializers.values()].map((t) => t(container));\n        map.set(container, res);\n    }\n    return res;\n}\nexport class Plugins {\n    constructor(engine) {\n        this._engine = engine;\n        this.plugins = [];\n        this._initializers = {\n            interactors: new Map(),\n            movers: new Map(),\n            updaters: new Map(),\n        };\n        this.interactors = new Map();\n        this.movers = new Map();\n        this.updaters = new Map();\n        this.presets = new Map();\n        this.drawers = new Map();\n        this.pathGenerators = new Map();\n    }\n    addInteractor(name, initInteractor) {\n        this._initializers.interactors.set(name, initInteractor);\n    }\n    addParticleMover(name, initMover) {\n        this._initializers.movers.set(name, initMover);\n    }\n    addParticleUpdater(name, initUpdater) {\n        this._initializers.updaters.set(name, initUpdater);\n    }\n    addPathGenerator(type, pathGenerator) {\n        if (!this.getPathGenerator(type)) {\n            this.pathGenerators.set(type, pathGenerator);\n        }\n    }\n    addPlugin(plugin) {\n        if (!this.getPlugin(plugin.id)) {\n            this.plugins.push(plugin);\n        }\n    }\n    addPreset(presetKey, options, override = false) {\n        if (override || !this.getPreset(presetKey)) {\n            this.presets.set(presetKey, options);\n        }\n    }\n    addShapeDrawer(types, drawer) {\n        executeOnSingleOrMultiple(types, (type) => {\n            if (!this.getShapeDrawer(type)) {\n                this.drawers.set(type, drawer);\n            }\n        });\n    }\n    destroy(container) {\n        this.updaters.delete(container);\n        this.movers.delete(container);\n        this.interactors.delete(container);\n    }\n    getAvailablePlugins(container) {\n        const res = new Map();\n        for (const plugin of this.plugins) {\n            if (!plugin.needsPlugin(container.actualOptions)) {\n                continue;\n            }\n            res.set(plugin.id, plugin.getPlugin(container));\n        }\n        return res;\n    }\n    getInteractors(container, force = false) {\n        return getItemsFromInitializer(container, this.interactors, this._initializers.interactors, force);\n    }\n    getMovers(container, force = false) {\n        return getItemsFromInitializer(container, this.movers, this._initializers.movers, force);\n    }\n    getPathGenerator(type) {\n        return this.pathGenerators.get(type);\n    }\n    getPlugin(plugin) {\n        return this.plugins.find((t) => t.id === plugin);\n    }\n    getPreset(preset) {\n        return this.presets.get(preset);\n    }\n    getShapeDrawer(type) {\n        return this.drawers.get(type);\n    }\n    getSupportedShapes() {\n        return this.drawers.keys();\n    }\n    getUpdaters(container, force = false) {\n        return getItemsFromInitializer(container, this.updaters, this._initializers.updaters, force);\n    }\n    loadOptions(options, sourceOptions) {\n        for (const plugin of this.plugins) {\n            plugin.loadOptions(options, sourceOptions);\n        }\n    }\n    loadParticlesOptions(container, options, ...sourceOptions) {\n        const updaters = this.updaters.get(container);\n        if (!updaters) {\n            return;\n        }\n        for (const updater of updaters) {\n            if (updater.loadOptions) {\n                updater.loadOptions(options, ...sourceOptions);\n            }\n        }\n    }\n}\n","import { EventDispatcher } from \"./Utils/EventDispatcher\";\nimport { Loader } from \"./Core/Loader\";\nimport { Plugins } from \"./Core/Utils/Plugins\";\nexport class Engine {\n    constructor() {\n        this._domArray = [];\n        this._eventDispatcher = new EventDispatcher();\n        this._initialized = false;\n        this._loader = new Loader(this);\n        this.plugins = new Plugins(this);\n    }\n    addEventListener(type, listener) {\n        this._eventDispatcher.addEventListener(type, listener);\n    }\n    async addInteractor(name, interactorInitializer) {\n        this.plugins.addInteractor(name, interactorInitializer);\n        await this.refresh();\n    }\n    async addMover(name, moverInitializer) {\n        this.plugins.addParticleMover(name, moverInitializer);\n        await this.refresh();\n    }\n    async addParticleUpdater(name, updaterInitializer) {\n        this.plugins.addParticleUpdater(name, updaterInitializer);\n        await this.refresh();\n    }\n    async addPathGenerator(name, generator) {\n        this.plugins.addPathGenerator(name, generator);\n        await this.refresh();\n    }\n    async addPlugin(plugin) {\n        this.plugins.addPlugin(plugin);\n        await this.refresh();\n    }\n    async addPreset(preset, options, override = false) {\n        this.plugins.addPreset(preset, options, override);\n        await this.refresh();\n    }\n    async addShape(shape, drawer, init, afterEffect, destroy) {\n        let customDrawer;\n        if (typeof drawer === \"function\") {\n            customDrawer = {\n                afterEffect: afterEffect,\n                destroy: destroy,\n                draw: drawer,\n                init: init,\n            };\n        }\n        else {\n            customDrawer = drawer;\n        }\n        this.plugins.addShapeDrawer(shape, customDrawer);\n        await this.refresh();\n    }\n    dispatchEvent(type, args) {\n        this._eventDispatcher.dispatchEvent(type, args);\n    }\n    dom() {\n        return this._domArray;\n    }\n    domItem(index) {\n        const dom = this.dom(), item = dom[index];\n        if (item && !item.destroyed) {\n            return item;\n        }\n        dom.splice(index, 1);\n    }\n    init() {\n        if (!this._initialized) {\n            this._initialized = true;\n        }\n    }\n    async load(tagId, options) {\n        return this._loader.load(tagId, options);\n    }\n    async loadFromArray(tagId, options, index) {\n        return this._loader.load(tagId, options, index);\n    }\n    async loadJSON(tagId, pathConfigJson, index) {\n        return this._loader.loadJSON(tagId, pathConfigJson, index);\n    }\n    async refresh() {\n        for (const instance of this.dom()) {\n            await instance.refresh();\n        }\n    }\n    removeEventListener(type, listener) {\n        this._eventDispatcher.removeEventListener(type, listener);\n    }\n    async set(id, element, options) {\n        return this._loader.set(id, element, options);\n    }\n    async setJSON(id, element, pathConfigJson, index) {\n        return this._loader.setJSON(id, element, pathConfigJson, index);\n    }\n    setOnClickHandler(callback) {\n        const dom = this.dom();\n        if (!dom.length) {\n            throw new Error(\"Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()\");\n        }\n        for (const domItem of dom) {\n            domItem.addClickHandler(callback);\n        }\n    }\n}\n","import { getRangeValue, parseAlpha } from \"./NumberUtils\";\nimport { hslToRgb, hslaToRgba } from \"./ColorUtils\";\nexport class HslColorManager {\n    constructor() {\n        this.key = \"hsl\";\n        this.stringPrefix = \"hsl\";\n    }\n    handleColor(color) {\n        var _a;\n        const colorValue = color.value, hslColor = (_a = colorValue.hsl) !== null && _a !== void 0 ? _a : color.value;\n        if (hslColor.h !== undefined && hslColor.s !== undefined && hslColor.l !== undefined) {\n            return hslToRgb(hslColor);\n        }\n    }\n    handleRangeColor(color) {\n        var _a;\n        const colorValue = color.value, hslColor = (_a = colorValue.hsl) !== null && _a !== void 0 ? _a : color.value;\n        if (hslColor.h !== undefined && hslColor.l !== undefined) {\n            return hslToRgb({\n                h: getRangeValue(hslColor.h),\n                l: getRangeValue(hslColor.l),\n                s: getRangeValue(hslColor.s),\n            });\n        }\n    }\n    parseString(input) {\n        if (!input.startsWith(\"hsl\")) {\n            return;\n        }\n        const regex = /hsla?\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*(,\\s*([\\d.%]+)\\s*)?\\)/i, result = regex.exec(input);\n        return result\n            ? hslaToRgba({\n                a: result.length > 4 ? parseAlpha(result[5]) : 1,\n                h: parseInt(result[1], 10),\n                l: parseInt(result[3], 10),\n                s: parseInt(result[2], 10),\n            })\n            : undefined;\n    }\n}\n","import { getRangeValue, parseAlpha } from \"./NumberUtils\";\nexport class RgbColorManager {\n    constructor() {\n        this.key = \"rgb\";\n        this.stringPrefix = \"rgb\";\n    }\n    handleColor(color) {\n        var _a;\n        const colorValue = color.value, rgbColor = (_a = colorValue.rgb) !== null && _a !== void 0 ? _a : color.value;\n        if (rgbColor.r !== undefined) {\n            return rgbColor;\n        }\n    }\n    handleRangeColor(color) {\n        var _a;\n        const colorValue = color.value, rgbColor = (_a = colorValue.rgb) !== null && _a !== void 0 ? _a : color.value;\n        if (rgbColor.r !== undefined) {\n            return {\n                r: getRangeValue(rgbColor.r),\n                g: getRangeValue(rgbColor.g),\n                b: getRangeValue(rgbColor.b),\n            };\n        }\n    }\n    parseString(input) {\n        if (!input.startsWith(this.stringPrefix)) {\n            return;\n        }\n        const regex = /rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([\\d.%]+)\\s*)?\\)/i, result = regex.exec(input);\n        return result\n            ? {\n                a: result.length > 4 ? parseAlpha(result[5]) : 1,\n                b: parseInt(result[3], 10),\n                g: parseInt(result[2], 10),\n                r: parseInt(result[1], 10),\n            }\n            : undefined;\n    }\n}\n","export class ExternalInteractorBase {\n    constructor(container) {\n        this.container = container;\n        this.type = \"external\";\n    }\n}\n","export class ParticlesInteractorBase {\n    constructor(container) {\n        this.container = container;\n        this.type = \"particles\";\n    }\n}\n","import { Engine } from \"./engine\";\nimport { HslColorManager } from \"./Utils/HslColorManager\";\nimport { RgbColorManager } from \"./Utils/RgbColorManager\";\nimport { addColorManager } from \"./Utils/ColorUtils\";\nconst rgbColorManager = new RgbColorManager(), hslColorManager = new HslColorManager();\naddColorManager(rgbColorManager);\naddColorManager(hslColorManager);\nconst tsParticles = new Engine();\ntsParticles.init();\nexport * from \"./Core/Interfaces/Colors\";\nexport * from \"./Core/Interfaces/IBounds\";\nexport * from \"./Core/Interfaces/IBubbleParticleData\";\nexport * from \"./Core/Interfaces/ICircleBouncer\";\nexport * from \"./Core/Interfaces/IColorManager\";\nexport * from \"./Core/Interfaces/IContainerInteractivity\";\nexport * from \"./Core/Interfaces/IContainerPlugin\";\nexport * from \"./Core/Interfaces/ICoordinates\";\nexport * from \"./Core/Interfaces/IDelta\";\nexport * from \"./Core/Interfaces/IDimension\";\nexport * from \"./Core/Interfaces/IDistance\";\nexport * from \"./Core/Interfaces/IExternalInteractor\";\nexport * from \"./Core/Interfaces/IInteractor\";\nexport * from \"./Core/Interfaces/IMouseData\";\nexport * from \"./Core/Interfaces/IMovePathGenerator\";\nexport * from \"./Core/Interfaces/IParticle\";\nexport * from \"./Core/Interfaces/IParticleColorStyle\";\nexport * from \"./Core/Interfaces/IParticleHslAnimation\";\nexport * from \"./Core/Interfaces/IParticlesInteractor\";\nexport * from \"./Core/Interfaces/IParticleLife\";\nexport * from \"./Core/Interfaces/IParticleRetinaProps\";\nexport * from \"./Core/Interfaces/IParticleRoll\";\nexport * from \"./Core/Interfaces/IParticleTransformValues\";\nexport * from \"./Core/Interfaces/IParticleUpdater\";\nexport * from \"./Core/Interfaces/IParticleValueAnimation\";\nexport * from \"./Core/Interfaces/IParticlesMover\";\nexport * from \"./Core/Interfaces/IPlugin\";\nexport * from \"./Core/Interfaces/IRangeValue\";\nexport * from \"./Core/Interfaces/IRectSideResult\";\nexport * from \"./Core/Interfaces/IShapeDrawer\";\nexport * from \"./Core/Interfaces/IShapeValues\";\nexport * from \"./Core/Interfaces/ISlowParticleData\";\nexport * from \"./Core/Utils/Circle\";\nexport * from \"./Core/Utils/Constants\";\nexport * from \"./Core/Utils/ExternalInteractorBase\";\nexport * from \"./Core/Utils/ParticlesInteractorBase\";\nexport * from \"./Core/Utils/Point\";\nexport * from \"./Core/Utils/Range\";\nexport * from \"./Core/Utils/Rectangle\";\nexport * from \"./Core/Utils/Vector\";\nexport * from \"./Core/Utils/Vector3d\";\nexport * from \"./Enums/Directions/MoveDirection\";\nexport * from \"./Enums/Directions/RotateDirection\";\nexport * from \"./Enums/Directions/OutModeDirection\";\nexport * from \"./Enums/Modes/ClickMode\";\nexport * from \"./Enums/Modes/DivMode\";\nexport * from \"./Enums/Modes/HoverMode\";\nexport * from \"./Enums/Modes/CollisionMode\";\nexport * from \"./Enums/Modes/OutMode\";\nexport * from \"./Enums/Modes/SizeMode\";\nexport * from \"./Enums/Modes/ThemeMode\";\nexport * from \"./Enums/Modes/ResponsiveMode\";\nexport * from \"./Enums/Types/AlterType\";\nexport * from \"./Enums/Types/DestroyType\";\nexport * from \"./Enums/Types/GradientType\";\nexport * from \"./Enums/Types/InteractorType\";\nexport * from \"./Enums/Types/ParticleOutType\";\nexport * from \"./Enums/Types/StartValueType\";\nexport * from \"./Enums/Types/DivType\";\nexport * from \"./Enums/Types/EasingType\";\nexport * from \"./Enums/Types/EventType\";\nexport * from \"./Enums/AnimationStatus\";\nexport * from \"./Enums/InteractivityDetect\";\nexport * from \"./Options/Classes/AnimatableColor\";\nexport * from \"./Options/Classes/AnimationOptions\";\nexport * from \"./Options/Classes/Background/Background\";\nexport * from \"./Options/Classes/BackgroundMask/BackgroundMask\";\nexport * from \"./Options/Classes/BackgroundMask/BackgroundMaskCover\";\nexport * from \"./Options/Classes/ColorAnimation\";\nexport * from \"./Options/Classes/FullScreen/FullScreen\";\nexport * from \"./Options/Classes/HslAnimation\";\nexport * from \"./Options/Classes/Interactivity/Events/ClickEvent\";\nexport * from \"./Options/Classes/Interactivity/Events/DivEvent\";\nexport * from \"./Options/Classes/Interactivity/Events/ClickEvent\";\nexport * from \"./Options/Classes/Interactivity/Events/DivEvent\";\nexport * from \"./Options/Classes/Interactivity/Events/Events\";\nexport * from \"./Options/Classes/Interactivity/Events/HoverEvent\";\nexport * from \"./Options/Classes/Interactivity/Events/Parallax\";\nexport * from \"./Options/Classes/Interactivity/Interactivity\";\nexport * from \"./Options/Classes/Interactivity/Modes/Modes\";\nexport * from \"./Options/Classes/ManualParticle\";\nexport * from \"./Options/Classes/Options\";\nexport * from \"./Options/Classes/OptionsColor\";\nexport * from \"./Options/Classes/Particles/Bounce/ParticlesBounce\";\nexport * from \"./Options/Classes/Particles/Bounce/ParticlesBounceFactor\";\nexport * from \"./Options/Classes/Particles/Collisions/Collisions\";\nexport * from \"./Options/Classes/Particles/Collisions/CollisionsOverlap\";\nexport * from \"./Options/Classes/Particles/ParticlesOptions\";\nexport * from \"./Options/Classes/Particles/Shadow\";\nexport * from \"./Options/Classes/Particles/Stroke\";\nexport * from \"./Options/Classes/Particles/Move/MoveAttract\";\nexport * from \"./Options/Classes/Particles/Move/Move\";\nexport * from \"./Options/Classes/Particles/Move/MoveAngle\";\nexport * from \"./Options/Classes/Particles/Move/MoveCenter\";\nexport * from \"./Options/Classes/Particles/Move/MoveGravity\";\nexport * from \"./Options/Classes/Particles/Move/OutModes\";\nexport * from \"./Options/Classes/Particles/Move/Path/MovePath\";\nexport * from \"./Options/Classes/Particles/Move/Spin\";\nexport * from \"./Options/Classes/Particles/Move/MoveTrail\";\nexport * from \"./Options/Classes/Particles/Number/ParticlesNumber\";\nexport * from \"./Options/Classes/Particles/Number/ParticlesDensity\";\nexport * from \"./Options/Classes/Particles/Opacity/Opacity\";\nexport * from \"./Options/Classes/Particles/Opacity/OpacityAnimation\";\nexport * from \"./Options/Classes/Particles/Shape/Shape\";\nexport * from \"./Options/Classes/Particles/Size/Size\";\nexport * from \"./Options/Classes/Particles/Size/SizeAnimation\";\nexport * from \"./Options/Classes/Particles/ZIndex/ZIndex\";\nexport * from \"./Options/Classes/Responsive\";\nexport * from \"./Options/Classes/Theme/Theme\";\nexport * from \"./Options/Classes/Theme/ThemeDefault\";\nexport * from \"./Options/Classes/ValueWithRandom\";\nexport * from \"./Options/Interfaces/Background/IBackground\";\nexport * from \"./Options/Interfaces/BackgroundMask/IBackgroundMask\";\nexport * from \"./Options/Interfaces/BackgroundMask/IBackgroundMaskCover\";\nexport * from \"./Options/Interfaces/FullScreen/IFullScreen\";\nexport * from \"./Options/Interfaces/IAnimatable\";\nexport * from \"./Options/Interfaces/IAnimatableColor\";\nexport * from \"./Options/Interfaces/IAnimation\";\nexport * from \"./Options/Interfaces/IColorAnimation\";\nexport * from \"./Options/Interfaces/IHslAnimation\";\nexport * from \"./Options/Interfaces/IManualParticle\";\nexport * from \"./Options/Interfaces/IOptionLoader\";\nexport * from \"./Options/Interfaces/IOptions\";\nexport * from \"./Options/Interfaces/IOptionsColor\";\nexport * from \"./Options/Interfaces/IResponsive\";\nexport * from \"./Options/Interfaces/IValueWithRandom\";\nexport * from \"./Options/Interfaces/Interactivity/Events/IClickEvent\";\nexport * from \"./Options/Interfaces/Interactivity/Events/IDivEvent\";\nexport * from \"./Options/Interfaces/Interactivity/Events/IEvents\";\nexport * from \"./Options/Interfaces/Interactivity/Events/IHoverEvent\";\nexport * from \"./Options/Interfaces/Interactivity/Events/IParallax\";\nexport * from \"./Options/Interfaces/Interactivity/Modes/IModeDiv\";\nexport * from \"./Options/Interfaces/Interactivity/Modes/IModes\";\nexport * from \"./Options/Interfaces/Interactivity/IInteractivity\";\nexport * from \"./Options/Interfaces/Particles/Bounce/IParticlesBounce\";\nexport * from \"./Options/Interfaces/Particles/Collisions/ICollisions\";\nexport * from \"./Options/Interfaces/Particles/Collisions/ICollisionsOverlap\";\nexport * from \"./Options/Interfaces/Particles/IParticlesOptions\";\nexport * from \"./Options/Interfaces/Particles/IShadow\";\nexport * from \"./Options/Interfaces/Particles/IStroke\";\nexport * from \"./Options/Interfaces/Particles/Move/IMoveAttract\";\nexport * from \"./Options/Interfaces/Particles/Move/IMove\";\nexport * from \"./Options/Interfaces/Particles/Move/IMoveAngle\";\nexport * from \"./Options/Interfaces/Particles/Move/IMoveCenter\";\nexport * from \"./Options/Interfaces/Particles/Move/IMoveGravity\";\nexport * from \"./Options/Interfaces/Particles/Move/Path/IMovePath\";\nexport * from \"./Options/Interfaces/Particles/Move/IOutModes\";\nexport * from \"./Options/Interfaces/Particles/Move/ISpin\";\nexport * from \"./Options/Interfaces/Particles/Move/IMoveTrail\";\nexport * from \"./Options/Interfaces/Particles/Number/IParticlesDensity\";\nexport * from \"./Options/Interfaces/Particles/Number/IParticlesNumber\";\nexport * from \"./Options/Interfaces/Particles/Opacity/IOpacity\";\nexport * from \"./Options/Interfaces/Particles/Opacity/IOpacityAnimation\";\nexport * from \"./Options/Interfaces/Particles/Shape/ICharacterShape\";\nexport * from \"./Options/Interfaces/Particles/Shape/IImageShape\";\nexport * from \"./Options/Interfaces/Particles/Shape/IPolygonShape\";\nexport * from \"./Options/Interfaces/Particles/Shape/IShape\";\nexport * from \"./Options/Interfaces/Particles/Shape/IShapeValues\";\nexport * from \"./Options/Interfaces/Particles/Shape/IStarShape\";\nexport * from \"./Options/Interfaces/Particles/Size/ISize\";\nexport * from \"./Options/Interfaces/Particles/Size/ISizeAnimation\";\nexport * from \"./Options/Interfaces/Particles/ZIndex/IZIndex\";\nexport * from \"./Options/Interfaces/Theme/ITheme\";\nexport * from \"./Options/Interfaces/Theme/IThemeDefault\";\nexport * from \"./Types/CustomEventArgs\";\nexport * from \"./Types/CustomEventListener\";\nexport * from \"./Types/ParticlesGroups\";\nexport * from \"./Types/PathOptions\";\nexport * from \"./Types/RangeValue\";\nexport * from \"./Types/RecursivePartial\";\nexport * from \"./Types/ShapeData\";\nexport * from \"./Types/ShapeDrawerFunctions\";\nexport * from \"./Types/SingleOrMultiple\";\nexport * from \"./Utils/CanvasUtils\";\nexport * from \"./Utils/ColorUtils\";\nexport * from \"./Utils/HslColorManager\";\nexport * from \"./Utils/NumberUtils\";\nexport * from \"./Utils/OptionsUtils\";\nexport * from \"./Utils/RgbColorManager\";\nexport * from \"./Utils/Utils\";\nexport { tsParticles };\nexport { CollisionsAbsorb } from \"./Options/Classes/Particles/Collisions/CollisionsAbsorb\";\nexport { ResizeEvent } from \"./Options/Classes/Interactivity/Events/ResizeEvent\";\n","import { CurvesPathGen } from \"./Curves\";\nimport { Vector } from \"tsparticles-engine\";\nimport { getRandom } from \"tsparticles-engine\";\nexport class CurvesPathGenerator {\n    constructor() {\n        this.options = {\n            rndFunc: null,\n            period: 100,\n            nbHarmonics: 2,\n            attenHarmonics: 0.8,\n            lowValue: -0.03,\n            highValue: 0.03,\n        };\n    }\n    generate(p) {\n        if (p.pathGen === undefined) {\n            const options = this.options;\n            p.pathGen = CurvesPathGen(options.rndFunc, options.period, options.nbHarmonics, options.attenHarmonics, options.lowValue, options.highValue);\n        }\n        if (p.curveVelocity === undefined) {\n            p.curveVelocity = Vector.origin;\n            p.curveVelocity.length = getRandom() * 0.6 + 0.8;\n            p.curveVelocity.angle = getRandom() * Math.PI * 2;\n        }\n        else {\n            p.curveVelocity.length += 0.01;\n            p.curveVelocity.angle = (p.curveVelocity.angle + p.pathGen()) % (Math.PI * 2);\n        }\n        p.velocity.x = 0;\n        p.velocity.y = 0;\n        return p.curveVelocity;\n    }\n    init(container) {\n        var _a, _b, _c, _d, _e;\n        const sourceOptions = container.actualOptions.particles.move.path.options;\n        if (typeof sourceOptions.rndFunc === \"function\") {\n            this.options.rndFunc = sourceOptions.rndFunc;\n        }\n        else if (typeof sourceOptions.rndFunc === \"string\") {\n            this.options.rndFunc =\n                window[sourceOptions.rndFunc] || this.options.rndFunc;\n        }\n        this.options.period = (_a = sourceOptions.period) !== null && _a !== void 0 ? _a : this.options.period;\n        this.options.nbHarmonics = (_b = sourceOptions.nbHarmonics) !== null && _b !== void 0 ? _b : this.options.nbHarmonics;\n        this.options.attenHarmonics = (_c = sourceOptions.attenHarmonics) !== null && _c !== void 0 ? _c : this.options.attenHarmonics;\n        this.options.lowValue = (_d = sourceOptions.lowValue) !== null && _d !== void 0 ? _d : this.options.lowValue;\n        this.options.highValue = (_e = sourceOptions.highValue) !== null && _e !== void 0 ? _e : this.options.highValue;\n    }\n    reset(particle) {\n        delete particle.pathGen;\n        delete particle.curveVelocity;\n    }\n    update() {\n    }\n}\n","import { CurvesPathGenerator } from \"./CurvesPathGenerator\";\nexport const curvesPathName = \"curvesPathGenerator\";\nexport function loadCurvesPath(engine) {\n    engine.addPathGenerator(curvesPathName, new CurvesPathGenerator());\n}\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}"],"names":["EventDispatcher","this","_listeners","Map","type","listener","_a","removeEventListener","get","set","push","args","forEach","handler","delete","arr","length","idx","indexOf","splice","Vector3d","xOrCoords","y","z","x","coords3d","undefined","Error","Math","atan2","angle","updateFromAngle","sqrt","getLengthSq","v","create","clone","sub","n","cos","sin","c","v3d","source","Vector","_random","random","easings","getEasing","name","value","getRandom","clamp","num","min","max","mix","comp1","comp2","weight1","weight2","floor","randomInRange","r","getRangeMax","getRangeMin","getRangeValue","setRangeValue","getValue","options","enable","minimumValue","getDistances","pointA","pointB","dx","dy","distance","getDistance","collisionVelocity","v1","v2","m1","m2","calcPositionOrRandomFromSize","data","_b","_c","_d","position","size","width","height","calcPositionOrRandomFromSizeRanged","calcExactPositionOrRandomFromSize","parseAlpha","input","endsWith","parseFloat","rectSideBounce","pSide","pOtherSide","rectSide","rectOtherSide","velocity","factor","res","bounced","isSsr","window","document","safeMatchMedia","query","matchMedia","isInArray","array","Array","loadFont","font","weight","fonts","load","arrayRandomIndex","itemFromArray","index","useIndex","isPointInside","point","offset","radius","direction","bounds","inside","top","right","left","bottom","areBoundsInside","calculateBounds","deepExtend","destination","sources","sourceIsArray","isArray","key","isObject","destDict","map","isDivModeEnabled","mode","divs","findItemFromSingleOrMultiple","t","divModeExecute","callback","executeOnSingleOrMultiple","div","divMode","selectors","selector","singleDivModeExecute","element","matches","some","checkSelector","circleBounceDataFromParticle","p","getPosition","getRadius","mass","getMass","bounce","horizontal","vertical","circleBounce","p1","p2","xVelocityDiff","yVelocityDiff","xDist","yDist","u1","rotate","u2","vFinal1","vFinal2","rectBounce","particle","divBounds","resH","resV","obj","item","itemFromSingleOrMultiple","find","randomColorValue","midColorValue","colorManagers","addColorManager","manager","hue2rgb","q","stringToRgba","startsWith","stringPrefix","parseString","hexFixed","replace","_","g","b","a","result","exec","parseInt","rangeColorToRgb","color","colorToRgb","handleRangeColor","getRandomRgbColor","stringToRgb","handleColor","rangeColorToHsl","rgb","rgbToHsl","r1","g1","b1","h","l","s","hslToRgb","hsl","hslPercent","fixedMin","getStyleFromRgb","opacity","getStyleFromHsl","colorMix","color1","color2","size1","size2","rgb1","rgb2","getLinkColor","linkColor","sourceColor","getFillColor","getStrokeColor","destColor","hslColor","getLinkRandomColor","optColor","blink","consent","getHslFromAnimation","animation","getHslAnimationFromHsl","animationOptions","reduceFactor","resColor","setColorAnimation","colorValue","colorAnimation","speed","decay","status","loops","maxLoops","count","sync","initialValue","drawLine","context","begin","end","beginPath","moveTo","lineTo","closePath","drawTriangle","p3","clear","dimension","clearRect","generatedAttribute","touchEndEvent","mouseMoveEvent","mouseLeaveEvent","setTransformValue","newFactor","newValue","Canvas","container","_context","_generated","_preDrawUpdaters","_postDrawUpdaters","_resizePlugins","_colorPlugins","_mutationObserver","MutationObserver","records","record","attributeName","_repairStyle","actualOptions","fullScreen","trail","particles","move","trailFill","_trailFill","backgroundMask","paint","_paintBase","image","_paintImage","draw","ctx","disconnect","remove","_resetOriginalStyle","cb","delta","spawning","destroyed","pfColor","psColor","_getPluginParticleColors","fColor","sColor","zIndexOptions","zIndex","zOpacityFactor","zIndexFactor","opacityRate","bubble","zOpacity","zStrokeOpacity","strokeOpacity","transform","colorStyles","fill","stroke","_applyPreDrawUpdaters","_e","composite","shadow","pos","rotation","pathRotation","rotateData","transformData","d","setTransform","globalCompositeOperation","shadowColor","shadowBlur","blur","shadowOffsetX","shadowOffsetY","fillStyle","strokeWidth","lineWidth","strokeStyle","shape","drawer","drawers","retina","pixelRatio","drawShape","close","afterEffect","drawShapeAfterEffect","drawParticle","sizeRate","_applyPostDrawUpdaters","plugin","drawParticlePlugin","drawPlugin","resize","_initStyle","_initCover","_initTrail","console","error","initBackground","observe","attributes","initUpdaters","initPlugins","background","elementStyle","style","backgroundColor","backgroundImage","backgroundPosition","backgroundRepeat","repeat","backgroundSize","plugins","particleFillColor","particleStrokeColor","updaters","updater","afterDraw","getColorStyles","getTransformValues","beforeDraw","canvas","dataset","ariaHidden","_originalStyle","offsetHeight","offsetWidth","getContext","init","cover","_coverColorStyle","pxRatio","newSize","oldSize","Object","assign","started","resizeFactor","needsRefresh","updateActualOptions","setDensity","_applyResizePlugins","refresh","call","updaterTransform","coverRgb","coverColor","_fullScreen","_setFullScreenStyle","setProperty","fillColor","Promise","resolve","reject","img","createElement","addEventListener","evt","src","baseColor","fillRect","paintBase","globalAlpha","drawImage","paintImage","originalStyle","priority","toString","manageListener","event","add","addOptions","passive","capture","removeOptions","EventListeners","canPush","handlers","mouseMove","e","mouseTouchMove","touchStart","touchMove","touchEnd","mouseTouchFinish","mouseLeave","touchCancel","touchEndClick","mouseTouchClick","mouseUp","mouseDown","visibilityChange","handleVisibilityChange","themeChange","handleThemeChange","oldThemeChange","handleWindowResize","manageListeners","mouseInteractivity","interactivity","mouse","mousePos","clickPosition","clickTime","Date","getTime","events","onClick","handleClickMode","setTimeout","mediaEvent","defaultThemes","themeName","dark","light","theme","themes","default","auto","loadTheme","pauseOnBlur","hidden","pageHidden","pause","getAnimationStatus","play","resizeTimeout","clearTimeout","windowResize","delay","detectType","detectsOn","mouseLeaveTmpEvent","canvasEl","parentElement","parentNode","mediaMatch","addListener","removeListener","interactivityEl","html","onHover","pointerEvents","ResizeObserver","resizeObserver","unobserve","entries","target","clicking","downPosition","handled","mousePosition","clickPositionValid","doMouseTouchClick","_f","_g","mouseEvent","clientRect","getBoundingClientRect","clientX","clientY","currentTarget","sourceRect","targetRect","canvasRect","offsetX","offsetY","touchEvent","lastTouch","touches","initDelta","fpsLimit","smooth","FrameManager","timestamp","lastFrameTime","lifeTime","duration","destroy","OptionsColor","Background","BackgroundMaskCover","BackgroundMask","FullScreen","ClickEvent","DivEvent","elementId","ids","el","Parallax","force","HoverEvent","parallax","ResizeEvent","Events","onDiv","onclick","ondiv","tmp","onhover","Modes","engine","_engine","_container","interactors","interactor","loadModeOptions","Interactivity","modes","detect_on","ManualParticle","Responsive","maxWidth","Infinity","ThemeDefault","Theme","ColorAnimation","HslAnimation","AnimatableColor","CollisionsAbsorb","CollisionsOverlap","retries","Random","ValueWithRandom","ParticlesBounceFactor","ParticlesBounce","Collisions","absorb","overlap","MoveAngle","MoveAttract","rotateX","rotateY","MoveCenter","MoveGravity","acceleration","inverse","maxSpeed","MovePath","generator","MoveTrailFill","MoveTrail","OutModes","Spin","Move","attract","center","drift","gravity","path","outModes","spin","straight","vibrate","warp","collisions","outMode","out_mode","noise","AnimationOptions","OpacityAnimation","startValue","opacity_min","Opacity","anim","ParticlesDensity","area","value_area","ParticlesNumber","density","limit","Shadow","charKey","charAltKey","imageKey","imageAltKey","polygonKey","polygonAltKey","Shape","_value","custom","loadShape","character","polygon","images","mainKey","altKey","altOverride","emptyValue","mainDifferentValues","altDifferentValues","SizeAnimation","size_min","Size","Stroke","ZIndex","velocityRate","ParticlesOptions","groups","number","reduceDuplicates","group","strokeToLoad","loadOptions","loadParticlesOptions","sourceOptionsArr","sourceOptions","Options","autoPlay","detectRetina","manualParticles","pauseOnOutsideViewport","responsive","zLayers","preset","_importPreset","retina_detect","fps_limit","backgroundMode","optResponsive","sort","existingTheme","optTheme","_findDefaultTheme","defaultOptions","responsiveOptions","screen","availWidth","chosenTheme","clientDarkMode","defaultTheme","getPreset","InteractionManager","_interactors","getInteractors","_externalInteractors","_particleInteractors","isEnabled","interact","reset","fixOutMode","checkModes","coord","maxCoord","setCb","Particle","id","overrideOptions","override","unbreakable","inRange","slow","particleDestroyed","pathGenerator","_getRollColor","PI","strokeColor","_h","_j","lastPathTime","misplaced","maxDistance","outType","ignoresResizeRatio","mainOptions","particlesOptions","shapeType","shapeOptions","shapeData","_loadShapeData","pathOptions","pathDelay","getPathGenerator","addPath","zIndexValue","initParticle","sizeOptions","sizeRange","sizeAnimation","_calcPosition","initialPosition","copy","canvasSize","moveCenter","isCenterPercent","getParticleDirectionAngle","initialVelocity","_calculateVelocity","moveDecay","origin","needsSort","lastZIndex","sides","getShapeDrawer","sideCountFunc","getSidesCount","movers","mover","particleInit","particleCreated","isInsideCanvas","tryCount","pluginPos","particlePosition","exactPosition","fixHorizontal","fixVertical","_checkOverlap","baseVelocity","getParticleBaseVelocity","moveOptions","rad","radOffset","range","collisionsOptions","overlapOptions","overlaps","roll","backColor","alter","backFactor","backSum","alterHsl","Point","Range","Circle","rect","circle","pos1","pos2","distPos","abs","w","pow","Rectangle","intersects","w2","h2","QuadTree","rectangle","capacity","_points","_divided","contains","subdivide","_NE","insert","_NW","_SE","_SW","check","found","Particles","nextId","zArray","pool","interactionManager","quadTree","getMovers","getUpdaters","addParticle","initializer","countToRemove","removeQuantity","_pushParticle","update","particlesInitialization","pathGenerators","addManualParticles","groupOptions","i","j","nb","pushing","removeAt","quantity","deleted","zIdx","dispatchEvent","_applyDensity","particlesToDelete","particleUpdate","externalInteract","particlesInteract","manualCount","numberOptions","densityFactor","_initDensityFactor","optParticlesNumber","optParticlesLimit","particlesNumber","particlesCount","filter","densityOptions","pop","canAdd","warn","Retina","devicePixelRatio","ratio","attractDistance","sizeAnimationSpeed","moveDistance","props","moveDrift","moveSpeed","guardCheck","loadContainerOptions","defaultPathGenerator","generate","Container","_delay","_firstStart","_paused","_sourceOptions","_initialSourceOptions","frameManager","_options","_eventListeners","IntersectionObserver","_intersectionObserver","_intersectionManager","clickOrTouchHandler","posRetina","queryCircle","touched","touchMoved","changedTouches","radiusX","radiusY","has","stop","keys","mainArr","dom","findIndex","refreshTime","_drawAnimationFrame","requestAnimationFrame","nextFrame","JSON","stringify","quality","toBlob","exportImage","shapes","getSupportedShapes","availablePlugins","getAvailablePlugins","particlesSetup","_currentTheme","handle","cancelAnimationFrame","needsUpdate","start","noiseOrGenerator","setPath","pathOrGenerator","oldGenerator","_delayTimeout","addListeners","HTMLElement","removeListeners","newMaxWidth","setResponsive","setTheme","responsiveMaxWidth","entry","isIntersecting","getDataFromUrl","jsonUrl","url","fetch","response","ok","json","Loader","tagId","params","remote","loadRemoteOptions","domContainer","getElementById","querySelector","append","currentOptions","oldIndex","old","domItem","tagName","toLowerCase","existingCanvases","getElementsByTagName","appendChild","newItem","loadCanvas","newIndex","newId","getItemsFromInitializer","initializers","values","Plugins","_initializers","presets","initInteractor","initMover","initUpdater","getPlugin","presetKey","types","needsPlugin","Engine","_domArray","_eventDispatcher","_initialized","_loader","interactorInitializer","addInteractor","moverInitializer","addParticleMover","updaterInitializer","addParticleUpdater","addPathGenerator","addPlugin","addPreset","customDrawer","addShapeDrawer","pathConfigJson","loadJSON","instance","setJSON","addClickHandler","HslColorManager","hsla","rgbResult","hslaToRgba","RgbColorManager","rgbColor","ExternalInteractorBase","ParticlesInteractorBase","rgbColorManager","hslColorManager","tsParticles","curvesPathName","_superPropBase","object","property","prototype","hasOwnProperty","getPrototypeOf","_get","Reflect","bind","receiver","base","desc","getOwnPropertyDescriptor","arguments","apply"],"sourceRoot":""}