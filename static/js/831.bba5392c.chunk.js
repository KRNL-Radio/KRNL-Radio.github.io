"use strict";(self.webpackChunkkrnl_website=self.webpackChunkkrnl_website||[]).push([[831],{3127:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(4889),l=s(9806),r=s(2791),n=s(7087),i=s(4325),c=s(1425),o=s(1541),d=s(3363);const x=s.p+"static/media/silence.434cb1544ca911aafbb0.mp3";var u=s(3302),m=s(9650),h=s(184);function f(e){let{from:t,hideDays:s,pause:a,forceZero:l}=e;const[n,i]=r.useState({days:0,hours:0,minutes:0,seconds:0});return r.useEffect((()=>{const e=()=>{if(a)return;if(l)return void i({days:0,hours:0,minutes:0,seconds:0});let e=(new Date).getTime()-t.getTime(),r=0;!1===s&&(r=Math.floor(e/864e5),e-=864e5*r);let n=Math.floor(e/36e5);e-=36e5*n;let c=Math.floor(e/6e4);e-=6e4*c;let o=Math.floor(e/1e3);i({days:(0,m.Z)(r,0,99),hours:(0,m.Z)(n,0,99),minutes:(0,m.Z)(c,0,99),seconds:(0,m.Z)(o,0,99)})};e();let r=setInterval(e,1e3);return()=>clearInterval(r)}),[t,s,a,l]),s?(0,h.jsxs)("span",{className:"countdown font-mono",children:[(0,h.jsx)("span",{style:{"--value":n.hours}}),"h",(0,h.jsx)("span",{style:{"--value":n.minutes}}),"m",(0,h.jsx)("span",{style:{"--value":n.seconds}}),"s"]}):(0,h.jsxs)("span",{className:"countdown font-mono",children:[(0,h.jsx)("span",{style:{"--value":n.days}}),"d",(0,h.jsx)("span",{style:{"--value":n.hours}}),"h",(0,h.jsx)("span",{style:{"--value":n.minutes}}),"m",(0,h.jsx)("span",{style:{"--value":n.seconds}}),"s"]})}f.defaultProps={hideDays:!1,pause:!1,forceZero:!1};const w=f;var p=s(2564);function j(){const[e,t]=r.useState([]),[s,c]=r.useState(!0),[x,u]=r.useState(""),[m,f]=r.useState([]),[w,p]=r.useState(window.player.requests_core.status),[j,y]=r.useState(window.player.requests_core.probable_next_request);return(0,r.useEffect)((()=>{window.player.requests_core.get_tracks().then((e=>{t(e),f(e),c(!1)}))}),[]),(0,r.useEffect)((()=>{f(""===x?e:e.filter((e=>e.title.toLowerCase().includes(x.toLowerCase())||e.artist.toLowerCase().includes(x.toLowerCase()))))}),[x,e]),(0,r.useEffect)((()=>{let e=setInterval((()=>{window.player.requests_core.update_throttle_status(),p(window.player.requests_core.status),y(window.player.requests_core.probable_next_request)}),1e3);return function(){clearInterval(e)}}),[]),(0,h.jsxs)("div",{className:"flex flex-col w-full",children:[(0,h.jsx)("div",{className:"text-2xl text-white",children:"Request a Song"}),(0,h.jsx)("input",{type:"text",placeholder:"Search...",className:"input input-bordered w-full",onChange:e=>u(e.target.value)}),"temporary_throttled"===w||"daily_throttled"===w?(0,h.jsxs)("div",{className:"text-xl text-white",children:["You've been throttled! Try again in about"," ",(0,h.jsx)(i.Z,{to:j,hideDays:!0})]}):(0,h.jsx)(h.Fragment,{}),(0,h.jsxs)("div",{className:"overscroll-contain overflow-auto h-96",children:[s?(0,o.z3)():m.map((e=>{var t;return(0,h.jsxs)("div",{className:"flex flex-row items-center border-t p-2 w-full",children:[(0,h.jsx)(n.LazyLoadImage,{src:null!==(t=e.artwork.url)&&void 0!==t?t:d,className:"w-16 h-16 rounded-lg",alt:"",effect:"opacity",placeholder:(0,h.jsx)(o.yM,{})}),(0,h.jsxs)("div",{className:"flex flex-col px-4",children:[(0,h.jsx)("div",{className:"text-white",children:e.title}),(0,h.jsx)("div",{className:"text-white",children:e.artist})]}),(0,h.jsx)("div",{className:"flex flex-row items-center justify-end flex-grow",children:(0,h.jsx)(l.G,{onClick:async()=>{try{await window.player.requests_core.request(e.id)}catch(t){}p(window.player.requests_core.status),y(window.player.requests_core.probable_next_request)},icon:a.XS,className:"text-white text-xl p-2 cursor-pointer"})})]},e.id)})),0===m.length&&0!==e.length?(0,h.jsx)("div",{className:"text-white text-xl",children:"No results found"}):(0,h.jsx)(h.Fragment,{}),0===e.length?(0,h.jsx)("div",{className:"text-white text-xl",children:"Requests disabled!"}):(0,h.jsx)(h.Fragment,{})]})]})}const y=function(){const[e,t]=r.useState(!1),[s,a]=r.useState(!1),[l,n]=r.useState(!1),[o,m]=r.useState(""),[f,y]=r.useState(!1),[v,b]=r.useState("Loading..."),[N,g]=r.useState("Loading..."),[_,S]=r.useState(d),[k,q]=r.useState(null),[C,D]=r.useState(new Date),[Z,L]=r.useState(!1);return(0,r.useEffect)((()=>{window.player.start_fast_refresh();let e=e=>{N!==e.host_string&&(g(e.host_string),"Loading..."!==e.host_string&&"Max Jr."!==e.host_string?s&&y(!0):s&&y(!1)),l&&(n(!1),m(""),window.player.play())};window.player.on("metadata",e);let t=e=>{q((0,u.Ai)()[0]||(0,u.Y0)()[0]),L((0,u.Ai)().length>0),b(e.title),S(e.album_art)};return window.player.on("current_track",t),function(){window.player.stop_refreshing(),window.player.unbind("metadata",e),window.player.unbind("current_track",t)}})),(0,r.useEffect)((()=>{D(new Date),window.player.volume(1),f?window.player.play():window.player.unload()}),[f]),(0,h.jsxs)("div",{children:[(0,h.jsx)(c.Z,{}),(0,h.jsx)("h1",{className:"text-4xl text-center",children:"KRNL Dev Player"}),(0,h.jsx)("h2",{className:"text-2xl text-center",children:"For the info desk and/or totallynotmark6!"}),(0,h.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[e?(0,h.jsx)("div",{className:"btn btn-disabled btn-primary mx-2","data-theme":"dark",children:"Primed"}):(0,h.jsx)("button",{className:"btn btn-primary mx-2",onClick:async()=>{t(!0);let e=new Audio(x);await e.play()},children:"Prime"}),(0,h.jsx)("label",{htmlFor:"requests-modal",className:"btn btn-secondary mx-2 cursor-pointer",id:"requests-modal-icon",children:"Open Request Menu"})]}),e?(0,h.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[s?(0,h.jsx)("button",{className:"btn btn-primary mx-2",onClick:()=>a(!1),children:"Stop Monitoring"}):(0,h.jsx)("button",{className:"btn btn-primary mx-2",onClick:()=>a(!0),children:"Start Monitoring"}),f?(0,h.jsx)("button",{className:"btn btn-secondary mx-2",onClick:()=>y(!1),children:"Pause"}):(0,h.jsx)("button",{className:"btn btn-accent mx-2",onClick:()=>y(!0),children:"Play"}),l?(0,h.jsx)("div",{className:"btn btn-error mx-2 btn-disabled",children:"Skipping"}):(0,h.jsx)("button",{className:"btn btn-error mx-2",onClick:()=>{var e;n(!0),window.player.unload(),m((null===(e=window.player.player_data)||void 0===e?void 0:e.current_track.title)||"")},children:"Skip"})]}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("div",{className:"text-xl text-center",children:(0,h.jsx)(w,{from:C,forceZero:!f})}),(0,h.jsxs)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:[(0,h.jsx)("img",{src:_,alt:"Album Art",className:"rounded-lg object-cover place-self-center w-1/12 h-1/12 select-none pointer-events-none transition duration-500 "+(f?"":" filter grayscale")}),(0,h.jsxs)("div",{className:"flex flex-col justify-center mx-4",children:[(0,h.jsx)("div",{className:"text-2xl text-center",children:v}),(0,h.jsx)("div",{className:"text-xl text-center",children:N})]})]}),(0,h.jsx)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:(0,h.jsxs)("div",{className:"flex flex-col justify-center mx-4",children:[(0,h.jsx)("div",{className:"text-3xl text-center",children:"Next Scheduled Show"}),k?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"text-2xl text-center",children:k.name}),(0,h.jsx)("div",{className:"text-xl text-center",children:k.hosts.map((e=>e.name)).join(" & ")}),(0,h.jsx)("div",{className:"text-xl text-center",children:Z?(0,h.jsxs)("div",{className:"text-red-400",children:[(0,h.jsx)("div",{children:"Ends in:"}),(0,h.jsx)(i.Z,{to:k.schedule.endToDate()||new Date,hideDays:!1})]}):(0,h.jsx)(i.Z,{to:k.schedule.getNextOccurance()||new Date,hideDays:!1})})]}):(0,h.jsx)("div",{className:"text-xl text-center",children:"No shows scheduled"})]})}),(0,h.jsx)("div",{className:"flex flex-wrap justify-center p-4 w-full",children:(0,h.jsx)("button",{className:"btn btn-error mx-2",onClick:async()=>{await p.Am.promise(new Promise(((e,t)=>{setTimeout(t,2760)})),{pending:"Running func setupNotifs()",success:"it worked",error:"it failed!!!!!1!1"})},children:"Run Dev Func (DO NOT PRESS)"})}),(0,h.jsx)("input",{type:"checkbox",id:"requests-modal",className:"modal-toggle","data-theme":"luxury"}),(0,h.jsx)("div",{className:"modal modal-middle","data-theme":"luxury",children:(0,h.jsxs)("div",{className:"modal-box",children:[(0,h.jsx)("div",{className:"flex flex-row items-center",children:(0,h.jsx)(j,{})}),(0,h.jsx)("div",{className:"modal-action",children:(0,h.jsx)("label",{htmlFor:"requests-modal",className:"btn",children:"Close"})})]})})]})}},3363:(e,t,s)=>{e.exports=s.p+"static/media/placeholder.0f8aa0177050bfec15f4.jpg"}}]);
//# sourceMappingURL=831.bba5392c.chunk.js.map